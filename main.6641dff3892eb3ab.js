(self.webpackChunkejercicioAuthGuard=self.webpackChunkejercicioAuthGuard||[]).push([[179],{278:(od,ie,ri)=>{"use strict";function Te(n){return"function"==typeof n}function T(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ts=T(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function zo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof ts?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bi(s)}catch(o){e=e??[],o instanceof ts?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ts(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bi(e);else{if(e instanceof Hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zo(t,e)}remove(e){const{_finalizers:t}=this;t&&zo(t,e),e instanceof Hn&&e._removeParent(this)}}Hn.EMPTY=(()=>{const n=new Hn;return n.closed=!0,n})();const Nu=Hn.EMPTY;function ln(n){return n instanceof Hn||n&&"closed"in n&&Te(n.remove)&&Te(n.add)&&Te(n.unsubscribe)}function bi(n){Te(n)?n():n.unsubscribe()}const Ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ru={setTimeout(n,e,...t){const{delegate:r}=Ru;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ru;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jp(n){Ru.setTimeout(()=>{const{onUnhandledError:e}=Ei;if(!e)throw n;e(n)})}function qo(){}const ad=kt("C",void 0,void 0);function kt(n,e,t){return{kind:n,value:e,error:t}}let wr=null;function Qt(n){if(Ei.useDeprecatedSynchronousErrorHandling){const e=!wr;if(e&&(wr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=wr;if(wr=null,t)throw r}}else n()}class ns extends Hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ln(e)&&e.add(this)):this.destination=rs}static create(e,t,r){return new qs(e,t,r)}next(e){this.isStopped?Gn(function ud(n){return kt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gn(function Ko(n){return kt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gn(ad,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const iw=Function.prototype.bind;function Pu(n,e){return iw.call(n,e)}class Ou{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ks(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ks(r)}else Ks(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ks(t)}}}class qs extends ns{constructor(e,t,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ei.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pu(e.next,s),error:e.error&&Pu(e.error,s),complete:e.complete&&Pu(e.complete,s)}):i=e}this.destination=new Ou(i)}}function Ks(n){Ei.useDeprecatedSynchronousErrorHandling?function Fe(n){Ei.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=n)}(n):jp(n)}function Gn(n,e){const{onStoppedNotification:t}=Ei;t&&Ru.setTimeout(()=>t(n,e))}const rs={closed:!0,next:qo,error:function Fu(n){throw n},complete:qo},Br="function"==typeof Symbol&&Symbol.observable||"@@observable";function is(n){return n}function Ii(...n){return Qs(n)}function Qs(n){return 0===n.length?is:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function sw(n){return n&&n instanceof ns||function ld(n){return n&&Te(n.next)&&Te(n.error)&&Te(n.complete)}(n)&&ln(n)}(t)?t:new qs(t,r,i);return Qt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Qo(r))((i,s)=>{const o=new qs({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Br](){return this}pipe(...t){return Qs(t)(this)}toPromise(t){return new(t=Qo(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Qo(n){var e;return null!==(e=n??Ei.Promise)&&void 0!==e?e:Promise}const cd=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let br=(()=>{class n extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Yo(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cd}next(t){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Nu:(this.currentObservers=null,s.push(t),new Hn(()=>{this.currentObservers=null,zo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ye;return t.source=this,t}}return n.create=(e,t)=>new Yo(e,t),n})();class Yo extends br{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Nu}}function Hp(n){return Te(n?.lift)}function nt(n){return e=>{if(Hp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(n,e,t,r,i){return new ii(n,e,t,r,i)}class ii extends ns{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ae(n,e){return nt((t,r)=>{let i=0;t.subscribe(Pe(r,s=>{r.next(n.call(e,s,i++))}))})}function hd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function os(n){return this instanceof os?(this.v=n,this):new os(n)}function uw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(g){return new Promise(function(y,w){s.push([p,g,y,w])>1||a(p,g)})})}function a(p,g){try{!function u(p){p.value instanceof os?Promise.resolve(p.value.v).then(l,c):d(s[0][2],p)}(r[p](g))}catch(y){d(s[0][3],y)}}function l(p){a("next",p)}function c(p){a("throw",p)}function d(p,g){p(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function fd(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const Vu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function zp(n){return Te(n?.then)}function qp(n){return Te(n[Br])}function Ys(n){return Symbol.asyncIterator&&Te(n?.[Symbol.asyncIterator])}function Kp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qp=function dw(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yp(n){return Te(n?.[Qp])}function Uu(n){return uw(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield os(t.read());if(i)return yield os(void 0);yield yield os(r)}}finally{t.releaseLock()}})}function Xp(n){return Te(n?.getReader)}function Er(n){if(n instanceof Ye)return n;if(null!=n){if(qp(n))return function hw(n){return new Ye(e=>{const t=n[Br]();if(Te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Vu(n))return function fw(n){return new Ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(zp(n))return function pw(n){return new Ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jp)})}(n);if(Ys(n))return Zp(n);if(Yp(n))return function gw(n){return new Ye(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Xp(n))return function mw(n){return Zp(Uu(n))}(n)}throw Kp(n)}function Zp(n){return new Ye(e=>{(function yw(n,e){var t,r,i,s;return function Lu(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cw(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function oi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function It(n,e,t=1/0){return Te(e)?It((r,i)=>ae((s,o)=>e(r,s,i,o))(Er(n(r,i))),t):("number"==typeof e&&(t=e),nt((r,i)=>function _w(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const p=()=>{d&&!u.length&&!l&&e.complete()},g=w=>l<r?y(w):u.push(w),y=w=>{s&&e.next(w),l++;let b=!1;Er(t(w,c++)).subscribe(Pe(e,D=>{i?.(D),s?g(D):e.next(D)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;u.length&&l<r;){const D=u.shift();o?oi(e,o,()=>y(D)):y(D)}p()}catch(D){e.error(D)}}))};return n.subscribe(Pe(e,g,()=>{d=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function $r(n=1/0){return It(is,n)}const Ir=new Ye(n=>n.complete());function md(n){return n[n.length-1]}function Jp(n){return Te(md(n))?n.pop():void 0}function Xs(n){return function vw(n){return n&&Te(n.schedule)}(md(n))?n.pop():void 0}function Bu(n,e=0){return nt((t,r)=>{t.subscribe(Pe(r,i=>oi(r,n,()=>r.next(i),e),()=>oi(r,n,()=>r.complete(),e),i=>oi(r,n,()=>r.error(i),e)))})}function $u(n,e=0){return nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ng(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ye(t=>{oi(t,e,()=>{const r=n[Symbol.asyncIterator]();oi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yt(n,e){return e?function Cw(n,e){if(null!=n){if(qp(n))return function eg(n,e){return Er(n).pipe($u(e),Bu(e))}(n,e);if(Vu(n))return function tg(n,e){return new Ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(zp(n))return function bw(n,e){return Er(n).pipe($u(e),Bu(e))}(n,e);if(Ys(n))return ng(n,e);if(Yp(n))return function Ew(n,e){return new Ye(t=>{let r;return oi(t,e,()=>{r=n[Qp](),oi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(n,e);if(Xp(n))return function Iw(n,e){return ng(Uu(n),e)}(n,e)}throw Kp(n)}(n,e):Er(n)}function ju(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new qs({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function yd(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function We(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(We).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function _d(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const rg=Be({__forward_ref__:Be});function ze(n){return n.__forward_ref__=ze,n.toString=function(){return We(this())},n}function X(n){return Ci(n)?n():n}function Ci(n){return"function"==typeof n&&n.hasOwnProperty(rg)&&n.__forward_ref__===ze}function Hu(n){return n&&!!n.\u0275providers}const Gu="https://g.co/ng/security#xss";class R extends Error{constructor(e,t){super(function Wu(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Di(n,e){throw new R(-201,!1)}function dn(n,e){null==n&&function Ve(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zo(n){return vd(n,qu)||vd(n,ag)}function vd(n,e){return n.hasOwnProperty(e)?n[e]:null}function og(n){return n&&(n.hasOwnProperty(wd)||n.hasOwnProperty(Zs))?n[wd]:null}const qu=Be({\u0275prov:Be}),wd=Be({\u0275inj:Be}),ag=Be({ngInjectableDef:Be}),Zs=Be({ngInjectorDef:Be});var Z=(()=>((Z=Z||{})[Z.Default=0]="Default",Z[Z.Host=1]="Host",Z[Z.Self=2]="Self",Z[Z.SkipSelf=4]="SkipSelf",Z[Z.Optional=8]="Optional",Z))();let bd;function zn(n){const e=bd;return bd=n,e}function Ed(n,e,t){const r=Zo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Z.Optional?null:void 0!==e?e:void Di(We(n))}const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jo={},Id="__NG_DI_FLAG__",Ku="ngTempTokenPath",lg=/\n/gm,Dd="__source";let jr;function Js(n){const e=jr;return jr=n,e}function Fw(n,e=Z.Default){if(void 0===jr)throw new R(-203,!1);return null===jr?Ed(n,void 0,e):jr.get(n,e&Z.Optional?null:void 0,e)}function H(n,e=Z.Default){return(function Pw(){return bd}()||Fw)(X(n),e)}function Ce(n,e=Z.Default){return H(n,Qu(e))}function Qu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Td(n){const e=[];for(let t=0;t<n.length;t++){const r=X(n[t]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Lw(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function ea(n,e){return n[Id]=e,n.prototype[Id]=e,n}function Lw(n){return n[Id]}function Si(n){return{toString:n}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Hr=(()=>{return(n=Hr||(Hr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Hr;var n})();const Dr={},ke=[],ta=Be({\u0275cmp:Be}),na=Be({\u0275dir:Be}),Ad=Be({\u0275pipe:Be}),hg=Be({\u0275mod:Be}),ai=Be({\u0275fac:Be}),Ai=Be({__NG_ELEMENT_ID__:Be});let Uw=0;function Gr(n){return Si(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Hr.Emulated,id:"c"+Uw++,styles:n.styles||ke,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=pg(n.inputs,r),i.outputs=pg(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(fg).filter(xd):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(fn).filter(xd):null,i})}function fg(n){return Oe(n)||Xt(n)}function xd(n){return null!==n}function Ut(n){return Si(()=>({type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pg(n,e){if(null==n)return Dr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const te=Gr;function Oe(n){return n[ta]||null}function Xt(n){return n[na]||null}function fn(n){return n[Ad]||null}function Rn(n,e){const t=n[hg]||null;if(!t&&!0===e)throw new Error(`Type ${We(n)} does not have '\u0275mod' property.`);return t}function Kn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ar(n){return Array.isArray(n)&&!0===n[1]}function Nd(n){return 0!=(4&n.flags)}function oa(n){return n.componentOffset>-1}function ls(n){return 1==(1&n.flags)}function h(n){return null!==n.template}function f(n){return 0!=(256&n[2])}function ua(n,e){return n.hasOwnProperty(ai)?n[ai]:null}class L3{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zr(){return SN}function SN(n){return n.type.prototype.ngOnChanges&&(n.setInput=U3),V3}function V3(){const n=xN(this),e=n?.current;if(e){const t=n.previous;if(t===Dr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function U3(n,e,t,r){const i=this.declaredInputs[t],s=xN(n)||function B3(n,e){return n[AN]=e}(n,{previous:Dr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new L3(u&&u.currentValue,e,a===Dr),n[r]=e}zr.ngInherit=!0;const AN="__ngSimpleChanges__";function xN(n){return n[AN]||null}function gn(n){for(;Array.isArray(n);)n=n[0];return n}function vg(n,e){return gn(e[n])}function xr(n,e){return gn(e[n.index])}function NN(n,e){return n.data[e]}function kr(n,e){const t=e[n];return Kn(t)?t:t[0]}function wg(n){return 64==(64&n[2])}function ro(n,e){return null==e?null:n[e]}function RN(n){n[18]=0}function Hw(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ue={lFrame:WN(null),bindingsEnabled:!0};function ON(){return ue.bindingsEnabled}function k(){return ue.lFrame.lView}function Me(){return ue.lFrame.tView}function mn(){let n=VN();for(;null!==n&&64===n.type;)n=n.parent;return n}function VN(){return ue.lFrame.currentTNode}function ki(n,e){const t=ue.lFrame;t.currentTNode=n,t.isParent=e}function Gw(){return ue.lFrame.isParent}function Ju(){return ue.lFrame.bindingIndex++}function J3(n,e){const t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,zw(e)}function zw(n){ue.lFrame.currentDirectiveIndex=n}function jN(){return ue.lFrame.currentQueryIndex}function Kw(n){ue.lFrame.currentQueryIndex=n}function t5(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function HN(n,e,t){if(t&Z.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Z.Host||(i=t5(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ue.lFrame=GN();return r.currentTNode=e,r.lView=n,!0}function Qw(n){const e=GN(),t=n[1];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GN(){const n=ue.lFrame,e=null===n?null:n.child;return null===e?WN(n):e}function WN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function zN(){const n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qN=zN;function Yw(){const n=zN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yn(){return ue.lFrame.selectedIndex}function la(n){ue.lFrame.selectedIndex=n}function ft(){const n=ue.lFrame;return NN(n.tView,n.selectedIndex)}function bg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Eg(n,e,t){KN(n,e,3,t)}function Ig(n,e,t,r){(3&n[2])===t&&KN(n,e,t,r)}function Xw(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function KN(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(c5(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function c5(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Pd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Jw(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];YN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function QN(n){return 3===n||4===n||6===n}function YN(n){return 64===n.charCodeAt(0)}function Od(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||XN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function XN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function ZN(n){return-1!==n}function Cg(n){return 32767&n}function Dg(n,e){let t=function p5(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let eb=!0;function Tg(n){const e=eb;return eb=n,e}let g5=0;const Mi={};function Sg(n,e){const t=tR(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,tb(r.data,n),tb(e,null),tb(r.blueprint,null));const i=nb(n,e),s=n.injectorIndex;if(ZN(i)){const o=Cg(i),a=Dg(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function tb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tR(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=uR(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function rb(n,e,t){!function m5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ai)&&(r=t[Ai]),null==r&&(r=t[Ai]=g5++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function nR(n,e,t){if(t&Z.Optional||void 0!==n)return n;Di()}function rR(n,e,t,r){if(t&Z.Optional&&void 0===r&&(r=null),!(t&(Z.Self|Z.Host))){const i=n[9],s=zn(void 0);try{return i?i.get(e,r,t&Z.Optional):Ed(e,r,t&Z.Optional)}finally{zn(s)}}return nR(r,0,t)}function iR(n,e,t,r=Z.Default,i){if(null!==n){if(1024&e[2]){const o=function b5(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=sR(s,o,t,r|Z.Self,Mi);if(a!==Mi)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,Mi,r);if(c!==Mi)return c}u=uR(o),o=o[15]}s=u}return i}(n,e,t,r,Mi);if(o!==Mi)return o}const s=sR(n,e,t,r,Mi);if(s!==Mi)return s}return rR(e,t,r,i)}function sR(n,e,t,r,i){const s=function v5(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ai)?n[Ai]:void 0;return"number"==typeof e?e>=0?255&e:w5:e}(t);if("function"==typeof s){if(!HN(e,n,r))return r&Z.Host?nR(i,0,r):rR(e,t,r,i);try{const o=s(r);if(null!=o||r&Z.Optional)return o;Di()}finally{qN()}}else if("number"==typeof s){let o=null,a=tR(n,e),u=-1,l=r&Z.Host?e[16][6]:null;for((-1===a||r&Z.SkipSelf)&&(u=-1===a?nb(n,e):e[a+8],-1!==u&&aR(r,!1)?(o=e[1],a=Cg(u),e=Dg(u,e)):a=-1);-1!==a;){const c=e[1];if(oR(s,a,c.data)){const d=_5(a,e,t,o,r,l);if(d!==Mi)return d}u=e[a+8],-1!==u&&aR(r,e[1].data[a+8]===l)&&oR(s,a,e)?(o=c,a=Cg(u),e=Dg(u,e)):a=-1}}return i}function _5(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=Ag(a,o,t,null==r?oa(a)&&eb:r!=o&&0!=(3&a.type),i&Z.Host&&s===a);return null!==c?ca(e,o,c,a):Mi}function Ag(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,p=i?a+c:n.directiveEnd;for(let g=r?a:a+c;g<p;g++){const y=o[g];if(g<u&&t===y||g>=u&&y.type===t)return g}if(i){const g=o[u];if(g&&h(g)&&g.type===t)return u}return null}function ca(n,e,t,r){let i=n[t];const s=e.data;if(function d5(n){return n instanceof Pd}(i)){const o=i;o.resolving&&function Sw(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Le(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=Tg(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?zn(o.injectImpl):null;HN(n,r,Z.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function l5(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=SN(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&zn(u),Tg(a),o.resolving=!1,qN()}}return i}function oR(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function aR(n,e){return!(n&Z.Self||n&Z.Host&&e)}class tl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iR(this._tNode,this._lView,e,Qu(r),t)}}function w5(){return new tl(mn(),k())}function yn(n){return Si(()=>{const e=n.prototype.constructor,t=e[ai]||ib(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||ib(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ib(n){return Ci(n)?()=>{const e=ib(X(n));return e&&e()}:ua(n)}function uR(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const rl="__parameters__";function sl(n,e,t){return Si(()=>{const r=function sb(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(rl)?u[rl]:Object.defineProperty(u,rl,{value:[]})[rl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class W{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function da(n,e){n.forEach(t=>Array.isArray(t)?da(t,e):e(t))}function cR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function kg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Mr(n,e,t){let r=ol(n,e);return r>=0?n[1|r]=t:(r=~r,function D5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ab(n,e){const t=ol(n,e);if(t>=0)return n[1|t]}function ol(n,e){return function dR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Nt=ea(sl("Optional"),8),Ud=ea(sl("SkipSelf"),4);var lr=(()=>((lr=lr||{})[lr.Important=1]="Important",lr[lr.DashCase=2]="DashCase",lr))();const fb=new Map;let q5=0;const gb="__ngContext__";function On(n,e){Kn(e)?(n[gb]=e[20],function Q5(n){fb.set(n[20],n)}(e)):n[gb]=e}function yb(n,e){return undefined(n,e)}function Hd(n){const e=n[3];return Ar(e)?e[3]:e}function _b(n){return MR(n[13])}function vb(n){return MR(n[4])}function MR(n){for(;null!==n&&!Ar(n);)n=n[4];return n}function ul(n,e,t,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Kn(r)&&(o=!0,r=r[0]);const a=gn(r);0===n&&null!==t?null==i?LR(e,t,a):ha(e,t,a,i||null,!0):1===n&&null!==t?ha(e,t,a,i||null,!0):2===n?function Tb(n,e,t){const r=Pg(n,e);r&&function g4(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function _4(n,e,t,r,i){const s=t[7];s!==gn(t)&&ul(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Gd(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function bb(n,e,t){return n.createElement(e,t)}function RR(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Hw(i,-1)),t.splice(r,1)}function Eb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&RR(i,r),e>0&&(n[t-1][4]=r[4]);const s=kg(n,10+e);!function a4(n,e){Gd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function PR(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Gd(n,e,t,3,null,null),function c4(n){let e=n[13];if(!e)return Ib(n[1],n);for(;e;){let t=null;if(Kn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Kn(e)&&Ib(e[1],e),e=e[3];null===e&&(e=n),Kn(e)&&Ib(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ib(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function p4(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Pd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function f4(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ar(e[3])){t!==e[3]&&RR(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Y5(n){fb.delete(n[20])}(e)}}function OR(n,e,t){return function FR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Hr.None||s===Hr.Emulated)return null}return xr(r,t)}}(n,e.parent,t)}function ha(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LR(n,e,t){n.appendChild(e,t)}function VR(n,e,t,r,i){null!==r?ha(n,e,t,r,i):LR(n,e,t)}function Pg(n,e){return n.parentNode(e)}let xb,Vg,$R=function BR(n,e,t){return 40&n.type?xr(n,t):null};function Og(n,e,t,r){const i=OR(n,r,e),s=e[11],a=function UR(n,e,t){return $R(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)VR(s,i,t[u],a,!1);else VR(s,i,t,a,!1)}function Fg(n,e){if(null!==e){const t=e.type;if(3&t)return xr(e,n);if(4&t)return Db(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Fg(n,r);{const i=n[e.index];return Ar(i)?Db(-1,i):gn(i)}}if(32&t)return yb(e,n)()||gn(n[e.index]);{const r=HR(n,e);return null!==r?Array.isArray(r)?r[0]:Fg(Hd(n[16]),r):Fg(n,e.next)}}return null}function HR(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Db(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Fg(r,i)}return e[7]}function Sb(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&On(gn(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Sb(n,e,t.child,r,i,s,!1),ul(e,n,i,a,s);else if(32&u){const l=yb(t,r);let c;for(;c=l();)ul(e,n,i,c,s);ul(e,n,i,a,s)}else 16&u?GR(n,e,r,t,i,s):ul(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Gd(n,e,t,r,i,s){Sb(t,r,n.firstChild,e,i,s,!1)}function GR(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ul(e,n,i,u[l],s);else Sb(n,e,u,o[3],i,s,!0)}function WR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zR(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Jw(n,e,r),null!==i&&WR(n,e,i),null!==s&&function w4(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function YR(n){return function kb(){if(void 0===Vg&&(Vg=null,qe.trustedTypes))try{Vg=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vg}()?.createScriptURL(n)||n}class XR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gu})`}}function io(n){return n instanceof XR?n.changingThisBreaksApplicationSecurity:n}function Wd(n,e){const t=function k4(n){return n instanceof XR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Gu})`)}return t===e}const P4=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Rt=(()=>((Rt=Rt||{})[Rt.NONE=0]="NONE",Rt[Rt.HTML=1]="HTML",Rt[Rt.STYLE=2]="STYLE",Rt[Rt.SCRIPT=3]="SCRIPT",Rt[Rt.URL=4]="URL",Rt[Rt.RESOURCE_URL=5]="RESOURCE_URL",Rt))();function Ob(n){const e=qd();return e?e.sanitize(Rt.URL,n)||"":Wd(n,"URL")?io(n):function Mb(n){return(n=String(n)).match(P4)?n:"unsafe:"+n}(re(n))}function i1(n){const e=qd();if(e)return YR(e.sanitize(Rt.RESOURCE_URL,n)||"");if(Wd(n,"ResourceURL"))return YR(io(n));throw new R(904,!1)}function qd(){const n=k();return n&&n[12]}const Bg=new W("ENVIRONMENT_INITIALIZER"),o1=new W("INJECTOR",-1),a1=new W("INJECTOR_DEF_TYPES");class u1{get(e,t=Jo){if(t===Jo){const r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return t}}function q4(...n){return{\u0275providers:l1(0,n),\u0275fromNgModule:!0}}function l1(n,...e){const t=[],r=new Set;let i;return da(e,s=>{const o=s;Fb(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&c1(i,t),t}function c1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Lb(i,s=>{e.push(s)})}}function Fb(n,e,t,r){if(!(n=X(n)))return!1;let i=null,s=og(n);const o=!s&&Oe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=og(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Fb(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{da(s.imports,c=>{Fb(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&c1(l,e)}if(!a){const l=ua(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:ke},{provide:a1,useValue:i,multi:!0},{provide:Bg,useValue:()=>H(i),multi:!0})}const u=s.providers;null==u||a||Lb(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}function Lb(n,e){for(let t of n)Hu(t)&&(t=t.\u0275providers),Array.isArray(t)?Lb(t,e):e(t)}const K4=Be({provide:String,useValue:Be});function Vb(n){return null!==n&&"object"==typeof n&&K4 in n}function pa(n){return"function"==typeof n}const Ub=new W("Set Injector scope."),$g={},Y4={};let Bb;function jg(){return void 0===Bb&&(Bb=new u1),Bb}class fs{}class f1 extends fs{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jb(e,o=>this.processProvider(o)),this.records.set(o1,ll(void 0,this)),i.has("environment")&&this.records.set(fs,ll(void 0,this));const s=this.records.get(Ub);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(a1.multi,ke,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Js(this),r=zn(void 0);try{return e()}finally{Js(t),zn(r)}}get(e,t=Jo,r=Z.Default){this.assertNotDestroyed(),r=Qu(r);const i=Js(this),s=zn(void 0);try{if(!(r&Z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function t8(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(e)&&Zo(e);a=u&&this.injectableDefInScope(u)?ll($b(e),$g):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Z.Self?jg():this.parent).get(e,t=r&Z.Optional&&t===Jo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ku]=o[Ku]||[]).unshift(We(e)),i)throw o;return function Sd(n,e,t,r){const i=n[Ku];throw e[Dd]&&i.unshift(e[Dd]),n.message=function dg(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):We(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(lg,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ku]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{zn(s),Js(i)}}resolveInjectorInitializers(){const e=Js(this),t=zn(void 0);try{const r=this.get(Bg.multi,ke,Z.Self);for(const i of r)i()}finally{Js(e),zn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let t=pa(e=X(e))?e:X(e&&e.provide);const r=function Z4(n){return Vb(n)?ll(void 0,n.useValue):ll(p1(n),$g)}(e);if(pa(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ll(void 0,$g,!0),i.factory=()=>Td(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===$g&&(t.value=Y4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function e8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=X(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function $b(n){const e=Zo(n),t=null!==e?e.factory:ua(n);if(null!==t)return t;if(n instanceof W)throw new R(204,!1);if(n instanceof Function)return function X4(n){const e=n.length;if(e>0)throw function Vd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new R(204,!1);const t=function Nw(n){const e=n&&(n[qu]||n[ag]);if(e){const t=function Rw(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new R(204,!1)}function p1(n,e,t){let r;if(pa(n)){const i=X(n);return ua(i)||$b(i)}if(Vb(n))r=()=>X(n.useValue);else if(function h1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Td(n.deps||[]));else if(function d1(n){return!(!n||!n.useExisting)}(n))r=()=>H(X(n.useExisting));else{const i=X(n&&(n.useClass||n.provide));if(!function J4(n){return!!n.deps}(n))return ua(i)||$b(i);r=()=>new i(...Td(n.deps))}return r}function ll(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jb(n,e){for(const t of n)Array.isArray(t)?jb(t,e):t&&Hu(t)?jb(t.\u0275providers,e):e(t)}class n8{}class g1{}class i8{resolveComponentFactory(e){throw function r8(n){const e=Error(`No component factory found for ${We(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Kd=(()=>{class n{}return n.NULL=new i8,n})();function s8(){return cl(mn(),k())}function cl(n,e){return new Nr(xr(n,e))}let Nr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=s8,n})();function o8(n){return n instanceof Nr?n.nativeElement:n}class y1{}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function a8(){const n=k(),t=kr(mn().index,n);return(Kn(t)?t:n)[11]}(),n})(),u8=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>null}),n})();class dl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _1=new dl("15.1.2"),Hb={};function Wb(n){return n.ngOriginalError}class hl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wb(e);for(;t&&Wb(t);)t=Wb(t);return t||null}}function gs(n){return n instanceof Function?n():n}function w1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const b1="ng-template";function v8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==w1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function E1(n){return 4===n.type&&n.value!==b1}function w8(n,e,t){return e===(4!==n.type||t?n.value:b1)}function b8(n,e,t){let r=4;const i=n.attrs||[],s=function C8(n){for(let e=0;e<n.length;e++)if(QN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!w8(n,u,t)||""===u&&1===e.length){if(li(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!v8(n.attrs,l,t)){if(li(r))return!1;o=!0}continue}const d=E8(8&r?"class":u,i,E1(n),t);if(-1===d){if(li(r))return!1;o=!0;continue}if(""!==l){let p;p=d>s?"":i[d+1].toLowerCase();const g=8&r?p:null;if(g&&-1!==w1(g,l,0)||2&r&&l!==p){if(li(r))return!1;o=!0}}}}else{if(!o&&!li(r)&&!li(u))return!1;if(o&&li(u))continue;o=!1,r=u|1&r}}return li(r)||o}function li(n){return 0==(1&n)}function E8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function D8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function I1(n,e,t=!1){for(let r=0;r<e.length;r++)if(b8(n,e[r],t))return!0;return!1}function C1(n,e){return n?":not("+e.trim()+")":e}function S8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!li(o)&&(e+=C1(s,i),i=""),r=o,s=s||!li(r);t++}return""!==i&&(e+=C1(s,i)),e}const le={};function so(n){D1(Me(),k(),Yn()+n,!1)}function D1(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Eg(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ig(e,s,0,t)}la(t)}function x1(n,e=null,t=null,r){const i=k1(n,e,t,r);return i.resolveInjectorInitializers(),i}function k1(n,e=null,t=null,r,i=new Set){const s=[t||ke,q4(n)];return r=r||("object"==typeof n?void 0:We(n)),new f1(s,e||jg(),r||null,i)}let Xn=(()=>{class n{static create(t,r){if(Array.isArray(t))return x1({name:""},r,t,"");{const i=t.name??"";return x1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Jo,n.NULL=new u1,n.\u0275prov=K({token:n,providedIn:"any",factory:()=>H(o1)}),n.__NG_ELEMENT_ID__=-1,n})();function x(n,e=Z.Default){const t=k();return null===t?H(n,e):iR(mn(),t,X(n),e)}function V1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Kw(t[r]),o.contentQueries(2,e[s],s)}}}function Gg(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),RN(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function K5(){return q5++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function gl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Yb(n,e,t,r,i){const s=VN(),o=Gw(),u=n.data[e]=function J8(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function Z3(){return ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Rd(){const n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ki(s,!0),s}function Qd(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Xb(n,e,t){Qw(e);try{const r=n.viewQuery;null!==r&&aE(1,r,t);const i=n.template;null!==i&&U1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&V1(n,e),n.staticViewQueries&&aE(2,n.viewQuery,t);const s=n.components;null!==s&&function Y8(n,e){for(let t=0;t<e.length;t++)_6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Yw()}}function Wg(n,e,t,r){const i=e[2];if(128!=(128&i)){Qw(e);try{RN(e),function BN(n){return ue.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&U1(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Eg(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Ig(e,l,0,null),Xw(e,0)}if(function m6(n){for(let e=_b(n);null!==e;e=vb(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||Hw(i[3],1),i[2]|=512}}}(e),function g6(n){for(let e=_b(n);null!==e;e=vb(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];wg(r)&&Wg(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&V1(n,e),o){const l=n.contentCheckHooks;null!==l&&Eg(e,l)}else{const l=n.contentHooks;null!==l&&Ig(e,l,1),Xw(e,1)}!function K8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)la(~i);else{const s=i,o=t[++r],a=t[++r];J3(o,s),a(2,e[s])}}}finally{la(-1)}}(n,e);const a=n.components;null!==a&&function Q8(n,e){for(let t=0;t<e.length;t++)y6(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&aE(2,u,r),o){const l=n.viewCheckHooks;null!==l&&Eg(e,l)}else{const l=n.viewHooks;null!==l&&Ig(e,l,2),Xw(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Hw(e[3],-1))}finally{Yw()}}}function U1(n,e,t,r,i){const s=Yn(),o=2&r;try{la(-1),o&&e.length>22&&D1(n,e,22,!1),t(r,i)}finally{la(s)}}function Zb(n,e,t){if(Nd(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Jb(n,e,t){ON()&&(function s6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;oa(t)&&function h6(n,e,t){const r=xr(e,n),i=B1(t),s=n[10],o=zg(n,Gg(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Sg(t,e),On(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=ca(e,n,a,t);On(l,e),null!==o&&f6(0,a-i,l,u,0,o),h(u)&&(kr(t.index,e)[8]=ca(e,n,a,t))}}(n,e,t,xr(t,e)),64==(64&t.flags)&&z1(n,e,t))}function eE(n,e,t=xr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function B1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=tE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function tE(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,p=function X8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(c,d),g="function"==typeof l?l():l;return p[1]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1}}function $1(n,e,t,r){const i=K1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Q1(n).push(r,i.length-1))}function j1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?H1(t,e,i,s):r.hasOwnProperty(i)&&H1(t,e,r[i],s)}return t}function H1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Rr(n,e,t,r,i,s,o,a){const u=xr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(uE(n,t,c,r,i),oa(e)&&G1(t,e.index)):3&e.type&&(r=function t6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function G1(n,e){const t=kr(e,n);16&t[2]||(t[2]|=32)}function nE(n,e,t,r){let i=!1;if(ON()){const s=null===r?null:{"":-1},o=function a6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(I1(e,o.selectors,!1))if(r||(r=[]),h(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),rE(n,e,a.length)}else r.unshift(o),rE(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,W1(n,e,t,a,s,u)),s&&function u6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new R(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Od(t.mergedAttrs,t.attrs),i}function W1(n,e,t,r,i,s){for(let l=0;l<r.length;l++)rb(Sg(t,e),n,r[l].type);!function c6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=Qd(n,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=Od(t.mergedAttrs,c.hostAttrs),d6(n,t,e,u,c),l6(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function e6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],p=t?t.get(d):null,y=p?p.outputs:null;u=j1(d.inputs,c,u,p?p.inputs:null),l=j1(d.outputs,c,l,y);const w=null===u||null===o||E1(e)?null:p6(u,c,o);a.push(w)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function z1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function e5(){return ue.lFrame.currentDirectiveIndex}();try{la(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];zw(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&o6(u,l)}}finally{la(-1),zw(o)}}function o6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function rE(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function l6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;h(e)&&(t[""]=n)}}function d6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ua(i.type)),o=new Pd(s,h(i),x);n.blueprint[r]=o,t[r]=o,function r6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function i6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Qd(n,t,i.hostVars,le),i)}function Ni(n,e,t,r,i,s){const o=xr(n,e);!function iE(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?re(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function f6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function p6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function q1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function y6(n,e){const t=kr(e,n);if(wg(t)){const r=t[1];48&t[2]?Wg(r,t,r.template,t[8]):t[5]>0&&sE(t)}}function sE(n){for(let r=_b(n);null!==r;r=vb(r))for(let i=10;i<r.length;i++){const s=r[i];if(wg(s))if(512&s[2]){const o=s[1];Wg(o,s,o.template,s[8])}else s[5]>0&&sE(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=kr(t[r],n);wg(i)&&i[5]>0&&sE(i)}}function _6(n,e){const t=kr(e,n),r=t[1];(function v6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Xb(r,t,t[8])}function zg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function oE(n){for(;n;){n[2]|=32;const e=Hd(n);if(f(n)&&!e)return n;n=e}return null}function qg(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Wg(n,e,n.template,t)}catch(o){throw r&&X1(e,o),o}finally{i.end&&i.end()}}function aE(n,e,t){Kw(0),e(n,t)}function K1(n){return n[7]||(n[7]=[])}function Q1(n){return n.cleanup||(n.cleanup=[])}function X1(n,e){const t=n[9],r=t?t.get(hl,null):null;r&&r.handleError(e)}function uE(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Kg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=_d(i,a):2==s&&(r=_d(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Qg(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(gn(s)),Ar(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Qg(u[1],u,l,r)}const o=t.type;if(8&o)Qg(n,e,t.child,r);else if(32&o){const a=yb(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=HR(e,t);if(Array.isArray(a))r.push(...a);else{const u=Hd(e[16]);Qg(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Yd{get rootNodes(){const e=this._lView,t=e[1];return Qg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Eb(e,r),kg(t,r))}this._attachedToViewContainer=!1}PR(this._lView[1],this._lView)}onDestroy(e){$1(this._lView[1],this._lView,null,e)}markForCheck(){oE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l4(n,e){Gd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class w6 extends Yd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qg(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Z1 extends Kd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Oe(e);return new Xd(t,this.ngModule)}}function J1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class E6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qu(r);const i=this.injector.get(e,Hb,r);return i!==Hb||t===Hb?i:this.parentInjector.get(e,t,r)}}class Xd extends g1{get inputs(){return J1(this.componentDef.inputs)}get outputs(){return J1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function A8(n){return n.map(S8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof fs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new E6(e,s):e,a=o.get(y1,null);if(null===a)throw new R(407,!1);const u=o.get(u8,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function Z8(n,e,t){return n.selectRootElement(e,t===Hr.ShadowDom)}(l,r,this.componentDef.encapsulation):bb(l,c,function b6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),p=this.componentDef.onPush?288:272,g=tE(0,null,null,1,0,null,null,null,null,null),y=Gg(null,g,null,p,null,null,a,l,u,o,null);let w,b;Qw(y);try{const D=this.componentDef;let A,E=null;D.findHostDirectiveDefs?(A=[],E=new Map,D.findHostDirectiveDefs(D,A,E),A.push(D)):A=[D];const V=function C6(n,e){const t=n[1];return n[22]=e,gl(t,22,2,"#host",null)}(y,d),z=function D6(n,e,t,r,i,s,o,a){const u=i[1];!function T6(n,e,t,r){for(const i of n)e.mergedAttrs=Od(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Kg(e,e.mergedAttrs,!0),null!==t&&zR(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),c=Gg(i,B1(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return u.firstCreatePass&&rE(u,n,r.length-1),zg(i,c),i[n.index]=c}(V,d,D,A,y,a,l);b=NN(g,22),d&&function A6(n,e,t,r){if(r)Jw(n,t,["ng-version",_1.full]);else{const{attrs:i,classes:s}=function x8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!li(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Jw(n,t,i),s&&s.length>0&&WR(n,t,s.join(" "))}}(l,D,d,r),void 0!==t&&function x6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(b,this.ngContentSelectors,t),w=function S6(n,e,t,r,i,s){const o=mn(),a=i[1],u=xr(o,i);W1(a,i,o,t,null,r);for(let c=0;c<t.length;c++)On(ca(i,a,o.directiveStart+c,o),i);z1(a,i,o),u&&On(u,i);const l=ca(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=l,null!==s)for(const c of s)c(l,e);return Zb(a,o,n),l}(z,D,A,E,y,[k6]),Xb(g,y,null)}finally{Yw()}return new I6(this.componentType,w,cl(b,y),y,b)}}class I6 extends n8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new w6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;uE(s[1],s,i,e,t),G1(s,this._tNode.index)}}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function k6(){const n=mn();bg(k()[1],n)}function je(n){let e=function eP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(h(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=lE(n.inputs),o.declaredInputs=lE(n.declaredInputs),o.outputs=lE(n.outputs);const a=i.hostBindings;a&&P6(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&N6(n,u),l&&R6(n,l),yd(n.inputs,i.inputs),yd(n.declaredInputs,i.declaredInputs),yd(n.outputs,i.outputs),h(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===je&&(t=!1)}}e=Object.getPrototypeOf(e)}!function M6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Od(i.hostAttrs,t=Od(t,i.hostAttrs))}}(r)}function lE(n){return n===Dr?{}:n===ke?[]:n}function N6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function R6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function P6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Yg=null;function ga(){if(!Yg){const n=qe.Symbol;if(n&&n.iterator)Yg=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Yg=r)}}}return Yg}function Xg(n){return!!function cE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&ga()in n)}function Fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Pi(n,e,t,r){const i=k();return Fn(i,Ju(),e)&&(Me(),Ni(ft(),i,n,e,t,r)),Pi}function yl(n,e,t,r){return Fn(n,Ju(),t)?e+re(t)+r:le}function Dl(n,e,t){const r=k();return Fn(r,Ju(),e)&&Rr(Me(),ft(),r,n,e,r[11],t,!1),Dl}function dE(n,e,t,r,i){const o=i?"class":"style";uE(n,t,e.inputs[o],o,r)}function he(n,e,t,r){const i=k(),s=Me(),o=22+n,a=i[11],u=i[o]=bb(a,e,function u5(){return ue.lFrame.currentNamespace}()),l=s.firstCreatePass?function q6(n,e,t,r,i,s,o){const a=e.consts,l=gl(e,n,2,i,ro(a,s));return nE(e,t,l,ro(a,o)),null!==l.attrs&&Kg(l,l.attrs,!1),null!==l.mergedAttrs&&Kg(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];return ki(l,!0),zR(a,u,l),32!=(32&l.flags)&&Og(s,i,u,l),0===function z3(){return ue.lFrame.elementDepthCount}()&&On(u,i),function q3(){ue.lFrame.elementDepthCount++}(),ls(l)&&(Jb(s,i,l),Zb(s,l,i)),null!==r&&eE(i,l),he}function ce(){let n=mn();Gw()?function Ww(){ue.lFrame.isParent=!1}():(n=n.parent,ki(n,!1));const e=n;!function K3(){ue.lFrame.elementDepthCount--}();const t=Me();return t.firstCreatePass&&(bg(t,n),Nd(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function h5(n){return 0!=(8&n.flags)}(e)&&dE(t,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function f5(n){return 0!=(16&n.flags)}(e)&&dE(t,e,k(),e.stylesWithoutHost,!1),ce}function Ln(n,e,t,r){return he(n,e,t,r),ce(),Ln}function Jd(n){return!!n&&"function"==typeof n.then}const pE=function mP(n){return!!n&&"function"==typeof n.subscribe};function _n(n,e,t,r){const i=k(),s=Me(),o=mn();return function _P(n,e,t,r,i,s,o){const a=ls(r),l=n.firstCreatePass&&Q1(n),c=e[8],d=K1(e);let p=!0;if(3&r.type||o){const w=xr(r,e),b=o?o(w):w,D=d.length,A=o?V=>o(gn(V[r.index])):r.index;let E=null;if(!o&&a&&(E=function Q6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,p=!1;else{s=wP(r,e,c,s,!1);const V=t.listen(b,i,s);d.push(s,V),l&&l.push(i,A,D,D+1)}}else s=wP(r,e,c,s,!1);const g=r.outputs;let y;if(p&&null!==g&&(y=g[i])){const w=y.length;if(w)for(let b=0;b<w;b+=2){const z=e[y[b]][y[b+1]].subscribe(s),Q=d.length;d.push(s,z),l&&l.push(i,r.index,Q,-(Q+1))}}}(s,i,i[11],o,n,e,r),_n}function vP(n,e,t,r){try{return!1!==t(r)}catch(i){return X1(n,i),!1}}function wP(n,e,t,r,i){return function s(o){if(o===Function)return r;oE(n.componentOffset>-1?kr(n.index,e):e);let u=vP(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=vP(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function bP(n=1){return function n5(n){return(ue.lFrame.contextLView=function r5(n,e){for(;n>0;)e=e[15],n--;return e}(n,ue.lFrame.contextLView))[8]}(n)}function gE(n,e,t){return mE(n,"",e,"",t),gE}function mE(n,e,t,r,i){const s=k(),o=yl(s,e,t,r);return o!==le&&Rr(Me(),ft(),s,n,o,s[11],i,!1),mE}function Jg(n,e){return n<<17|e<<2}function oo(n){return n>>17&32767}function yE(n){return 2|n}function ya(n){return(131068&n)>>2}function _E(n,e){return-131069&n|e<<2}function vE(n){return 1|n}function kP(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?oo(s):ya(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];iK(n[a],e)&&(u=!0,n[a+1]=r?vE(c):yE(c)),a=r?oo(c):ya(c)}u&&(n[t+1]=r?yE(s):vE(s))}function iK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ol(n,e)>=0}function em(n,e){return function ci(n,e,t,r){const i=k(),s=Me(),o=function ds(n){const e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function UP(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Yn()],o=function VP(n,e){return e>=n.expandoStartIndex}(n,t);(function HP(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function fK(n,e,t,r){const i=function qw(n){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=eh(t=wE(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=wE(i,n,e,t,r),null===s){let u=function pK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ya(r))return n[oo(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=wE(null,n,e,u[1],r),u=eh(u,e.attrs,r),function gK(n,e,t,r){n[oo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function mK(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=eh(r,n[s].hostAttrs,t);return eh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function nK(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=oo(o),u=ya(o);n[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||ol(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const p=oo(n[a+1]);n[r+1]=Jg(p,a),0!==p&&(n[p+1]=_E(n[p+1],r)),n[a+1]=function eK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Jg(a,0),0!==a&&(n[a+1]=_E(n[a+1],r)),a=r;else n[r+1]=Jg(u,0),0===a?a=r:n[u+1]=_E(n[u+1],r),u=r;l&&(n[r+1]=yE(n[r+1])),kP(n,c,r,!0),kP(n,c,r,!1),function rK(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ol(s,e)>=0&&(t[r+1]=vE(t[r+1]))}(e,c,n,r,s),o=Jg(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==le&&Fn(i,o,e)&&function $P(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],c=function tK(n){return 1==(1&n)}(l)?jP(u,e,t,i,ya(l),o):void 0;tm(c)||(tm(s)||function J6(n){return 2==(2&n)}(l)&&(s=jP(u,null,t,i,a,o)),function v4(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:lr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=lr.Important),n.setStyle(t,r,i,s))}}(r,o,vg(Yn(),t),i,s))}(s,s.data[Yn()],i,i[11],n,i[o+1]=function vK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=We(io(n)))),n}(e,t),r,o)}(n,e,null,!0),em}function wE(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=eh(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function eh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mr(n,o,!!t||e[++s]))}return void 0===n?null:n}function jP(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let p=t[i+1];p===le&&(p=d?ke:void 0);let g=d?ab(p,r):c===r?p:void 0;if(l&&!tm(g)&&(g=ab(u,r)),tm(g)&&(a=g,o))return a;const y=n[i+1];i=o?oo(y):ya(y)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=ab(u,r))}return a}function tm(n){return void 0!==n}function He(n,e=""){const t=k(),r=Me(),i=n+22,s=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],o=t[i]=function wb(n,e){return n.createText(e)}(t[11],e);Og(r,t,o,s),ki(s,!1)}function nm(n){return bE("",n,""),nm}function bE(n,e,t){const r=k(),i=yl(r,n,e,t);return i!==le&&function ms(n,e,t){const r=vg(e,n);!function NR(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Yn(),i),bE}const Al="en-US";let dO=Al;function CE(n,e,t,r,i){if(n=X(n),Array.isArray(n))for(let s=0;s<n.length;s++)CE(n[s],e,t,r,i);else{const s=Me(),o=k();let a=pa(n)?n:X(n.provide),u=p1(n);const l=mn(),c=1048575&l.providerIndexes,d=l.directiveStart,p=l.providerIndexes>>20;if(pa(n)||!n.multi){const g=new Pd(u,i,x),y=TE(a,e,i?c:c+p,d);-1===y?(rb(Sg(l,o),s,a),DE(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(g),o.push(g)):(t[y]=g,o[y]=g)}else{const g=TE(a,e,c+p,d),y=TE(a,e,c,c+p),b=y>=0&&t[y];if(i&&!b||!i&&!(g>=0&&t[g])){rb(Sg(l,o),s,a);const D=function L7(n,e,t,r,i){const s=new Pd(n,t,x);return s.multi=[],s.index=e,s.componentProviders=0,FO(s,i,r&&!t),s}(i?F7:O7,t.length,i,r,u);!i&&b&&(t[y].providerFactory=D),DE(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(D),o.push(D)}else DE(s,n,g>-1?g:y,FO(t[i?y:g],u,!i&&r));!i&&r&&b&&t[y].componentProviders++}}}function DE(n,e,t,r){const i=pa(e),s=function Q4(n){return!!n.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function FO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function TE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function O7(n,e,t,r){return SE(this.multi,[])}function F7(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ca(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),SE(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],SE(i,s);return s}function SE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ut(n,e=[]){return t=>{t.providersResolver=(r,i)=>function P7(n,e,t){const r=Me();if(r.firstCreatePass){const i=h(n);CE(t,r.data,r.blueprint,i,!0),CE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class xl{}class LO{}class VO extends xl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z1(this);const r=Rn(e);this._bootstrapComponents=gs(r.bootstrap),this._r3Injector=k1(e,t,[{provide:xl,useValue:this},{provide:Kd,useValue:this.componentFactoryResolver}],We(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class AE extends LO{constructor(e){super(),this.moduleType=e}create(e){return new VO(this.moduleType,e)}}class U7 extends xl{constructor(e,t,r){super(),this.componentFactoryResolver=new Z1(this),this.instance=null;const i=new f1([...e,{provide:xl,useValue:this},{provide:Kd,useValue:this.componentFactoryResolver}],t||jg(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function am(n,e,t=null){return new U7(n,e,t).injector}let B7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=l1(0,t.type),i=r.length>0?am([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(H(fs))}),n})();function UO(n){n.getStandaloneInjector=e=>e.get(B7).getOrCreateStandaloneInjector(n)}function kE(n){return e=>{setTimeout(n,void 0,e)}}const vt=class hQ extends br{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=kE(s),i&&(i=kE(i)),o&&(o=kE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Hn&&e.add(a),a}};function fQ(){return this._results[ga()]()}class ME{get changes(){return this._changes||(this._changes=new vt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ga(),r=ME.prototype;r[t]||(r[t]=fQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Kr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function I5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=mQ,n})();const pQ=ys,gQ=class extends pQ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Gg(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Xb(r,i,e),new Yd(i)}};function mQ(){return um(mn(),k())}function um(n,e){return 4&n.type?new gQ(e,n,cl(n,e)):null}let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=yQ,n})();function yQ(){return JO(mn(),k())}const _Q=hi,XO=class extends _Q{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const e=nb(this._hostTNode,this._hostLView);if(ZN(e)){const t=Dg(e,this._hostLView),r=Cg(e);return new tl(t[1].data[r+8],t)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ZO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Ld(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Xd(Oe(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const p=(o?l:this.parentInjector).get(fs,null);p&&(s=p)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function W3(n){return Ar(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],p=new XO(d,d[6],d[3]);p.detach(p.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function d4(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],cR(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function h4(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Db(s,o),u=r[11],l=Pg(u,o[7]);return null!==l&&function u4(n,e,t,r,i,s){r[0]=i,r[6]=e,Gd(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),cR(NE(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ZO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Eb(this._lContainer,t);r&&(kg(NE(this._lContainer),t),PR(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Eb(this._lContainer,t);return r&&null!=kg(NE(this._lContainer),t)?new Yd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ZO(n){return n[8]}function NE(n){return n[8]||(n[8]=[])}function JO(n,e){let t;const r=e[n.index];if(Ar(r))t=r;else{let i;if(8&n.type)i=gn(r);else{const s=e[11];i=s.createComment("");const o=xr(n,e);ha(s,Pg(s,o),i,function m4(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=q1(r,e,i,n),zg(e,t)}return new XO(t,n,e)}class RE{constructor(e){this.queryList=e,this.matches=null}clone(){return new RE(this.queryList)}setDirty(){this.queryList.setDirty()}}class PE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new PE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==aF(e,t).matches&&this.queries[t].setDirty()}}class eF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class OE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new OE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class FE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new FE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,vQ(t,s)),this.matchTNodeWithReadOption(e,t,Ag(t,e,s,!1,!1))}else r===ys?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ag(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Nr||i===hi||i===ys&&4&t.type)this.addMatch(t.index,-2);else{const s=Ag(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function vQ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function bQ(n,e,t,r){return-1===t?function wQ(n,e){return 11&n.type?cl(n,e):4&n.type?um(n,e):null}(e,n):-2===t?function EQ(n,e,t){return t===Nr?cl(e,n):t===ys?um(e,n):t===hi?JO(e,n):void 0}(n,e,r):ca(n,n[1],t,e)}function tF(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:bQ(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function LE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=tF(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const p=c[d];p[17]===p[3]&&LE(p[1],p,l,r)}if(null!==c[9]){const d=c[9];for(let p=0;p<d.length;p++){const g=d[p];LE(g[1],g,l,r)}}}}}return r}function nF(n){const e=k(),t=Me(),r=jN();Kw(r+1);const i=aF(t,r);if(n.dirty&&function G3(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?LE(t,e,r,[]):tF(t,e,i,r);n.reset(s,o8),n.notifyOnChanges()}return!0}return!1}function rF(n,e,t,r){const i=Me();if(i.firstCreatePass){const s=mn();(function oF(n,e,t){null===n.queries&&(n.queries=new OE),n.queries.track(new FE(e,t))})(i,new eF(e,t,r),s.index),function DQ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function sF(n,e,t){const r=new ME(4==(4&t));$1(n,e,r,r.destroy),null===e[19]&&(e[19]=new PE),e[19].queries.push(new RE(r))}(i,k(),t)}function aF(n,e){return n.queries.getByIndex(e)}function cm(...n){}const dm=new W("Application Initializer");let hm=(()=>{class n{constructor(t){this.appInits=t,this.resolve=cm,this.reject=cm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Jd(s))t.push(s);else if(pE(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(H(dm,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lh=new W("AppId",{providedIn:"root",factory:function TF(){return`${jE()}${jE()}${jE()}`}});function jE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SF=new W("Platform Initializer"),fm=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AF=new W("appBootstrapListener");let zQ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _s=new W("LocaleId",{providedIn:"root",factory:()=>Ce(_s,Z.Optional|Z.SkipSelf)||function qQ(){return typeof $localize<"u"&&$localize.locale||Al}()});class QQ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let xF=(()=>{class n{compileModuleSync(t){return new AE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=gs(Rn(t).declarations).reduce((o,a)=>{const u=Oe(a);return u&&o.push(new Xd(u)),o},[]);return new QQ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZQ=(()=>Promise.resolve(0))();function HE(n){typeof Zone>"u"?ZQ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function JQ(){let n=qe.requestAnimationFrame,e=qe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function n9(n){const e=()=>{!function t9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,WE(n),n.isCheckStableRunning=!0,GE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),WE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return NF(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),RF(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return NF(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),RF(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,WE(n),GE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new R(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,e9,cm,cm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const e9={};function GE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function WE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RF(n){n._nesting--,GE(n)}class r9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const PF=new W(""),pm=new W("");let KE,zE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KE||(function i9(n){KE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),HE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())HE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(H(rt),H(qE),H(pm))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),qE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return KE?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ao=null;const OF=new W("AllowMultipleToken"),QE=new W("PlatformDestroyListeners");class FF{constructor(e,t){this.name=e,this.token=t}}function VF(n,e,t=[]){const r=`Platform: ${e}`,i=new W(r);return(s=[])=>{let o=YE();if(!o||o.injector.get(OF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function a9(n){if(ao&&!ao.get(OF,!1))throw new R(400,!1);ao=n;const e=n.get(BF);(function LF(n){const e=n.get(SF,null);e&&e.forEach(t=>t())})(n)}(function UF(n=[],e){return Xn.create({name:e,providers:[{provide:Ub,useValue:"platform"},{provide:QE,useValue:new Set([()=>ao=null])},...n]})}(a,r))}return function l9(n){const e=YE();if(!e)throw new R(401,!1);return e}()}}function YE(){return ao?.get(BF)??null}let BF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function jF(n,e){let t;return t="noop"===n?new r9:("zone.js"===n?void 0:n)||new rt(e),t}(r?.ngZone,function $F(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:rt,useValue:i}];return i.run(()=>{const o=Xn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(hl,null);if(!u)throw new R(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{mm(this._modules,a),l.unsubscribe()})}),function HF(n,e,t){try{const r=t();return Jd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(hm);return l.runInitializers(),l.donePromise.then(()=>(function hO(n){dn(n,"Expected localeId to be defined"),"string"==typeof n&&(dO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(_s,Al)||Al),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=GF({},r);return function s9(n,e,t){const r=new AE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(gm);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new R(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(QE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(H(Xn))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function GF(n,e){return Array.isArray(e)?e.reduce(GF,n):{...n,...e}}let gm=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ye(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ye(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),HE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function Dw(...n){const e=Xs(n),t=function ww(n,e){return"number"==typeof md(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Er(r[0]):$r(t)(yt(r,e)):Ir}(s,o.pipe(function Tw(n={}){const{connector:e=(()=>new br),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),o=u=void 0,c=d=!1},y=()=>{const w=o;g(),w?.unsubscribe()};return nt((w,b)=>{l++,!d&&!c&&p();const D=u=u??e();b.add(()=>{l--,0===l&&!d&&!c&&(a=ju(y,i))}),D.subscribe(b),!o&&l>0&&(o=new qs({next:A=>D.next(A),error:A=>{d=!0,p(),a=ju(g,t,A),D.error(A)},complete:()=>{c=!0,p(),a=ju(g,r),D.complete()}}),Er(w).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof g1;if(!this._injector.get(hm).done)throw!i&&function eo(n){const e=Oe(n)||Xt(n)||fn(n);return null!==e&&e.standalone}(t),new R(405,false);let o;o=i?t:this._injector.get(Kd).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function o9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(xl),l=o.create(Xn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(PF,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),mm(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(AF,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(H(rt),H(fs),H(hl))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ym=(()=>{class n{}return n.__NG_ELEMENT_ID__=d9,n})();function d9(n){return function h9(n,e,t){if(oa(n)&&!t){const r=kr(n.index,e);return new Yd(r,r)}return 47&n.type?new Yd(e[16],e):null}(mn(),k(),16==(16&n))}class QF{constructor(){}supports(e){return Xg(e)}create(e){return new _9(e)}}const y9=(n,e)=>e;class _9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||y9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<XF(r,i,s)?t:r,a=XF(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let p=0;p<l;p++){const g=p<s.length?s[p]:s[p]=0,y=g+p;c<=y&&y<l&&(s[p]=g+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xg(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function $6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ga()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new v9(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new YF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class v9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class w9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class YF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new w9,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function JF(){return new wm([new QF])}let wm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||JF()),deps:[[n,new Ud,new Nt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new R(901,!1)}}return n.\u0275prov=K({token:n,providedIn:"root",factory:JF}),n})();const D9=VF(null,"core",[]);let T9=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(H(gm))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({}),n})();function Nl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let tI=null;function Li(){return tI}class x9{}const dr=new W("DocumentToken");let nI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return function k9(){return H(tL)}()},providedIn:"platform"}),n})();const M9=new W("Location Initialized");let tL=(()=>{class n extends nI{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Li().getBaseHref(this._doc)}onPopState(t){const r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){nL()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){nL()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(H(dr))},n.\u0275prov=K({token:n,factory:function(){return function N9(){return new tL(H(dr))}()},providedIn:"platform"}),n})();function nL(){return!!window.history.pushState}function rI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ws(n){return n&&"?"!==n[0]?"?"+n:n}let wa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return Ce(sL)},providedIn:"root"}),n})();const iL=new W("appBaseHref");let sL=(()=>{class n extends wa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ce(dr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ws(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ws(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ws(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(H(nI),H(iL,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R9=(()=>{class n extends wa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ws(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ws(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(H(nI),H(iL,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),iI=(()=>{class n{constructor(t){this._subject=new vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function F9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(rL(oL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ws(r))}normalize(t){return n.stripTrailingSlash(function O9(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,oL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ws(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ws(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ws,n.joinWithSlash=rI,n.stripTrailingSlash=rL,n.\u0275fac=function(t){return new(t||n)(H(wa))},n.\u0275prov=K({token:n,factory:function(){return function P9(){return new iI(H(wa))}()},providedIn:"root"}),n})();function oL(n){return n.replace(/\/index.html$/,"")}class EY{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _L=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new EY(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),vL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{vL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(x(hi),x(ys),x(wm))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function vL(n,e){n.context.$implicit=e.item}let vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({}),n})();let JY=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>new eX(H(dr),window)}),n})();class eX{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function tX(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=CL(this.window.history)||CL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function CL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xX extends x9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class EI extends xX{static makeCurrent(){!function A9(n){tI||(tI=n)}(new EI)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kX(){return ph=ph||document.querySelector("base"),ph?ph.getAttribute("href"):null}();return null==t?null:function MX(n){Mm=Mm||document.createElement("a"),Mm.setAttribute("href",n);const e=Mm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ph=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vY(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Mm,ph=null;const kL=new W("TRANSITION_ID"),RX=[{provide:dm,useFactory:function NX(n,e,t){return()=>{t.get(hm).donePromise.then(()=>{const r=Li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[kL,dr,Xn],multi:!0}];let OX=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Nm=new W("EventManagerPlugins");let Rm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(H(Nm),H(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class ML{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let NL=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n extends NL{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(RL),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(RL))}}return n.\u0275fac=function(t){return new(t||n)(H(dr))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function RL(n){Li().remove(n)}const II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},CI=/%COMP%/g;function DI(n,e){return e.flat(100).map(t=>t.replace(CI,n))}function FL(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let TI=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new SI(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $X(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Hr.ShadowDom:return new jX(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=DI(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(H(Rm),H(gh),H(lh))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class SI{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(II[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(VL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(VL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=II[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=II[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(lr.DashCase|lr.Important)?e.style.setProperty(t,r,i&lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FL(r)):this.eventManager.addEventListener(e,t,FL(r))}}function VL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $X extends SI{constructor(e,t,r,i){super(e),this.component=r;const s=DI(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function VX(n){return"_ngcontent-%COMP%".replace(CI,n)}(i+"-"+r.id),this.hostAttr=function UX(n){return"_nghost-%COMP%".replace(CI,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jX extends SI{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=DI(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let HX=(()=>{class n extends ML{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(H(dr))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const UL=["alt","control","meta","shift"],GX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zX=(()=>{class n extends ML{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),UL.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=GX[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UL.forEach(o=>{o!==i&&(0,WX[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(H(dr))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const $L=[{provide:fm,useValue:"browser"},{provide:SF,useValue:function qX(){EI.makeCurrent()},multi:!0},{provide:dr,useFactory:function QX(){return function C4(n){xb=n}(document),document},deps:[]}],YX=VF(D9,"browser",$L),jL=new W(""),HL=[{provide:pm,useClass:class PX{addToWindow(e){qe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),qe.getAllAngularRootElements=()=>e.getAllRootElements(),qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push(r=>{const i=qe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:PF,useClass:zE,deps:[rt,qE,pm]},{provide:zE,useClass:zE,deps:[rt,qE,pm]}],GL=[{provide:Ub,useValue:"root"},{provide:hl,useFactory:function KX(){return new hl},deps:[]},{provide:Nm,useClass:HX,multi:!0,deps:[dr,rt,fm]},{provide:Nm,useClass:zX,multi:!0,deps:[dr]},{provide:TI,useClass:TI,deps:[Rm,gh,lh]},{provide:y1,useExisting:TI},{provide:NL,useExisting:gh},{provide:gh,useClass:gh,deps:[dr]},{provide:Rm,useClass:Rm,deps:[Nm,rt]},{provide:class nX{},useClass:OX,deps:[]},[]];let XX=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lh,useValue:t.appId},{provide:kL,useExisting:lh},RX]}}}return n.\u0275fac=function(t){return new(t||n)(H(jL,12))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({providers:[...GL,...HL],imports:[vI,T9]}),n})(),WL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(H(dr))},n.\u0275prov=K({token:n,factory:function(t){let r=null;return r=t?new t:function JX(){return new WL(H(dr))}(),r},providedIn:"root"}),n})();function ee(...n){return yt(n,Xs(n))}typeof window<"u"&&window;class mi extends br{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Pm=T(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:aZ}=Array,{getPrototypeOf:uZ,prototype:lZ,keys:cZ}=Object;function KL(n){if(1===n.length){const e=n[0];if(aZ(e))return{args:e,keys:null};if(function dZ(n){return n&&"object"==typeof n&&uZ(n)===lZ}(e)){const t=cZ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:hZ}=Array;function QL(n){return ae(e=>function fZ(n,e){return hZ(e)?n(...e):n(e)}(n,e))}function YL(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function XL(...n){const e=Xs(n),t=Jp(n),{args:r,keys:i}=KL(n);if(0===r.length)return yt([],e);const s=new Ye(function pZ(n,e,t=is){return r=>{ZL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)ZL(e,()=>{const l=yt(n[u],e);let c=!1;l.subscribe(Pe(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>YL(i,o):is));return t?s.pipe(QL(t)):s}function ZL(n,e,t){n?oi(t,n,e):e()}function kI(...n){return function gZ(){return $r(1)}()(yt(n,Xs(n)))}function JL(n){return new Ye(e=>{Er(n()).subscribe(e)})}function mh(n,e){const t=Te(n)?n:()=>n,r=i=>i.error(t());return new Ye(e?i=>e.schedule(r,0,i):r)}function MI(){return nt((n,e)=>{let t=null;n._refCount++;const r=Pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class e2 extends Ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hn;const t=this.getSubject();e.add(this.source.subscribe(Pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hn.EMPTY)}return e}refCount(){return MI()(this)}}function Vi(n,e){return nt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Pe(r,u=>{i?.unsubscribe();let l=0;const c=s++;Er(n(u,c)).subscribe(i=Pe(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Rl(n){return n<=0?()=>Ir:nt((e,t)=>{let r=0;e.subscribe(Pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function lo(n,e){return nt((t,r)=>{let i=0;t.subscribe(Pe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Om(n){return nt((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function t2(n=yZ){return nt((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yZ(){return new Pm}function co(n,e){const t=arguments.length>=2;return r=>r.pipe(n?lo((i,s)=>n(i,s,r)):is,Rl(1),t?Om(e):t2(()=>new Pm))}function ba(n,e){return Te(e)?It(n,e,1):It(n,1)}function vn(n,e,t){const r=Te(n)||e||t?{next:n,error:e,complete:t}:n;return r?nt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Pe(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):is}function ho(n){return nt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Pe(t,void 0,void 0,o=>{s=Er(n(o,ho(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function _Z(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(Pe(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function n2(n,e){return nt(_Z(n,e,arguments.length>=2,!0))}function NI(n){return n<=0?()=>Ir:nt((e,t)=>{let r=[];e.subscribe(Pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function r2(n,e){const t=arguments.length>=2;return r=>r.pipe(n?lo((i,s)=>n(i,s,r)):is,NI(1),t?Om(e):t2(()=>new Pm))}function RI(n){return nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const fe="primary",yh=Symbol("RouteTitle");class bZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pl(n){return new bZ(n)}function EZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ui(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!i2(n[i],e[i]))return!1;return!0}function i2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function s2(n){return Array.prototype.concat.apply([],n)}function o2(n){return n.length>0?n[n.length-1]:null}function wn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fo(n){return pE(n)?n:Jd(n)?yt(Promise.resolve(n)):ee(n)}const Fm=!1,CZ={exact:function l2(n,e,t){if(!Ia(n.segments,e.segments)||!Lm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!l2(n.children[r],e.children[r],t))return!1;return!0},subset:c2},a2={exact:function DZ(n,e){return Ui(n,e)},subset:function TZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>i2(n[t],e[t]))},ignored:()=>!0};function u2(n,e,t){return CZ[t.paths](n.root,e.root,t.matrixParams)&&a2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function c2(n,e,t){return d2(n,e,e.segments,t)}function d2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ia(i,t)||e.hasChildren()||!Lm(i,t,r))}if(n.segments.length===t.length){if(!Ia(n.segments,t)||!Lm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!c2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ia(n.segments,i)&&Lm(n.segments,i,r)&&n.children[fe])&&d2(n.children[fe],e,s,r)}}function Lm(n,e,t){return e.every((r,i)=>a2[t](n[i].parameters,r.parameters))}class Ea{constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pl(this.queryParams)),this._queryParamMap}toString(){return xZ.serialize(this)}}class be{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vm(this)}}class _h{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pl(this.parameters)),this._parameterMap}toString(){return p2(this)}}function Ia(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return new PI},providedIn:"root"}),n})();class PI{parse(e){const t=new VZ(e);return new Ea(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wh(e.root,!0)}`,r=function NZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Um(t)}=${Um(i)}`).join("&"):`${Um(t)}=${Um(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xZ=new PI;function Vm(n){return n.segments.map(e=>p2(e)).join("/")}function wh(n,e){if(!n.hasChildren())return Vm(n);if(e){const t=n.children[fe]?wh(n.children[fe],!1):"",r=[];return wn(n.children,(i,s)=>{s!==fe&&r.push(`${s}:${wh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AZ(n,e){let t=[];return wn(n.children,(r,i)=>{i===fe&&(t=t.concat(e(r,i)))}),wn(n.children,(r,i)=>{i!==fe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===fe?[wh(n.children[fe],!1)]:[`${i}:${wh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fe]?`${Vm(n)}/${t[0]}`:`${Vm(n)}/(${t.join("//")})`}}function h2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Um(n){return h2(n).replace(/%3B/gi,";")}function OI(n){return h2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bm(n){return decodeURIComponent(n)}function f2(n){return Bm(n.replace(/\+/g,"%20"))}function p2(n){return`${OI(n.path)}${function MZ(n){return Object.keys(n).map(e=>`;${OI(e)}=${OI(n[e])}`).join("")}(n.parameters)}`}const RZ=/^[^\/()?;=#]+/;function $m(n){const e=n.match(RZ);return e?e[0]:""}const PZ=/^[^=?&#]+/,FZ=/^[^&#]+/;class VZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new be(e,t)),r}parseSegment(){const e=$m(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,Fm);return this.capture(e),new _h(Bm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$m(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$m(this.remaining);i&&(r=i,this.capture(r))}e[Bm(t)]=Bm(r)}parseQueryParam(e){const t=function OZ(n){const e=n.match(PZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function LZ(n){const e=n.match(FZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=f2(t),s=f2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$m(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new R(4010,Fm);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[fe]:new be([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,Fm)}}function FI(n){return n.segments.length>0?new be([],{[fe]:n}):n}function jm(n){const e={};for(const r of Object.keys(n.children)){const s=jm(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function UZ(n){if(1===n.numberOfChildren&&n.children[fe]){const e=n.children[fe];return new be(n.segments.concat(e.segments),e.children)}return n}(new be(n.segments,e))}function Ca(n){return n instanceof Ea}function jZ(n,e,t,r,i){if(0===t.length)return Ol(e.root,e.root,e.root,r,i);const s=function y2(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return wn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new m2(t,e,r)}(t);return s.toRoot()?Ol(e.root,e.root,new be([],{}),r,i):function o(u){const l=function GZ(n,e,t,r){if(n.isAbsolute)return new Fl(e.root,!0,0);if(-1===r)return new Fl(t,t===e.root,0);return function _2(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Fl(r,!1,i-s)}(t,r+(bh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?Ll(l.segmentGroup,l.index,s.commands):VI(l.segmentGroup,l.index,s.commands);return Ol(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function bh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eh(n){return"object"==typeof n&&null!=n&&n.outlets}function Ol(n,e,t,r,i){let o,s={};r&&wn(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:g2(n,e,t);const a=FI(jm(o));return new Ea(a,s,i)}function g2(n,e,t){const r={};return wn(n.children,(i,s)=>{r[s]=i===e?t:g2(i,e,t)}),new be(n.segments,r)}class m2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bh(r[0]))throw new R(4003,!1);const i=r.find(Eh);if(i&&i!==o2(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function VI(n,e,t){if(n||(n=new be([],{})),0===n.segments.length&&n.hasChildren())return Ll(n,e,t);const r=function zZ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Eh(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!w2(u,l,o))return s;r+=2}else{if(!w2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new be(n.segments.slice(0,r.pathIndex),{});return s.children[fe]=new be(n.segments.slice(r.pathIndex),n.children),Ll(s,0,i)}return r.match&&0===i.length?new be(n.segments,{}):r.match&&!n.hasChildren()?UI(n,e,t):r.match?Ll(n,0,i):UI(n,e,t)}function Ll(n,e,t){if(0===t.length)return new be(n.segments,{});{const r=function WZ(n){return Eh(n[0])?n[0].outlets:{[fe]:n}}(t),i={};return!r[fe]&&n.children[fe]&&1===n.numberOfChildren&&0===n.children[fe].segments.length?Ll(n.children[fe],e,t):(wn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=VI(n.children[o],e,s))}),wn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new be(n.segments,i))}}function UI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Eh(s)){const u=qZ(s.outlets);return new be(r,u)}if(0===i&&bh(t[0])){r.push(new _h(n.segments[e].path,v2(t[0]))),i++;continue}const o=Eh(s)?s.outlets[fe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&bh(a)?(r.push(new _h(o,v2(a))),i+=2):(r.push(new _h(o,{})),i++)}return new be(r,{})}function qZ(n){const e={};return wn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=UI(new be([],{}),0,t))}),e}function v2(n){const e={};return wn(n,(t,r)=>e[r]=`${t}`),e}function w2(n,e,t){return n==t.path&&Ui(e,t.parameters)}const Ih="imperative";class Bi{constructor(e,t){this.id=e,this.url=t}}class BI extends Bi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Da extends Bi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hm extends Bi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class b2 extends Bi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class E2 extends Bi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KZ extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QZ extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YZ extends Bi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XZ extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZZ extends Bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oJ=(()=>{class n{createUrlTree(t,r,i,s,o,a){return jZ(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),aJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(e){return oJ.\u0275fac(e)},providedIn:"root"}),n})();class C2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$I(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$I(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jI(e,this._root).map(t=>t.value)}}function $I(n,e){if(n===e.value)return e;for(const t of e.children){const r=$I(n,t);if(r)return r}return null}function jI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jI(n,t);if(r.length)return r.unshift(e),r}return[]}class Es{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class D2 extends C2{constructor(e,t){super(e),this.snapshot=t,HI(this,e)}toString(){return this.snapshot.toString()}}function T2(n,e){const t=function uJ(n,e){const o=new Gm([],{},{},"",{},fe,e,null,n.root,-1,{});return new A2("",new Es(o,[]))}(n,e),r=new mi([new _h("",{})]),i=new mi({}),s=new mi({}),o=new mi({}),a=new mi(""),u=new Ul(r,i,o,a,s,fe,e,t.root);return u.snapshot=t.root,new D2(new Es(u,[]),t)}class Ul{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ae(l=>l[yh]))??ee(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(e=>Pl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(e=>Pl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function lJ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gm{get title(){return this.data?.[yh]}constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class A2 extends C2{constructor(e,t){super(t),this.url=e,HI(this,t)}toString(){return x2(this._root)}}function HI(n,e){e.value._routerState=n,e.children.forEach(t=>HI(n,t))}function x2(n){const e=n.children.length>0?` { ${n.children.map(x2).join(", ")} } `:"";return`${n.value}${e}`}function GI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ui(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ui(e.params,t.params)||n.params.next(t.params),function IZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ui(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ui(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function WI(n,e){const t=Ui(n.params,e.params)&&function SZ(n,e){return Ia(n,e)&&n.every((t,r)=>Ui(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||WI(n.parent,e.parent))}function Ch(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function dJ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ch(n,r,i);return Ch(n,r)})}(n,e,t);return new Es(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ch(n,a)),o}}const r=function hJ(n){return new Ul(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ch(n,s));return new Es(r,i)}}const zI="ngNavigationCancelingError";function k2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=M2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function M2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[zI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function N2(n){return R2(n)&&Ca(n.url)}function R2(n){return n&&n[zI]}class fJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dh,this.attachRef=null}}let Dh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fJ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wm=!1;let qI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new vt,this.deactivateEvents=new vt,this.attachEvents=new vt,this.detachEvents=new vt,this.parentContexts=Ce(Dh),this.location=Ce(hi),this.changeDetector=Ce(ym),this.environmentInjector=Ce(fs)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,Wm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,Wm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,Wm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,Wm);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pJ(t,a,i.injector);if(r&&function gJ(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zr]}),n})();class pJ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ul?this.route:e===Dh?this.childContexts:this.parent.get(e,t)}}let KI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gr({type:n,selectors:[["ng-component"]],standalone:!0,features:[UO],decls:1,vars:0,template:function(t,r){1&t&&Ln(0,"router-outlet")},dependencies:[qI],encapsulation:2}),n})();function P2(n,e){return n.providers&&!n._injector&&(n._injector=am(n.providers,e,`Route: ${n.path}`)),n._injector??e}function YI(n){const e=n.children&&n.children.map(YI),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=KI),t}function Zr(n){return n.outlet||fe}function O2(n,e){const t=n.filter(r=>Zr(r)===e);return t.push(...n.filter(r=>Zr(r)!==e)),t}function Th(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wJ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),GI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vl(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),wn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new iJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nJ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(GI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),GI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Th(i.snapshot),u=a?.get(Kd)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class F2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zm{constructor(e,t){this.component=e,this.route=t}}function bJ(n,e,t){const r=n._root;return Sh(r,e?e._root:null,t,[r.value])}function Bl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function sg(n){return null!==Zo(n)}(n)?e.get(n):n:r}function Sh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vl(e);return n.children.forEach(o=>{(function IJ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function CJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ia(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ia(n.url,e.url)||!Ui(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WI(n,e)||!Ui(n.queryParams,e.queryParams);default:return!WI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new F2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Sh(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zm(a.outlet.component,o))}else o&&Ah(e,a,i),i.canActivateChecks.push(new F2(r)),Sh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),wn(s,(o,a)=>Ah(o,t.getContext(a),i)),i}function Ah(n,e,t){const r=Vl(n),i=n.value;wn(r,(s,o)=>{Ah(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new zm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function xh(n){return"function"==typeof n}function XI(n){return n instanceof Pm||"EmptyError"===n?.name}const qm=Symbol("INITIAL_VALUE");function $l(){return Vi(n=>XL(n.map(e=>e.pipe(Rl(1),function mZ(...n){const e=Xs(n);return nt((t,r)=>{(e?kI(n,t,e):kI(n,t)).subscribe(r)})}(qm)))).pipe(ae(e=>{for(const t of e)if(!0!==t){if(t===qm)return qm;if(!1===t||t instanceof Ea)return t}return!0}),lo(e=>e!==qm),Rl(1)))}function L2(n){return Ii(vn(e=>{if(Ca(e))throw k2(0,e)}),ae(e=>!0===e))}const ZI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V2(n,e,t,r,i){const s=JI(n,e,t);return s.matched?function $J(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Bl(o,n);return fo(function kJ(n){return n&&xh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe($l(),L2()):ee(!0)}(r=P2(e,r),e,t).pipe(ae(o=>!0===o?s:{...ZI})):ee(s)}function JI(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ZI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||EZ)(t,n,e);if(!i)return{...ZI};const s={};wn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Km(n,e,t,r){if(t.length>0&&function GJ(n,e,t){return t.some(r=>Qm(n,e,r)&&Zr(r)!==fe)}(n,t,r)){const s=new be(e,function HJ(n,e,t,r){const i={};i[fe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Zr(s)!==fe){const o=new be([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Zr(s)]=o}return i}(n,e,r,new be(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function WJ(n,e,t){return t.some(r=>Qm(n,e,r))}(n,t,r)){const s=new be(n.segments,function jJ(n,e,t,r,i){const s={};for(const o of r)if(Qm(n,t,o)&&!i[Zr(o)]){const a=new be([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Zr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new be(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Qm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function U2(n,e,t,r){return!!(Zr(n)===r||r!==fe&&Qm(e,t,n))&&("**"===n.path||JI(e,n,t).matched)}function B2(n,e,t){return 0===e.length&&!n.children[t]}const Ym=!1;class Xm{constructor(e){this.segmentGroup=e||null}}class $2{constructor(e){this.urlTree=e}}function kh(n){return mh(new Xm(n))}function j2(n){return mh(new $2(n))}class QJ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Km(this.urlTree.root,[],[],this.config).segmentGroup,t=new be(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,fe).pipe(ae(s=>this.createUrlTree(jm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ho(s=>{if(s instanceof $2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,fe).pipe(ae(i=>this.createUrlTree(jm(i),e.queryParams,e.fragment))).pipe(ho(i=>{throw i instanceof Xm?this.noMatchError(i):i}))}noMatchError(e){return new R(4002,Ym)}createUrlTree(e,t,r){const i=FI(e);return new Ea(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ae(s=>new be([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return yt(i).pipe(ba(s=>{const o=r.children[s],a=O2(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ae(u=>({segment:u,outlet:s})))}),n2((s,o)=>(s[o.outlet]=o.segment,s),{}),r2())}expandSegment(e,t,r,i,s,o){return yt(r).pipe(ba(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ho(l=>{if(l instanceof Xm)return ee(null);throw l}))),co(a=>!!a),ho((a,u)=>{if(XI(a))return B2(t,i,s)?ee(new be([],{})):kh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return U2(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):kh(t):kh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?j2(s):this.lineralizeSegments(r,s).pipe(It(o=>{const a=new be(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=JI(t,i,s);if(!a)return kh(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?j2(d):this.lineralizeSegments(i,d).pipe(It(p=>this.expandSegment(e,t,r,p.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=P2(r,e),r.loadChildren?(r._loadedRoutes?ee({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new be(i,{})))):ee(new be(i,{}))):V2(t,r,i,e).pipe(Vi(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(It(c=>{const d=c.injector??e,p=c.routes,{segmentGroup:g,slicedSegments:y}=Km(t,a,u,p),w=new be(g.segments,g.children);if(0===y.length&&w.hasChildren())return this.expandChildren(d,p,w).pipe(ae(E=>new be(a,E)));if(0===p.length&&0===y.length)return ee(new be(a,{}));const b=Zr(r)===s;return this.expandSegment(d,w,p,y,b?fe:s,!0).pipe(ae(A=>new be(a.concat(A.segments),A.children)))})):kh(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function BJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Bl(o,n);return fo(function TJ(n){return n&&xh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe($l(),L2())}(e,t,r).pipe(It(i=>i?this.configLoader.loadChildren(e,t).pipe(vn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function qJ(n){return mh(M2(Ym,3))}())):ee({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[fe])return mh(new R(4e3,Ym));i=i.children[fe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ea(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return wn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return wn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new be(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new R(4001,Ym);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class XJ{}class eee{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Km(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(ae(t=>{if(null===t)return null;const r=new Gm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Es(r,t),s=new A2(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=S2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return yt(Object.keys(r.children)).pipe(ba(i=>{const s=r.children[i],o=O2(t,i);return this.processSegmentGroup(e,o,s,i)}),n2((i,s)=>i&&s?(i.push(...s),i):null),function vZ(n,e=!1){return nt((t,r)=>{let i=0;t.subscribe(Pe(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Om(null),r2(),ae(i=>{if(null===i)return null;const s=G2(i);return function tee(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return yt(t).pipe(ba(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),co(o=>!!o),ho(o=>{if(XI(o))return B2(r,i,s)?ee([]):ee(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!U2(t,r,i,s))return ee(null);let o;if("**"===t.path){const a=i.length>0?o2(i).parameters:{},u=z2(r)+i.length;o=ee({snapshot:new Gm(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q2(t),Zr(t),t.component??t._loadedComponent??null,t,W2(r),u,K2(t)),consumedSegments:[],remainingSegments:[]})}else o=V2(r,t,i,e).pipe(ae(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=z2(r)+u.length;return{snapshot:new Gm(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q2(t),Zr(t),t.component??t._loadedComponent??null,t,W2(r),d,K2(t)),consumedSegments:u,remainingSegments:l}}));return o.pipe(Vi(a=>{if(null===a)return ee(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,p=function nee(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:g,slicedSegments:y}=Km(r,l,c,p.filter(b=>void 0===b.redirectTo));if(0===y.length&&g.hasChildren())return this.processChildren(d,p,g).pipe(ae(b=>null===b?null:[new Es(u,b)]));if(0===p.length&&0===y.length)return ee([new Es(u,[])]);const w=Zr(t)===s;return this.processSegment(d,p,g,y,w?fe:s).pipe(ae(b=>null===b?null:[new Es(u,b)]))}))}}function ree(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function G2(n){const e=[],t=new Set;for(const r of n){if(!ree(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=G2(r.children);e.push(new Es(r.value,i))}return e.filter(r=>!t.has(r))}function W2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function q2(n){return n.data||{}}function K2(n){return n.resolve||{}}function Q2(n){return"string"==typeof n.title||null===n.title}function eC(n){return Vi(e=>{const t=n(e);return t?yt(t).pipe(ae(()=>e)):ee(e)})}const jl=new W("ROUTES");let tC=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fo(t.loadComponent()).pipe(ae(X2),vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),RI(()=>{this.componentLoaders.delete(t)})),i=new e2(r,()=>new br).pipe(MI());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=s2(u.get(jl,[],Z.Self|Z.Optional)));return{routes:l.map(YI),injector:u}}),RI(()=>{this.childrenLoaders.delete(r)})),o=new e2(s,()=>new br).pipe(MI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return fo(t()).pipe(ae(X2),It(i=>i instanceof LO||Array.isArray(i)?ee(i):yt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(H(Xn),H(xF))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X2(n){return function hee(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new br,this.configLoader=Ce(tC),this.environmentInjector=Ce(fs),this.urlSerializer=Ce(vh),this.rootContexts=Ce(Dh),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new eJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new JZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ih,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lo(r=>0!==r.id),ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Vi(r=>{let i=!1,s=!1;return ee(r).pipe(vn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vi(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new b2(o.id,t.serializeUrl(r.rawUrl),c,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Ir}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z2(o.source)&&(t.browserUrlTree=o.extractedUrl),ee(o).pipe(Vi(c=>{const d=this.transitions?.getValue();return this.events.next(new BI(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Ir:Promise.resolve(c)}),function YJ(n,e,t,r){return Vi(i=>function KJ(n,e,t,r,i){return new QJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ae(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),vn(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function see(n,e,t,r,i){return It(s=>function JJ(n,e,t,r,i,s,o="emptyOnly"){return new eee(n,e,t,r,i,o,s).recognize().pipe(Vi(a=>null===a?function ZJ(n){return new Ye(e=>e.error(n))}(new XJ):ee(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ae(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),vn(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!c.extras.skipLocationChange){const p=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);t.setBrowserUrl(p,c)}t.browserUrlTree=c.urlAfterRedirects}const d=new KZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:c,extractedUrl:d,source:p,restoredState:g,extras:y}=o,w=new BI(c,this.urlSerializer.serialize(d),p,g);this.events.next(w);const b=T2(d,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:b,urlAfterRedirects:d,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new b2(o.id,t.serializeUrl(r.extractedUrl),c,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Ir}}),vn(o=>{const a=new QZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ae(o=>r={...o,guards:bJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function NJ(n,e){return It(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ee({...t,guardsResult:!0}):function RJ(n,e,t,r){return yt(n).pipe(It(i=>function UJ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=Th(e)??i,l=Bl(a,u);return fo(function xJ(n){return n&&xh(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(co())})).pipe($l()):ee(!0)}(i.component,i.route,t,e,r)),co(i=>!0!==i,!0))}(o,r,i,n).pipe(It(a=>a&&function DJ(n){return"boolean"==typeof n}(a)?function PJ(n,e,t,r){return yt(e).pipe(ba(i=>kI(function FJ(n,e){return null!==n&&e&&e(new tJ(n)),ee(!0)}(i.route.parent,r),function OJ(n,e){return null!==n&&e&&e(new rJ(n)),ee(!0)}(i.route,r),function VJ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function EJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>JL(()=>ee(o.guards.map(u=>{const l=Th(o.node)??t,c=Bl(u,l);return fo(function AJ(n){return n&&xh(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(co())})).pipe($l())));return ee(s).pipe($l())}(n,i.path,t),function LJ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>JL(()=>{const o=Th(e)??t,a=Bl(s,o);return fo(function SJ(n){return n&&xh(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(co())}));return ee(i).pipe($l())}(n,i.route,t))),co(i=>!0!==i,!0))}(r,s,n,e):ee(a)),ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),vn(o=>{if(r.guardsResult=o.guardsResult,Ca(o.guardsResult))throw k2(0,o.guardsResult);const a=new YZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),lo(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),eC(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(vn(a=>{const u=new XZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Vi(a=>{let u=!1;return ee(a).pipe(function oee(n,e){return It(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let s=0;return yt(i).pipe(ba(o=>function aee(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Q2(i)&&(s[yh]=i.title),function uee(n,e,t,r){const i=function lee(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ee({});const s={};return yt(i).pipe(It(o=>function cee(n,e,t,r){const i=Th(e)??r,s=Bl(n,i);return fo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(co(),vn(a=>{s[o]=a}))),NI(1),function wZ(n){return ae(()=>n)}(s),ho(o=>XI(o)?Ir:mh(o)))}(s,n,e,r).pipe(ae(o=>(n._resolvedData=o,n.data=S2(n,t).resolve,i&&Q2(i)&&(n.data[yh]=i.title),null)))}(o.route,r,n,e)),vn(()=>s++),NI(1),It(o=>s===i.length?ee(t):Ir))})}(t.paramsInheritanceStrategy,this.environmentInjector),vn({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),vn(a=>{const u=new ZZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),eC(o=>{const a=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(vn(c=>{u.component=c}),ae(()=>{})));for(const c of u.children)l.push(...a(c));return l};return XL(a(o.targetSnapshot.root)).pipe(Om(),Rl(1))}),eC(()=>this.afterPreactivation()),ae(o=>{const a=function cJ(n,e,t){const r=Ch(n,e._root,t?t._root:void 0);return new D2(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),vn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ae(r=>(new wJ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),vn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Da(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),RI(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ho(o=>{if(s=!0,R2(o)){N2(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Hm(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),N2(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Z2(r.source)};t.scheduleNavigation(u,Ih,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new E2(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Ir}))}))}cancelNavigationTransition(t,r,i){const s=new Hm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z2(n){return n!==Ih}let J2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[yh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return Ce(fee)},providedIn:"root"}),n})(),fee=(()=>{class n extends J2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(H(WL))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return Ce(mee)},providedIn:"root"}),n})();class gee{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mee=(()=>{class n extends gee{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=yn(n)))(r||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ey=new W("",{providedIn:"root",factory:()=>({})});let _ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return Ce(vee)},providedIn:"root"}),n})(),vee=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wee(n){throw n}function bee(n,e,t){return e.parse("/")}const Eee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ft=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ce(zQ),this.isNgZoneEnabled=!1,this.options=Ce(ey,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ce(_ee),this.routeReuseStrategy=Ce(pee),this.urlCreationStrategy=Ce(aJ),this.titleStrategy=Ce(J2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=s2(Ce(jl,{optional:!0})??[]),this.navigationTransitions=Ce(Jm),this.urlSerializer=Ce(vh),this.location=Ce(iI),this.isNgZoneEnabled=Ce(rt)instanceof rt&&rt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ea,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=T2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ih,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(YI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ca(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ih,null,r)}navigate(t,r={skipLocationChange:!1}){return function Cee(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new R(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Eee}:!1===r?{...Iee}:r,Ca(t))return u2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return u2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l,c;return o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((d,p)=>{a=d,u=p}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hl=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new br;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Da&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Nl(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Nl(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Nl(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function s1(n,e,t){return function z4(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?i1:Ob}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(x(Ft),x(Ul),function xg(n){return function y5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(QN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(mn(),n)}("tabindex"),x(ps),x(Nr),x(wa))},n.\u0275dir=te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&_n("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Pi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[zr]}),n})(),tV=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new vt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Da&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe($r()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=yt(t).pipe($r()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Dee(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(x(Ft),x(Nr),x(ps),x(ym),x(Hl,8))},n.\u0275dir=te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&rF(i,Hl,5),2&t){let s;nF(s=function iF(){return function CQ(n,e){return n[19].queries[e].queryList}(k(),jN())}())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[zr]}),n})();class nV{}let Tee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(lo(t=>t instanceof Da),ba(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=am(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return yt(i).pipe($r())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ee(null);const s=i.pipe(It(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?yt([s,this.loader.loadComponent(r)]).pipe($r()):s})}}return n.\u0275fac=function(t){return new(t||n)(H(Ft),H(xF),H(fs),H(nV),H(tC))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nC=new W("");let rV=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof BI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new I2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function L1(){throw new Error("invalid")}()},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function Ta(n,e){return{\u0275kind:n,\u0275providers:e}}function sV(){const n=Ce(Xn);return e=>{const t=n.get(gm);if(e!==t.components[0])return;const r=n.get(Ft),i=n.get(oV);1===n.get(iC)&&r.initialNavigation(),n.get(aV,null,Z.Optional)?.setUpPreloading(),n.get(nC,null,Z.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const oV=new W("",{factory:()=>new br}),iC=new W("",{providedIn:"root",factory:()=>1});const aV=new W("");function Mee(n){return Ta(0,[{provide:aV,useExisting:Tee},{provide:nV,useExisting:n}])}const uV=new W("ROUTER_FORROOT_GUARD"),Nee=[iI,{provide:vh,useClass:PI},Ft,Dh,{provide:Ul,useFactory:function iV(n){return n.routerState.root},deps:[Ft]},tC,[]];function Ree(){return new FF("Router",Ft)}let lV=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Nee,[],{provide:jl,multi:!0,useValue:t},{provide:uV,useFactory:Lee,deps:[[Ft,new Nt,new Ud]]},{provide:ey,useValue:r||{}},r?.useHash?{provide:wa,useClass:R9}:{provide:wa,useClass:sL},{provide:nC,useFactory:()=>{const n=Ce(JY),e=Ce(rt),t=Ce(ey),r=Ce(Jm),i=Ce(vh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rV(i,r,n,e,t)}},r?.preloadingStrategy?Mee(r.preloadingStrategy).\u0275providers:[],{provide:FF,multi:!0,useFactory:Ree},r?.initialNavigation?Vee(r):[],[{provide:cV,useFactory:sV},{provide:AF,multi:!0,useExisting:cV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(H(uV,8))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({imports:[KI]}),n})();function Lee(n){return"guarded"}function Vee(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:dm,multi:!0,useFactory:()=>{const e=Ce(Ft);return()=>{e.setUpLocationChangeListener()}}},{provide:iC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:iC,useValue:0},{provide:dm,multi:!0,deps:[Xn],useFactory:e=>{const t=e.get(M9,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(Ft),o=e.get(oV);(function r(i){e.get(Ft).events.pipe(lo(o=>o instanceof Da||o instanceof Hm||o instanceof E2),ae(o=>o instanceof Da||o instanceof Hm&&(0===o.code||1===o.code)&&null),lo(o=>null!==o),Rl(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Jm).afterPreactivation=()=>(i(!0),o.closed?ee(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const cV=new W("");let dV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(x(ps),x(Nr))},n.\u0275dir=te({type:n}),n})(),Sa=(()=>{class n extends dV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=yn(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[je]}),n})();const $i=new W("NgValueAccessor"),jee={provide:$i,useExisting:ze(()=>Wl),multi:!0},Gee=new W("CompositionEventMode");let Wl=(()=>{class n extends dV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hee(){const n=Li()?Li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(x(ps),x(Nr),x(Gee,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&_n("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ut([jee]),je]}),n})();const Vn=new W("NgValidators"),go=new W("NgAsyncValidators");function EV(n){return null!=n}function IV(n){return Jd(n)?yt(n):n}function CV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function DV(n,e){return e.map(t=>t(n))}function TV(n){return n.map(e=>function qee(n){return!n.validate}(e)?e:t=>e.validate(t))}function sC(n){return null!=n?function SV(n){if(!n)return null;const e=n.filter(EV);return 0==e.length?null:function(t){return CV(DV(t,e))}}(TV(n)):null}function oC(n){return null!=n?function AV(n){if(!n)return null;const e=n.filter(EV);return 0==e.length?null:function(t){return function Bee(...n){const e=Jp(n),{args:t,keys:r}=KL(n),i=new Ye(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Er(t[c]).subscribe(Pe(s,p=>{d||(d=!0,l--),a[c]=p},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?YL(r,a):a),s.complete())}))}});return e?i.pipe(QL(e)):i}(DV(t,e).map(IV)).pipe(ae(CV))}}(TV(n)):null}function xV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kV(n){return n._rawValidators}function MV(n){return n._rawAsyncValidators}function aC(n){return n?Array.isArray(n)?n:[n]:[]}function ny(n,e){return Array.isArray(n)?n.includes(e):n===e}function NV(n,e){const t=aC(e);return aC(n).forEach(i=>{ny(t,i)||t.push(i)}),t}function RV(n,e){return aC(e).filter(t=>!ny(n,t))}class PV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class er extends PV{get formDirective(){return null}get path(){return null}}class mo extends PV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ry=(()=>{class n extends OV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(x(mo,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&em("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[je]}),n})(),iy=(()=>{class n extends OV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(x(er,10))},n.\u0275dir=te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&em("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[je]}),n})();const Nh="VALID",oy="INVALID",zl="PENDING",Rh="DISABLED";function dC(n){return(ay(n)?n.validators:n)||null}function hC(n,e){return(ay(e)?e.asyncValidators:n)||null}function ay(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class UV{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nh}get invalid(){return this.status===oy}get pending(){return this.status==zl}get disabled(){return this.status===Rh}get enabled(){return this.status!==Rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RV(e,this._rawAsyncValidators))}hasValidator(e){return ny(this._rawValidators,e)}hasAsyncValidator(e){return ny(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nh||this.status===zl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rh:Nh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zl,this._hasOwnPendingAsyncValidator=!0;const t=IV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?Rh:this.errors?oy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zl)?zl:this._anyControlsHaveStatus(oy)?oy:Nh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ay(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ete(n){return Array.isArray(n)?sC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tte(n){return Array.isArray(n)?oC(n):n||null}(this._rawAsyncValidators)}}class ql extends UV{constructor(e,t,r){super(dC(t),hC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function VV(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new R(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LV(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new R(1e3,"");if(!r[t])throw new R(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Kl=new W("CallSetDisabledState",{providedIn:"root",factory:()=>uy}),uy="always";function Ph(n,e,t=uy){fC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ite(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BV(n,e)})}(n,e),function ote(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ste(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rte(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fC(n,e){const t=kV(n);null!==e.validator?n.setValidators(xV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=MV(n);null!==e.asyncValidator?n.setAsyncValidators(xV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();dy(e._rawValidators,i),dy(e._rawAsyncValidators,i)}function hy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=kV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=MV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return dy(e._rawValidators,r),dy(e._rawAsyncValidators,r),t}function BV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Is=class extends UV{constructor(e=null,t,r){super(dC(t),hC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ay(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({}),n})();const _C=new W("NgModelWithFormControlWarning"),wte={provide:er,useExisting:ze(()=>Ql)};let Ql=(()=>{class n extends er{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new vt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ph(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cy(t.control||null,t,!1),function cte(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function jV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(cy(r||null,t),(n=>n instanceof Is)(i)&&(Ph(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function $V(n,e){fC(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ate(n,e){return hy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fC(this.form,this),this._oldForm&&hy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(x(Vn,10),x(go,10),x(Kl,8))},n.\u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&_n("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([wte]),je,zr]}),n})();const Ite={provide:mo,useExisting:ze(()=>Fh)};let Fh=(()=>{class n extends mo{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new vt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Wl?t=s:function lte(n){return Object.getPrototypeOf(n.constructor)===Sa}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function gC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ly(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(x(er,13),x(Vn,10),x(go,10),x($i,10),x(_C,8))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ut([Ite]),je,zr]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({imports:[YV]}),n})(),Ute=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Kl,useValue:t.callSetDisabledState??uy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({imports:[hU]}),n})(),Bte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_C,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Kl,useValue:t.callSetDisabledState??uy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({imports:[hU]}),n})();var $te=ri(226),Yl=ri.n($te);function fU(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){fU(s,r,i,o,a,"next",u)}function a(u){fU(s,r,i,o,a,"throw",u)}o(void 0)})}}const F=function(n,e){if(!n)throw Xl(e)},Xl=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},pU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},py={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let p=(15&a)<<2|l>>6,g=63&l;u||(g=64,o||(p=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gU=function(n){const e=pU(n);return py.encodeByteArray(e,!0)},gy=function(n){return gU(n).replace(/\./g,"")},my=function(n){try{return py.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hte(n){return mU(void 0,n)}function mU(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Gte(t)||(n[t]=mU(n[t],e[t]));return n}function Gte(n){return"__proto__"!==n}const yy=()=>{try{return function Wte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&my(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},yU=n=>{var e,t;return null===(t=null===(e=yy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},_U=n=>{const e=yU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vU=n=>{var e;return null===(e=yy())||void 0===e?void 0:e[`_${n}`]};class Zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function wU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gy(JSON.stringify({alg:"none",type:"JWT"})),gy(JSON.stringify(o)),""].join(".")}function Jt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function DC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function TC(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function bU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xa(){try{return"object"==typeof indexedDB}catch{return!1}}function Lh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function SC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jte(n,e){return n.replace(ene,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Jr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ene=/\{\$([^}]+)}/g;function Vh(n){return JSON.parse(n)}function bn(n){return JSON.stringify(n)}const _y=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Vh(my(s[0])||""),t=Vh(my(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function Ds(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function AC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vy(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function wy(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(EU(s)&&EU(o)){if(!wy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function EU(n){return null!==n&&"object"==typeof n}function Uh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $h(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class rne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(p<<1|p>>>31)}let l,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),c=1518500249):(l=s^o^a,c=1859775393):d<60?(l=s&o|a&(s|o),c=2400959708):(l=s^o^a,c=3395469782);const p=(i<<5|i>>>27)+l+u+c+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class sne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function one(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=xC),void 0===i.error&&(i.error=xC),void 0===i.complete&&(i.complete=xC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xC(){}const Ey=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function kC(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function en(n){return n&&n._delegate?n._delegate:n}class En{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class fne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Zl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gne(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ka?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const MC=[];var Ae=(()=>{return(n=Ae||(Ae={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ae;var n})();const IU={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},yne=Ae.INFO,_ne={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},vne=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=_ne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ma{constructor(e){this.name=e,this._logLevel=yne,this._logHandler=vne,this._userLogHandler=null,MC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}let CU,DU;const TU=new WeakMap,NC=new WeakMap,SU=new WeakMap,RC=new WeakMap,PC=new WeakMap;let OC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return NC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||SU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Sne(n){return"function"==typeof n?function Tne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ene(){return DU||(DU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(FC(this),e),Ts(TU.get(this))}:function(...e){return Ts(n.apply(FC(this),e))}:function(e,...t){const r=n.call(FC(this),e,...t);return SU.set(r,e.sort?e.sort():[e]),Ts(r)}}(n):(n instanceof IDBTransaction&&function Cne(n){if(NC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});NC.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function bne(){return CU||(CU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,OC):n)}function Ts(n){if(n instanceof IDBRequest)return function Ine(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ts(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&TU.set(t,n)}).catch(()=>{}),PC.set(e,n),e}(n);if(RC.has(n))return RC.get(n);const e=Sne(n);return e!==n&&(RC.set(n,e),PC.set(e,n)),e}const FC=n=>PC.get(n);function Iy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ts(o.result),u.oldVersion,u.newVersion,Ts(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function LC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ts(t).then(()=>{})}const Ane=["get","getKey","getAll","getAllKeys","count"],xne=["put","add","delete","clear"],VC=new Map;function AU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(VC.get(e))return VC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=xne.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ane.includes(t))return;const s=function(){var o=v(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return VC.set(e,s),s}!function Dne(n){OC=n(OC)}(n=>({...n,get:(e,t,r)=>AU(e,t)||n.get(e,t,r),has:(e,t)=>!!AU(e,t)||n.has(e,t)}));class kne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Mne(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const UC="@firebase/app",Na=new Ma("@firebase/app"),Cy="[DEFAULT]",rre={[UC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ra=new Map,Dy=new Map;function ire(n,e){try{n.container.addComponent(e)}catch(t){Na.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Un(n){const e=n.name;if(Dy.has(e))return Na.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,n);for(const t of Ra.values())ire(t,n);return!0}function Pa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ss=new ji("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ore{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}const Oa="9.16.0";function kU(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Cy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=yy())||void 0===n?void 0:n.config})()),!t)throw Ss.create("no-options");const s=Ra.get(i);if(s){if(wy(t,s.options)&&wy(r,s.config))return s;throw Ss.create("duplicate-app",{appName:i})}const o=new mne(i);for(const u of Dy.values())o.addComponent(u);const a=new ore(t,r,o);return Ra.set(i,a),a}function Ty(n=Cy){const e=Ra.get(n);if(!e&&n===Cy)return kU();if(!e)throw Ss.create("no-app",{appName:n});return e}function MU(){return Array.from(Ra.values())}function it(n,e,t){var r;let i=null!==(r=rre[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Na.warn(a.join(" "))}Un(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const jh="firebase-heartbeat-store";let $C=null;function NU(){return $C||($C=Iy("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(jh)}}).catch(n=>{throw Ss.create("idb-open",{originalErrorMessage:n.message})})),$C}function jC(){return(jC=v(function*(n){try{return(yield NU()).transaction(jh).objectStore(jh).get(PU(n))}catch(e){if(e instanceof Jr)Na.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e?.message});Na.warn(t.message)}}})).apply(this,arguments)}function RU(n,e){return HC.apply(this,arguments)}function HC(){return(HC=v(function*(n,e){try{const r=(yield NU()).transaction(jh,"readwrite");return yield r.objectStore(jh).put(e,PU(n)),r.done}catch(t){if(t instanceof Jr)Na.warn(t.message);else{const r=Ss.create("idb-set",{originalErrorMessage:t?.message});Na.warn(r.message)}}})).apply(this,arguments)}function PU(n){return`${n.name}!${n.options.appId}`}class hre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pre(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=OU(),{heartbeatsToSend:r,unsentEntries:i}=function fre(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=gy(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function OU(){return(new Date).toISOString().substring(0,10)}class pre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!xa()&&Lh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lre(n){return jC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return RU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return RU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function FU(n){return gy(JSON.stringify({version:2,heartbeats:n})).length}!function gre(n){Un(new En("platform-logger",e=>new kne(e),"PRIVATE")),Un(new En("heartbeat",e=>new hre(e),"PRIVATE")),it(UC,"0.9.1",n),it(UC,"0.9.1","esm2017"),it("fire-js","")}(""),it("firebase","9.16.0","app");const LU="@firebase/installations",GC="0.6.1",UU=`w:${GC}`,BU="FIS_v2",As=new ji("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $U(n){return n instanceof Jr&&n.code.includes("request-failed")}function WC({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function jU(n){return{token:n.token,requestStatus:2,expiresIn:Ire(n.expiresIn),creationTime:Date.now()}}function zC(n,e){return qC.apply(this,arguments)}function qC(){return(qC=v(function*(n,e){const r=(yield e.json()).error;return As.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function HU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function GU(n,{refreshToken:e}){const t=HU(n);return t.append("Authorization",function Cre(n){return`${BU} ${n}`}(e)),t}function KC(n){return QC.apply(this,arguments)}function QC(){return(QC=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Ire(n){return Number(n.replace("s","000"))}function Dre(n,e){return YC.apply(this,arguments)}function YC(){return(YC=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=WC(n),i=HU(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:BU,appId:n.appId,sdkVersion:UU})},u=yield KC(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:jU(l.authToken)}}throw yield zC("Create Installation",u)})).apply(this,arguments)}function WU(n){return new Promise(e=>{setTimeout(e,n)})}const Sre=/^[cdef][\w-]{21}$/;function Are(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function xre(n){return function Tre(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Sre.test(t)?t:""}catch{return""}}function ec(n){return`${n.appName}!${n.appId}`}const tc=new Map;function zU(n,e){const t=ec(n);qU(t,e),function Nre(n,e){const t=function KU(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=n=>{qU(n.data.key,n.data.fid)}),Fa}();t&&t.postMessage({key:n,fid:e}),function QU(){0===tc.size&&Fa&&(Fa.close(),Fa=null)}()}(t,e)}function qU(n,e){const t=tc.get(n);if(t)for(const r of t)r(e)}let Fa=null;const La="firebase-installations-store";let ZC=null;function JC(){return ZC||(ZC=Iy("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(La)}})),ZC}function Sy(n,e){return e0.apply(this,arguments)}function e0(){return(e0=v(function*(n,e){const t=ec(n),i=(yield JC()).transaction(La,"readwrite"),s=i.objectStore(La),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&zU(n,e.fid),e})).apply(this,arguments)}function t0(n){return n0.apply(this,arguments)}function n0(){return(n0=v(function*(n){const e=ec(n),r=(yield JC()).transaction(La,"readwrite");yield r.objectStore(La).delete(e),yield r.done})).apply(this,arguments)}function Hh(n,e){return r0.apply(this,arguments)}function r0(){return(r0=v(function*(n,e){const t=ec(n),i=(yield JC()).transaction(La,"readwrite"),s=i.objectStore(La),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&zU(n,a.fid),a})).apply(this,arguments)}function s0(n){return o0.apply(this,arguments)}function o0(){return(o0=v(function*(n){let e;const t=yield Hh(n.appConfig,r=>{const i=Ore(r),s=Fre(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Ore(n){return XU(n||{fid:Are(),registrationStatus:0})}function Fre(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(As.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Lre(n,e){return a0.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Vre(n)}:{installationEntry:e}}function a0(){return(a0=v(function*(n,e){try{const t=yield Dre(n,e);return Sy(n.appConfig,t)}catch(t){throw $U(t)&&409===t.customData.serverCode?yield t0(n.appConfig):yield Sy(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Vre(n){return u0.apply(this,arguments)}function u0(){return(u0=v(function*(n){let e=yield YU(n.appConfig);for(;1===e.registrationStatus;)yield WU(100),e=yield YU(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield s0(n);return r||t}return e})).apply(this,arguments)}function YU(n){return Hh(n,e=>{if(!e)throw As.create("installation-not-found");return XU(e)})}function XU(n){return function Ure(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Bre(n,e){return l0.apply(this,arguments)}function l0(){return(l0=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=$re(n,t),i=GU(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:UU,appId:n.appId}})},u=yield KC(()=>fetch(r,a));if(u.ok)return jU(yield u.json());throw yield zC("Generate Auth Token",u)})).apply(this,arguments)}function $re(n,{fid:e}){return`${WC(n)}/${e}/authTokens:generate`}function c0(n){return d0.apply(this,arguments)}function d0(){return(d0=v(function*(n,e=!1){let t;const r=yield Hh(n.appConfig,s=>{if(!JU(s))throw As.create("not-registered");const o=s.authToken;if(!e&&Gre(o))return s;if(1===o.requestStatus)return t=jre(n,e),s;{if(!navigator.onLine)throw As.create("app-offline");const a=zre(s);return t=Hre(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function jre(n,e){return h0.apply(this,arguments)}function h0(){return(h0=v(function*(n,e){let t=yield ZU(n.appConfig);for(;1===t.authToken.requestStatus;)yield WU(100),t=yield ZU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?c0(n,e):r})).apply(this,arguments)}function ZU(n){return Hh(n,e=>{if(!JU(e))throw As.create("not-registered");return function qre(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Hre(n,e){return f0.apply(this,arguments)}function f0(){return(f0=v(function*(n,e){try{const t=yield Bre(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Sy(n.appConfig,r),t}catch(t){if(!$U(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Sy(n.appConfig,r)}else yield t0(n.appConfig);throw t}})).apply(this,arguments)}function JU(n){return void 0!==n&&2===n.registrationStatus}function Gre(n){return 2===n.requestStatus&&!function Wre(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function zre(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function p0(){return(p0=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield s0(e);return r?r.catch(console.error):c0(e).catch(console.error),t.fid})).apply(this,arguments)}function g0(){return(g0=v(function*(n,e=!1){const t=n;return yield Yre(t),(yield c0(t,e)).token})).apply(this,arguments)}function Yre(n){return m0.apply(this,arguments)}function m0(){return(m0=v(function*(n){const{registrationPromise:e}=yield s0(n);e&&(yield e)})).apply(this,arguments)}function v0(n){return As.create("missing-app-config-values",{valueName:n})}const eB="installations",tie=n=>{const e=n.getProvider("app").getImmediate(),t=function Jre(n){if(!n||!n.options)throw v0("App Configuration");if(!n.name)throw v0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw v0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Pa(e,"heartbeat"),_delete:()=>Promise.resolve()}},nie=n=>{const t=Pa(n.getProvider("app").getImmediate(),eB).getImmediate();return{getId:()=>function Kre(n){return p0.apply(this,arguments)}(t),getToken:i=>function Qre(n){return g0.apply(this,arguments)}(t,i)}};(function rie(){Un(new En(eB,tie,"PUBLIC")),Un(new En("installations-internal",nie,"PRIVATE"))})(),it(LU,GC),it(LU,GC,"esm2017");const w0="@firebase/remote-config",fr=new ji("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pie{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function gie(n=navigator){return n.languages&&n.languages[0]||n.language}class mie{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:gie()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((D,A)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",A(E)})});let p;try{yield Promise.race([c,d]),p=yield c}catch(D){let A="fetch-client-network";throw"AbortError"===D?.name&&(A="fetch-timeout"),fr.create(A,{originalErrorMessage:D?.message})}let g=p.status;const y=p.headers.get("ETag")||void 0;let w,b;if(200===p.status){let D;try{D=yield p.json()}catch(A){throw fr.create("fetch-client-parse",{originalErrorMessage:A?.message})}w=D.entries,b=D.state}if("INSTANCE_STATE_UNSPECIFIED"===b?g=500:"NO_CHANGE"===b?g=304:("NO_TEMPLATE"===b||"EMPTY_CONFIG"===b)&&(w={}),304!==g&&200!==g)throw fr.create("fetch-status",{httpStatus:g});return{status:g,eTag:y,config:w}})()}}class vie{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return v(function*(){yield function yie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function _ie(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+kC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Eie{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xy(n,e){const t=n.target.error||void 0;return fr.create(e,{originalErrorMessage:t&&t?.message})}const Va="app_namespace_store";class Tie{constructor(e,t,r,i=function Die(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xy(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Va,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Va],"readonly").objectStore(Va),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(xy(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(fr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Va],"readwrite").objectStore(Va),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(xy(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(fr.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Va],"readwrite").objectStore(Va),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(xy(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(fr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Sie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xie(){return D0.apply(this,arguments)}function D0(){return(D0=v(function*(){if(!xa())return!1;try{return yield Lh()}catch{return!1}})).apply(this,arguments)}!function Aie(){Un(new En("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!xa())throw fr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fr.create("registration-project-id");if(!o)throw fr.create("registration-api-key");if(!a)throw fr.create("registration-app-id");const u=new Tie(a,r.name,t=t||"firebase"),l=new Sie(u),c=new Ma(w0);c.logLevel=Ae.ERROR;const d=new mie(i,Oa,t,s,o,a),p=new vie(d,u),g=new pie(p,u,l,c),y=new Eie(r,g,l,u,c);return function die(n){const e=en(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),it(w0,"0.4.1"),it(w0,"0.4.1","esm2017")}();const kie="/firebase-messaging-sw.js",Mie="/firebase-cloud-messaging-push-scope",iB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sB="google.c.a.c_id",Rie="google.c.a.c_l",Pie="google.c.a.ts",Oie="google.c.a.e";var nc=(()=>{return(n=nc||(nc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",nc;var n})();function xs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fie(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const T0="fcm_token_details_db",oB="fcm_token_object_Store";function Vie(n){return S0.apply(this,arguments)}function S0(){return S0=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(T0))return null;let e=null;return(yield Iy(T0,5,{upgrade:(r=v(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(oB))return;const l=a.objectStore(oB),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:xs(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xs(d.auth),p256dh:xs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xs(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xs(d.auth),p256dh:xs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xs(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield LC(T0),yield LC("fcm_vapid_details_db"),yield LC("undefined"),Uie(e)?e:null;var r}),S0.apply(this,arguments)}function Uie(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ua="firebase-messaging-store";let A0=null;function x0(){return A0||(A0=Iy("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ua)}})),A0}function aB(n){return k0.apply(this,arguments)}function k0(){return(k0=v(function*(n){const e=P0(n),r=yield(yield x0()).transaction(Ua).objectStore(Ua).get(e);if(r)return r;{const i=yield Vie(n.appConfig.senderId);if(i)return yield M0(n,i),i}})).apply(this,arguments)}function M0(n,e){return N0.apply(this,arguments)}function N0(){return(N0=v(function*(n,e){const t=P0(n),i=(yield x0()).transaction(Ua,"readwrite");return yield i.objectStore(Ua).put(e,t),yield i.done,e})).apply(this,arguments)}function jie(n){return R0.apply(this,arguments)}function R0(){return(R0=v(function*(n){const e=P0(n),r=(yield x0()).transaction(Ua,"readwrite");yield r.objectStore(Ua).delete(e),yield r.done})).apply(this,arguments)}function P0({appConfig:n}){return n.appId}const In=new ji("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gie(n,e){return O0.apply(this,arguments)}function O0(){return(O0=v(function*(n,e){const t=yield U0(n),r=lB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(V0(n.appConfig),i)).json()}catch(o){throw In.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw In.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw In.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Wie(n,e){return F0.apply(this,arguments)}function F0(){return(F0=v(function*(n,e){const t=yield U0(n),r=lB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${V0(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw In.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw In.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw In.create("token-update-no-token");return s.token})).apply(this,arguments)}function uB(n,e){return L0.apply(this,arguments)}function L0(){return(L0=v(function*(n,e){const r={method:"DELETE",headers:yield U0(n)};try{const s=yield(yield fetch(`${V0(n.appConfig)}/${e}`,r)).json();if(s.error)throw In.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw In.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function V0({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function U0(n){return B0.apply(this,arguments)}function B0(){return(B0=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function lB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==iB&&(i.web.applicationPubKey=r),i}function qie(n){return $0.apply(this,arguments)}function $0(){return($0=v(function*(n){const e=yield Qie(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:xs(e.getKey("auth")),p256dh:xs(e.getKey("p256dh"))},r=yield aB(n.firebaseDependencies);if(r){if(Yie(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Kie(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield uB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dB(n.firebaseDependencies,t)}return dB(n.firebaseDependencies,t)})).apply(this,arguments)}function cB(n){return j0.apply(this,arguments)}function j0(){return(j0=v(function*(n){const e=yield aB(n.firebaseDependencies);e&&(yield uB(n.firebaseDependencies,e.token),yield jie(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Kie(n,e){return H0.apply(this,arguments)}function H0(){return(H0=v(function*(n,e){try{const t=yield Wie(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield M0(n.firebaseDependencies,r),t}catch(t){throw yield cB(n),t}})).apply(this,arguments)}function dB(n,e){return G0.apply(this,arguments)}function G0(){return(G0=v(function*(n,e){const r={token:yield Gie(n,e),createTime:Date.now(),subscriptionOptions:e};return yield M0(n,r),r.token})).apply(this,arguments)}function Qie(n,e){return W0.apply(this,arguments)}function W0(){return(W0=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fie(e)})})).apply(this,arguments)}function Yie(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function hB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Xie(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Zie(n,e){e.data&&(n.data=e.data)}(e,n),function Jie(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function ese(n){return"object"==typeof n&&!!n&&sB in n}function fB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function z0(n){return In.create("missing-app-config-values",{valueName:n})}fB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nse{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function tse(n){if(!n||!n.options)throw z0("App Configuration Object");if(!n.name)throw z0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw z0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function pB(n){return q0.apply(this,arguments)}function q0(){return(q0=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(kie,{scope:Mie}),n.swRegistration.update().catch(()=>{})}catch(e){throw In.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function rse(n,e){return K0.apply(this,arguments)}function K0(){return(K0=v(function*(n,e){if(!e&&!n.swRegistration&&(yield pB(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function ise(n,e){return Q0.apply(this,arguments)}function Q0(){return(Q0=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=iB)})).apply(this,arguments)}function Y0(){return(Y0=v(function*(n,e){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield ise(n,e?.vapidKey),yield rse(n,e?.serviceWorkerRegistration),qie(n)})).apply(this,arguments)}function sse(n,e,t){return X0.apply(this,arguments)}function X0(){return(X0=v(function*(n,e,t){const r=ose(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[sB],message_name:t[Rie],message_time:t[Pie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ose(n){switch(n){case nc.NOTIFICATION_CLICKED:return"notification_open";case nc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Z0(){return(Z0=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===nc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(hB(t)):n.onMessageHandler.next(hB(t)));const r=t.data;ese(r)&&"1"===r[Oie]&&(yield sse(n,t.messageType,r))})).apply(this,arguments)}const mB="@firebase/messaging",use=n=>{const e=new nse(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function ase(n,e){return Z0.apply(this,arguments)}(e,t)),e},lse=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function gB(n,e){return Y0.apply(this,arguments)}(e,r)}};function _B(){return J0.apply(this,arguments)}function J0(){return(J0=v(function*(){try{yield Lh()}catch{return!1}return typeof window<"u"&&xa()&&SC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cse(){Un(new En("messaging",use,"PUBLIC")),Un(new En("messaging-internal",lse,"PRIVATE")),it(mB,"0.12.1"),it(mB,"0.12.1","esm2017")}();const ky="analytics",fse="firebase_id",mse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vB="https://www.googletagmanager.com/gtag/js",Cn=new Ma("@firebase/analytics");function wB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function yse(n,e){const t=document.createElement("script");t.src=`${vB}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function vse(n,e,t,r,i,s){return nD.apply(this,arguments)}function nD(){return(nD=v(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield wB(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Cn.error(a)}n("config",i,s)})).apply(this,arguments)}function wse(n,e,t,r,i){return rD.apply(this,arguments)}function rD(){return(rD=v(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield wB(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Cn.error(s)}})).apply(this,arguments)}function Ise(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vB)&&t.src.includes(n))return t;return null}const Pr=new ji("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),bB=new class Sse{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ase(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function xse(n){return iD.apply(this,arguments)}function iD(){return(iD=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Ase(r)},s=mse.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function kse(n){return sD.apply(this,arguments)}function sD(){return(sD=v(function*(n,e=bB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Pr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Rse;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:6e4),EB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function EB(n,e,t){return oD.apply(this,arguments)}function oD(){return(oD=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=bB){var s;const{appId:o,measurementId:a}=n;try{yield Mse(r,e)}catch(u){if(a)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield xse(n);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!Nse(l)){if(i.deleteThrottleMetadata(o),a)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw u}const c=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?kC(t,i.intervalMillis,30):kC(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:t+1};return i.setThrottleMetadata(o,d),Cn.debug(`Calling attemptFetch again in ${c} millis`),EB(n,d,r,i)}})).apply(this,arguments)}function Mse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Nse(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Rse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let aD,fD;function uD(){return(uD=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function IB(n){fD=n}function CB(n){aD=n}function Use(){return pD.apply(this,arguments)}function pD(){return(pD=v(function*(){if(!xa())return Cn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Lh()}catch(n){return Cn.warn(Pr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function gD(){return(gD=v(function*(n,e,t,r,i,s,o){var a;const u=kse(n);u.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Cn.error(g)),e.push(u);const l=Use().then(g=>{if(g)return r.getId()}),[c,d]=yield Promise.all([u,l]);Ise(s)||yse(s,c.measurementId),fD&&(i("consent","default",fD),IB(void 0)),i("js",new Date);const p=null!==(a=o?.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=d&&(p[fse]=d),i("config",c.measurementId,p),aD&&(i("set",aD),CB(void 0)),c.measurementId})).apply(this,arguments)}class $se{constructor(e){this.app=e}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},DB=[];const TB={};let AB,Ms,My="dataLayer",mD=!1;function Hse(n,e,t){!function jse(){const n=[];if(TC()&&n.push("This is a browser extension environment."),SC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Pr.create("invalid-analytics-context",{errorInfo:e});Cn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Pr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Pr.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[r])throw Pr.create("already-exists",{id:r});if(!mD){!function _se(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(My);const{wrappedGtag:s,gtagCore:o}=function Ese(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function bse(n,e,t,r){function s(){return(s=v(function*(o,a,u){try{"event"===o?yield wse(n,e,t,a,u):"config"===o?yield vse(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(l){Cn.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ks,DB,TB,My,"gtag");Ms=s,AB=o,mD=!0}return ks[r]=function Bse(n,e,t,r,i,s,o){return gD.apply(this,arguments)}(n,DB,TB,e,AB,My,t),new $se(n)}function Wse(){return yD.apply(this,arguments)}function yD(){return(yD=v(function*(){if(TC()||!SC()||!xa())return!1;try{return yield Lh()}catch{return!1}})).apply(this,arguments)}const xB="@firebase/analytics";!function qse(){Un(new En(ky,(e,{options:t})=>Hse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Un(new En("analytics-internal",function n(e){try{const t=e.getProvider(ky).getImmediate();return{logEvent:(r,i,s)=>function zse(n,e,t,r){n=en(n),function Pse(n,e,t,r,i){return uD.apply(this,arguments)}(Ms,ks[n.app.options.appId],e,t,r).catch(i=>Cn.error(i))}(t,r,i,s)}}catch(t){throw Pr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),it(xB,"0.9.1"),it(xB,"0.9.1","esm2017")}();class Kse extends Hn{constructor(e,t){super()}schedule(e,t=0){return this}}const Ny={setInterval(n,e,...t){const{delegate:r}=Ny;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ny;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class MB extends Kse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ny.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ny.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const NB={now:()=>(NB.delegate||Date).now(),delegate:void 0};class Gh{constructor(e,t=Gh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gh.now=NB.now;class RB extends Gh{constructor(e,t=Gh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Xse=new class Yse extends RB{}(class Qse extends MB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Zse=new RB(MB),Wh=new dl("7.5.0"),_D="__angularfire_symbol__analyticsIsSupportedValue",vD="__angularfire_symbol__analyticsIsSupported",wD="__angularfire_symbol__remoteConfigIsSupportedValue",bD="__angularfire_symbol__remoteConfigIsSupported",ED="__angularfire_symbol__messagingIsSupportedValue",ID="__angularfire_symbol__messagingIsSupported";function Ry(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[vD]||(globalThis[vD]=Wse().then(n=>globalThis[_D]=n).catch(()=>globalThis[_D]=!1)),globalThis[ID]||(globalThis[ID]=_B().then(n=>globalThis[ED]=n).catch(()=>globalThis[ED]=!1)),globalThis[bD]||(globalThis[bD]=xie().then(n=>globalThis[wD]=n).catch(()=>globalThis[wD]=!1));const Py=(n,e)=>{const t=e?[e]:MU(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function rc(){}class PB{constructor(e,t=Xse){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Jse{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rc,{},rc,rc)),t.pipe(vn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oy=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new PB(Zone.current)),this.insideAngular=t.run(()=>new PB(Zone.current,Zse)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(H(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ba(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function eoe(n){return Ba().ngZone.runOutsideAngular(()=>n())}function $a(n){return Ba().ngZone.run(()=>n())}function toe(n){return Ba(),function noe(n){return function(t){return(t=t.lift(new Jse(n.ngZone))).pipe($u(n.outsideAngular),Bu(n.insideAngular))}}(Ba())(n)}const roe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$a(()=>n.apply(void 0,r))},Ns=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=$a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rc,{},rc,rc)))),r[s]=roe(r[s],t));const i=eoe(()=>n.apply(this,r));if(!e){if(i instanceof Ye){const s=Ba();return i.pipe($u(s.outsideAngular),Bu(s.insideAngular))}return $a(()=>i)}return i instanceof Ye?i.pipe(toe):i instanceof Promise?$a(()=>new Promise((s,o)=>i.then(a=>$a(()=>s(a)),a=>$a(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:$a(()=>i)};class ja{constructor(e){return e}}class Fy{constructor(){return MU()}}const DD=new W("angularfire2._apps"),soe={provide:ja,useFactory:function ioe(n){return n&&1===n.length?n[0]:new ja(Ty())},deps:[[new Nt,DD]]},ooe={provide:Fy,deps:[[new Nt,DD]]};function aoe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ja(r)}}let uoe=(()=>{class n{constructor(t){it("angularfire",Wh.full,"core"),it("angularfire",Wh.full,"app"),it("angular",_1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(H(fm))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({providers:[soe,ooe]}),n})();const coe=Ns(kU,!0),TD=new Map,OB={activated:!1,tokenObservers:[]},doe={initialized:!1,enabled:!1};function Dn(n){return TD.get(n)||Object.assign({},OB)}function Ly(){return doe}class yoe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new Zl,yield function _oe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zl,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const tr=new ji("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LB(n){if(!Dn(n).activated)throw tr.create("use-before-activation",{appName:n.name})}function xD(n,e){return kD.apply(this,arguments)}function kD(){return(kD=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw tr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw tr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function Eoe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const zh="firebase-app-check-store";let By=null;function UB(){return By||(By=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(tr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zh,{keyPath:"compositeKey"})}}catch(t){e(tr.create("storage-open",{originalErrorMessage:t?.message}))}}),By)}function MD(){return(MD=v(function*(n,e){const r=(yield UB()).transaction(zh,"readwrite"),s=r.objectStore(zh).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(tr.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const qh=new Ma("@firebase/app-check");function PD(n,e){return xa()?function Toe(n,e){return function BB(n,e){return MD.apply(this,arguments)}(function jB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HB(){return Ly().enabled}function GB(){return FD.apply(this,arguments)}function FD(){return(FD=v(function*(){const n=Ly();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Noe={error:"UNKNOWN_ERROR"};function Roe(n){return py.encodeString(JSON.stringify(n),!1)}function $y(n){return LD.apply(this,arguments)}function LD(){return(LD=v(function*(n,e=!1){const t=n.app;LB(t);const r=Dn(t);let s,i=r.token;if(i&&!ic(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ic(u)?i=u:yield PD(t,void 0))}if(!e&&i&&ic(i))return{token:i.token};let a,o=!1;if(HB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xD(Eoe(t,yield GB()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield PD(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Dn(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?qh.warn(u.message):qh.error(u),s=u}return i?s?a=ic(i)?{token:i.token,internalError:s}:qB(s):(a={token:i.token},r.token=i,yield PD(t,i)):a=qB(s),o&&zB(t,a),a})).apply(this,arguments)}function UD(n,e){const t=Dn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WB(n){const{app:e}=n,t=Dn(e);let r=t.tokenRefresher;r||(r=function Poe(n){const{app:e}=n;return new yoe(v(function*(){let r;if(r=Dn(e).token?yield $y(n,!0):yield $y(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zB(n,e){const t=Dn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ic(n){return n.expireTimeMillis-Date.now()>0}function qB(n){return{token:Roe(Noe),error:n}}class Ooe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dn(this.app);for(const t of e)UD(this.app,t.next);return Promise.resolve()}}const t$="app-check-internal";!function Qoe(){Un(new En("app-check",n=>function Foe(n,e){return new Ooe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(t$).initialize()})),Un(new En(t$,n=>function Loe(n){return{getToken:e=>$y(n,e),addTokenListener:e=>function VD(n,e,t,r){const{app:i}=n,s=Dn(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ic(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),WB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>WB(n))}(n,"INTERNAL",e),removeTokenListener:e=>UD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),it("@firebase/app-check","0.6.1")}();class Hy{constructor(){return Py("app-check")}}typeof window<"u"&&window;const eae=function r$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},i$=new ji("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),s$=new Ma("@firebase/auth");function Gy(n,...e){s$.logLevel<=Ae.ERROR&&s$.error(`Auth (${Oa}): ${n}`,...e)}function pr(n,...e){throw GD(n,...e)}function Hi(n,...e){return GD(n,...e)}function o$(n,e,t){const r=Object.assign(Object.assign({},eae()),{[e]:t});return new ji("auth","Firebase",r).create(e,{appName:n.name})}function GD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return i$.create(n,...e)}function P(n,e,...t){if(!n)throw GD(e,...t)}function Gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gy(e),new Error(e)}function yo(n,e){n||Gi(e)}const a$=new Map;function Rs(n){yo(n instanceof Function,"Expected a class definition");let e=a$.get(n);return e?(yo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a$.set(n,e),e)}function Kh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function u$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Qh{constructor(e,t){this.shortDelay=e,this.longDelay=t,yo(t>e,"Short delay should be less than long delay!"),this.isMobile=DC()||bU()}get(){return function rae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function WD(){return"http:"===u$()||"https:"===u$()}()||TC()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zD(n,e){yo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class l${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},oae=new Qh(3e4,6e4);function Wt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function tn(n,e,t,r){return qD.apply(this,arguments)}function qD(){return(qD=v(function*(n,e,t,r,i={}){return c$(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Uh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),l$.fetch()(d$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function c$(n,e,t){return KD.apply(this,arguments)}function KD(){return(KD=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sae),e);try{const i=new aae(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Yh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Yh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Yh(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Yh(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw o$(n,c,l);pr(n,c)}}catch(i){if(i instanceof Jr)throw i;pr(n,"network-request-failed")}})).apply(this,arguments)}function Ps(n,e,t,r){return QD.apply(this,arguments)}function QD(){return(QD=v(function*(n,e,t,r,i={}){const s=yield tn(n,e,t,r,i);return"mfaPendingCredential"in s&&pr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function d$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?zD(n.config,i):`${n.config.apiScheme}://${i}`}class aae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),oae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Hi(n,e,r);return i.customData._tokenResponse=t,i}function YD(){return(YD=v(function*(n,e){return tn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function cae(n,e){return ZD.apply(this,arguments)}function ZD(){return(ZD=v(function*(n,e){return tn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Xh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JD(){return(JD=v(function*(n,e=!1){const t=en(n),r=yield t.getIdToken(e),i=Wy(r);P(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xh(eT(i.auth_time)),issuedAtTime:Xh(eT(i.iat)),expirationTime:Xh(eT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function eT(n){return 1e3*Number(n)}function Wy(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Gy("JWT malformed, contained fewer than 3 sections"),null;try{const i=my(t);return i?JSON.parse(i):(Gy("Failed to decode base64 JWT payload"),null)}catch(i){return Gy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Os(n,e){return tT.apply(this,arguments)}function tT(){return(tT=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Jr&&fae(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function fae({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class pae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class h${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zh(n){return nT.apply(this,arguments)}function nT(){return(nT=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Os(n,cae(t,{idToken:r}));P(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?yae(s.providerUserInfo):[],a=mae(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new h$(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function rT(){return(rT=v(function*(n){const e=en(n);yield Zh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function mae(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yae(n){return n.map(e=>{var{providerId:t}=e,r=hd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iT(){return(iT=v(function*(n,e){const t=yield c$(n,{},v(function*(){const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=d$(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",l$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Jh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function hae(n){const e=Wy(n);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function _ae(n,e){return iT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Jh;return r&&(P("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jh,this.toJSON())}_performRefresh(){return Gi("not implemented")}}function _o(n,e){P("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ha{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new h$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield Os(t,t.stsTokenManager.getToken(t.auth,e));return P(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function dae(n){return JD.apply(this,arguments)}(this,e)}reload(){return function gae(n){return rT.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ha(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Zh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield Os(e,function uae(n,e){return YD.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,g=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,y=null!==(o=t.photoURL)&&void 0!==o?o:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,b=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,D=null!==(l=t.createdAt)&&void 0!==l?l:void 0,A=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:E,emailVerified:V,isAnonymous:z,providerData:Q,stsTokenManager:xt}=t;P(E&&xt,e,"internal-error");const Mu=Jh.fromJSON(this.name,xt);P("string"==typeof E,e,"internal-error"),_o(d,e.name),_o(p,e.name),P("boolean"==typeof V,e,"internal-error"),P("boolean"==typeof z,e,"internal-error"),_o(g,e.name),_o(y,e.name),_o(w,e.name),_o(b,e.name),_o(D,e.name),_o(A,e.name);const ZM=new Ha({uid:E,auth:e,email:p,emailVerified:V,displayName:d,isAnonymous:z,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:Mu,createdAt:D,lastLoginAt:A});return Q&&Array.isArray(Q)&&(ZM.providerData=Q.map(m_e=>Object.assign({},m_e))),b&&(ZM._redirectEventId=b),ZM}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new Jh;i.updateFromServerResponse(t);const s=new Ha({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zh(s),s})()}}const f$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function zy(n,e,t){return`firebase:${n}:${e}:${t}`}class oc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zy(this.userKey,i.apiKey,s),this.fullPersistenceKey=zy("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ha._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new oc(Rs(f$),e,r);const i=(yield Promise.all(t.map(function(){var l=v(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Rs(f$);const o=zy(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Ha._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=v(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new oc(s,e,r)):new oc(s,e,r)})()}}function p$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v$(e))return"Blackberry";if(w$(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||m$(e))&&!e.includes("edge/"))return"Chrome";if(_$(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function g$(n=Jt()){return/firefox\//i.test(n)}function sT(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m$(n=Jt()){return/crios\//i.test(n)}function y$(n=Jt()){return/iemobile/i.test(n)}function _$(n=Jt()){return/android/i.test(n)}function v$(n=Jt()){return/blackberry/i.test(n)}function w$(n=Jt()){return/webos/i.test(n)}function qy(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b$(n=Jt()){return qy(n)||_$(n)||w$(n)||v$(n)||/windows phone/i.test(n)||y$(n)}function E$(n,e=[]){let t;switch(n){case"Browser":t=p$(Jt());break;case"Worker":t=`${p$(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oa}/${r}`}class Eae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Iae{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I$(this),this.idTokenSubscription=new I$(this),this.beforeStateQueue=new Eae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i$,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield oc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return P(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield Zh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function iae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?en(e):null;return r&&P(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(Rs(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&Rs(e)||t._popupRedirectResolver;P(r,t,"argument-error"),t.redirectPersistenceManager=yield oc.create(t,[Rs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function gr(n){return en(n)}class I${constructor(e){this.auth=e,this.observer=null,this.addObserver=function ine(n,e){const t=new sne(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function C$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function D$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class T${constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,t){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}function aT(){return(aT=v(function*(n,e){return tn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function lT(){return(lT=v(function*(n,e){return Ps(n,"POST","/v1/accounts:signInWithPassword",Wt(n,e))})).apply(this,arguments)}function gT(){return(gT=v(function*(n,e){return Ps(n,"POST","/v1/accounts:signInWithEmailLink",Wt(n,e))})).apply(this,arguments)}function mT(){return(mT=v(function*(n,e){return Ps(n,"POST","/v1/accounts:signInWithEmailLink",Wt(n,e))})).apply(this,arguments)}class ef extends T${constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ef(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ef(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return v(function*(){switch(t.signInMethod){case"password":return function Aae(n,e){return lT.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function Rae(n,e){return gT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:pr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return v(function*(){switch(r.signInMethod){case"password":return function A$(n,e){return aT.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Pae(n,e){return mT.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:pr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Fs(n,e){return yT.apply(this,arguments)}function yT(){return(yT=v(function*(n,e){return Ps(n,"POST","/v1/accounts:signInWithIdp",Wt(n,e))})).apply(this,arguments)}class rf{constructor(e){var t,r,i,s,o,a;const u=Bh($h(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function $ae(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);P(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function jae(n){const e=Bh($h(n)).link,t=e?Bh($h(e)).deep_link_id:null,r=Bh($h(n)).deep_link_id;return(r?Bh($h(r)).link:null)||r||t||e||n}(e);try{return new rf(t)}catch{return null}}}let x$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ef._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=rf.parseLink(r);return P(i,"argument-error"),ef._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hae extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function k$(n,e){return IT.apply(this,arguments)}function IT(){return(IT=v(function*(n,e){return Ps(n,"POST","/v1/accounts:signUp",Wt(n,e))})).apply(this,arguments)}class ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const s=yield Ha._fromIdTokenResponse(e,r,i),o=M$(r);return new ei({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=M$(r);return new ei({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function M$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Yy extends Jr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yy.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Yy(e,t,r,i)}}function N$(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Yy._fromErrorAndOperation(n,s,e,r):s})}function TT(n,e){return ST.apply(this,arguments)}function ST(){return(ST=v(function*(n,e,t=!1){const r=yield Os(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ei._forOperation(n,"link",r)})).apply(this,arguments)}function xT(){return(xT=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Os(n,N$(r,i,e,n),t);P(s.idToken,r,"internal-error");const o=Wy(s.idToken);P(o,r,"internal-error");const{sub:a}=o;return P(n.uid===a,r,"user-mismatch"),ei._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&pr(r,"user-mismatch"),s}})).apply(this,arguments)}function O$(n,e){return kT.apply(this,arguments)}function kT(){return(kT=v(function*(n,e,t=!1){const r="signIn",i=yield N$(n,r,e),s=yield ei._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function NT(){return(NT=v(function*(n,e){return O$(gr(n),e)})).apply(this,arguments)}function Yae(n,e,t){return GT.apply(this,arguments)}function GT(){return(GT=v(function*(n,e,t){const r=gr(n),i=yield k$(r,{returnSecureToken:!0,email:e,password:t}),s=yield ei._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Xae(n,e,t){return function MT(n,e){return NT.apply(this,arguments)}(en(n),x$.credential(e,t))}function L$(n,e,t,r){return en(n).onIdTokenChanged(e,t,r)}function oue(n){return en(n).signOut()}const Jy="__sak";class V${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jy,"1"),this.storage.removeItem(Jy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fue=(()=>{class n extends V${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cue(){const n=Jt();return sT(n)||qy(n)}()&&function bae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=b$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function wae(){return function Xte(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),U$=(()=>{class n extends V${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let gue=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=v(function*(p){return p(i.origin,a)});return function(p){return d.apply(this,arguments)}}()),c=yield function pue(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function sS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class mue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=sS("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function zt(){return window}function oS(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function aS(){return(aS=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const B$="firebaseLocalStorageDb",e_="firebaseLocalStorage",$$="fbase_key";class af{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function t_(n,e){return n.transaction([e_],e?"readwrite":"readonly").objectStore(e_)}function uS(){const n=indexedDB.open(B$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(e_,{keyPath:$$})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(e_)?e(r):(r.close(),yield function Eue(){const n=indexedDB.deleteDatabase(B$);return new af(n).toPromise()}(),e(yield uS()))}))})}function j$(n,e,t){return lS.apply(this,arguments)}function lS(){return(lS=v(function*(n,e,t){const r=t_(n,!0).put({[$$]:e,value:t});return new af(r).toPromise()})).apply(this,arguments)}function cS(){return(cS=v(function*(n,e){const t=t_(n,!1).get(e),r=yield new af(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function H$(n,e){const t=t_(n,!0).delete(e);return new af(t).toPromise()}const Tue=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield uS()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return oS()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=gue._getInstance(function wue(){return oS()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function _ue(){return aS.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new mue(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function vue(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield uS();return yield j$(t,Jy,"1"),yield H$(t,Jy),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>j$(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(s=>function Iue(n,e){return cS.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>H$(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(o=>{const a=t_(o,!1).getAll();return new af(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function W$(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Wa(n,e){return e?Rs(e):(P(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}W$("rcb"),new Qh(3e4,6e4);class wS extends T${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hue(n){return O$(n.auth,new wS(n),n.bypassAuthState)}function Gue(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function P$(n,e){return xT.apply(this,arguments)}(t,new wS(n),n.bypassAuthState)}function Wue(n){return bS.apply(this,arguments)}function bS(){return(bS=v(function*(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),TT(t,new wS(n),n.bypassAuthState)})).apply(this,arguments)}class zue{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hue;case"linkViaPopup":case"linkViaRedirect":return Wue;case"reauthViaPopup":case"reauthViaRedirect":return Gue;default:pr(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Qh(2e3,1e4);const uf=new Map;class Kue extends zue{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=uf.get(t.auth._key());if(!r){try{const s=(yield function Que(n,e){return TS.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}uf.set(t.auth._key(),r)}return t.bypassAuthState||uf.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function TS(){return(TS=v(function*(n,e){const t=K$(e),r=q$(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Yue(n,e){uf.set(n._key(),e)}function q$(n){return Rs(n._redirectPersistence)}function K$(n){return zy("pendingRedirect",n.config.apiKey,n.name)}function Q$(n,e){return RS.apply(this,arguments)}function RS(){return(RS=v(function*(n,e,t=!1){const r=gr(n),i=Wa(r,e),o=yield new Kue(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class tle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function nle(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Z$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(X$(e))}saveEventToCache(e){this.cachedEventUids.add(X$(e)),this.lastProcessedEventTime=Date.now()}}function X$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function rle(n){return OS.apply(this,arguments)}function OS(){return(OS=v(function*(n,e={}){return tn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ile=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sle=/^https?/;function FS(){return(FS=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield rle(n);for(const t of e)try{if(ale(t))return}catch{}pr(n,"unauthorized-domain")})).apply(this,arguments)}function ale(n){const e=Kh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!sle.test(t))return!1;if(ile.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ule=new Qh(3e4,6e4);function J$(){const n=zt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let r_=null;function cle(n){return r_=r_||function lle(n){return new Promise((e,t)=>{var r,i,s;function o(){J$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J$(),t(Hi(n,"network-request-failed"))},timeout:ule.get()})}if(null!==(i=null===(r=zt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=zt().gapi)||void 0===s||!s.load){const a=W$("iframefcb");return zt()[a]=()=>{gapi.load?o():t(Hi(n,"network-request-failed"))},function G$(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Hi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function kue(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw r_=null,e})}(n),r_}const dle=new Qh(5e3,15e3),ple={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mle(n){const e=n.config;P(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zD(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Oa},i=gle.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Uh(r).slice(1)}`}function LS(){return LS=v(function*(n){const e=yield cle(n),t=zt().gapi;return P(t,n,"internal-error"),e.open({where:document.body,url:mle(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ple,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Hi(n,"network-request-failed"),u=zt().setTimeout(()=>{o(a)},dle.get());function l(){zt().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),LS.apply(this,arguments)}const _le={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ej{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tj(n,e,t,r,i,s){P(n.config.authDomain,n,"auth-domain-config-required"),P(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oa,eventId:i};if(e instanceof vo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",AC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof Hae){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Sle({config:n}){return n.emulator?zD(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Uh(a).slice(1)}`}const VS="webStorageSupport",xle=class Ale{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U$,this._completeRedirectFn=Q$,this._overrideRedirectResult=Yue}_openPopup(e,t,r,i){var s=this;return v(function*(){var o;yo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=tj(e,t,r,Kh(),i);return function Ile(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_le),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Jt().toLowerCase();t&&(a=m$(l)?"_blank":t),g$(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(function vae(n=Jt()){var e;return qy(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Cle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new ej(null);const d=window.open(e||"",a,c);P(d,n,"popup-blocked");try{d.focus()}catch{}return new ej(d)}(e,a,sS())})()}_openRedirect(e,t,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function yue(n){zt().location.href=n}(tj(e,t,r,Kh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function yle(n){return LS.apply(this,arguments)}(e),i=new tle(e);return r.register("authEvent",s=>(P(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(VS,{type:VS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[VS];void 0!==o&&t(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function ole(n){return FS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b$()||sT()||qy()}};var rj="@firebase/auth";class kle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ple=vU("authIdTokenMaxAge")||300;let sj=null;const Ole=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ple)return;const s=r?.token;sj!==s&&(sj=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Fle(n=Ty()){const e=Pa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function tae(n,e){const t=Pa(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(wy(t.getOptions(),e??{}))return i;pr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:xle,persistence:[Tue,fue,U$]}),r=vU("authTokenSyncURL");if(r){const s=Ole(r);(function sue(n,e,t){en(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),L$(t,o=>s(o))}const i=yU("auth");return i&&function Cae(n,e,t){const r=gr(n);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=C$(e),{host:o,port:a}=function Dae(n){const e=C$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:D$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Tae(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function oj(n){return new Ye(function(e){return{unsubscribe:L$(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Nle(n){Un(new En("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{P(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),P(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E$(n)},c=new Iae(a,u,l);return function nae(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Un(new En("auth-internal",e=>{const t=gr(e.getProvider("auth").getImmediate());return new kle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(rj,"0.21.1",function Mle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),it(rj,"0.21.1","esm2017")}("Browser");class lf{constructor(e){return e}}class US{constructor(){return Py("auth")}}const BS=new W("angularfire2.auth-instances");function Vle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new lf(r)}}const Ule={provide:US,deps:[[new Nt,BS]]},Ble={provide:lf,useFactory:function Lle(n,e){const t=Ry("auth",n,e);return t&&new lf(t)},deps:[[new Nt,BS],ja]};let $le=(()=>{class n{constructor(){it("angularfire",Wh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({providers:[Ble,Ule]}),n})();const Hle=Ns(oj,!0),Gle=Ns(Yae,!0),Wle=Ns(Fle,!0),zle=Ns(Xae,!0),qle=Ns(oue,!0);class Ls{constructor(e){this.auth=e}registerUser({email:e,password:t}){return Gle(this.auth,e,t)}login({email:e,password:t}){return zle(this.auth,e,t)}logout(){return qle(this.auth)}}Ls.\u0275fac=function(e){return new(e||Ls)(H(lf))},Ls.\u0275prov=K({token:Ls,factory:Ls.\u0275fac,providedIn:"root"});class cf{constructor(e,t){this.userService=e,this.router=t,this.formLogin=new ql({email:new Is,password:new Is})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e),this.router.navigate(["home"]),localStorage.setItem("status","logIn")}).catch(e=>{console.log(e),Yl().fire({title:"Upss :c ...",icon:"error",text:"Verifica si tus datos son correctos",confirmButtonText:"ok"})})}}cf.\u0275fac=function(e){return new(e||cf)(x(Ls),x(Ft))},cf.\u0275cmp=Gr({type:cf,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"mt-5","mx-auto","bg-body-tertiary","border","rounded-4",2,"width","325px"],[1,"p-5"],[1,"text-center"],[3,"formGroup"],[1,"mb-4"],[1,"mb-2"],["for","",1,""],["type","email","formControlName","email","placeholder","Correo",1,"form-control"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control"],["routerLink","/register"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(he(0,"div",0)(1,"div",1)(2,"h1",2),He(3,"Login"),ce(),he(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),He(8,"Correo"),ce()(),he(9,"div"),Ln(10,"input",7),ce()(),he(11,"div",5)(12,"div",5)(13,"label",6),He(14,"Password"),ce()(),he(15,"div"),Ln(16,"input",8),ce()(),he(17,"div",4)(18,"a",9),He(19,"\xbfNo est\xe1s registrado?"),ce()(),he(20,"div",2)(21,"button",10),_n("click",function(){return t.onSubmit()}),He(22,"Login"),ce()()()()()),2&e&&(so(4),Dl("formGroup",t.formLogin))},dependencies:[fy,Wl,ry,iy,Ql,Fh,Hl]});class df{constructor(e,t){this.userService=e,this.router=t,this.formRegister=new ql({email:new Is,password:new Is})}ngOnInit(){}onSubmit(){console.log(this.formRegister.value),this.userService.registerUser(this.formRegister.value).then(e=>{console.log(e),Yl().fire({position:"center",icon:"success",title:"Registrado correctamente",showConfirmButton:!1,timer:1500}),this.userService.logout(),this.router.navigate(["login"])}).catch(e=>{console.log(e),Yl().fire({title:"Upss :c ...",icon:"info",text:"Llena los campos correctamente",confirmButtonText:"ok"})})}}df.\u0275fac=function(e){return new(e||df)(x(Ls),x(Ft))},df.\u0275cmp=Gr({type:df,selectors:[["app-register"]],decls:23,vars:1,consts:[[1,"mt-5","mx-auto","border","rounded-4",2,"width","350px"],[1,"p-5"],[1,"text-center"],[3,"formGroup"],[1,"mb-4"],[1,"mb-2"],["for","",1,""],["type","email","formControlName","email","placeholder","Inserte su correo",1,"form-control"],["type","password","formControlName","password","placeholder","Cree una contrase\xf1a",1,"form-control"],["routerLink","/login"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(he(0,"div",0)(1,"div",1)(2,"h1",2),He(3,"Reg\xedstrate"),ce(),he(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),He(8,"Correo"),ce()(),he(9,"div"),Ln(10,"input",7),ce()(),he(11,"div",5)(12,"div",5)(13,"label",6),He(14,"Password"),ce()(),he(15,"div"),Ln(16,"input",8),ce()(),he(17,"div",4)(18,"a",9),He(19,"Ya estoy registrado"),ce()(),he(20,"div",2)(21,"button",10),_n("click",function(){return t.onSubmit()}),He(22,"Registrar"),ce()()()()()),2&e&&(so(4),Dl("formGroup",t.formRegister))},dependencies:[fy,Wl,ry,iy,Ql,Fh,Hl]});var G,Kle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},$S=$S||{},se=Kle||self;function i_(){}function s_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jS="closure_uid_"+(1e9*Math.random()>>>0),Yle=0;function Xle(n,e,t){return n.call.apply(n.bind,arguments)}function Zle(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Bn(n,e,t){return(Bn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xle:Zle).apply(null,arguments)}function o_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Tn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function wo(){this.s=this.s,this.o=this.o}wo.prototype.s=!1,wo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Qle(n){Object.prototype.hasOwnProperty.call(n,jS)&&n[jS]||(n[jS]=++Yle)}(this)},wo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function HS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lj(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(s_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function $n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}$n.prototype.h=function(){this.defaultPrevented=!0};var ece=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{se.addEventListener("test",i_,e),se.removeEventListener("test",i_,e)}catch{}return n}();function a_(n){return/^[\s\xa0]*$/.test(n)}var cj=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function GS(n,e){return n<e?-1:n>e?1:0}function u_(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function Wi(n){return-1!=u_().indexOf(n)}function WS(n){return WS[" "](n),n}WS[" "]=i_;var l_,n,nce=Wi("Opera"),ac=Wi("Trident")||Wi("MSIE"),dj=Wi("Edge"),zS=dj||ac,hj=Wi("Gecko")&&!(-1!=u_().toLowerCase().indexOf("webkit")&&!Wi("Edge"))&&!(Wi("Trident")||Wi("MSIE"))&&!Wi("Edge"),rce=-1!=u_().toLowerCase().indexOf("webkit")&&!Wi("Edge");function fj(){var n=se.document;return n?n.documentMode:void 0}e:{var qS="",KS=(n=u_(),hj?/rv:([^\);]+)(\)|;)/.exec(n):dj?/Edge\/([\d\.]+)/.exec(n):ac?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rce?/WebKit\/(\S+)/.exec(n):nce?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KS&&(qS=KS?KS[1]:""),ac){var QS=fj();if(null!=QS&&QS>parseFloat(qS)){l_=String(QS);break e}}l_=qS}var ice={};var oce=se.document&&ac&&(fj()||parseInt(l_,10))||void 0;function ff(n,e){if($n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hj){e:{try{WS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ace[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ff.X.h.call(this)}}Tn(ff,$n);var ace={2:"touch",3:"pen",4:"mouse"};ff.prototype.h=function(){ff.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pf="closure_listenable_"+(1e6*Math.random()|0),uce=0;function lce(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++uce,this.ba=this.ea=!1}function c_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function XS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gj(n){const e={};for(const t in n)e[t]=n[t];return e}const mj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<mj.length;s++)t=mj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function d_(n){this.src=n,this.g={},this.h=0}function ZS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=uj(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(c_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function JS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}d_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=JS(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new lce(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var eA="closure_lm_"+(1e6*Math.random()|0),tA={};function _j(n,e,t,r,i){if(r&&r.once)return wj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_j(n,e[s],t,r,i);return null}return t=sA(t),n&&n[pf]?n.N(e,t,hf(r)?!!r.capture:!!r,i):vj(n,e,t,!1,r,i)}function vj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=hf(i)?!!i.capture:!!i,a=rA(n);if(a||(n[eA]=a=new d_(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function cce(){const e=dce;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ece||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ej(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wj(n,e[s],t,r,i);return null}return t=sA(t),n&&n[pf]?n.O(e,t,hf(r)?!!r.capture:!!r,i):vj(n,e,t,!0,r,i)}function bj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bj(n,e[s],t,r,i);else r=hf(r)?!!r.capture:!!r,t=sA(t),n&&n[pf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=JS(s=n.g[e],t,r,i))&&(c_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=rA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=JS(e,t,r,i)),(t=-1<n?e[n]:null)&&nA(t))}function nA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[pf])ZS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ej(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rA(e))?(ZS(t,n),0==t.h&&(t.src=null,e[eA]=null)):c_(n)}}}function Ej(n){return n in tA?tA[n]:tA[n]="on"+n}function dce(n,e){if(n.ba)n=!0;else{e=new ff(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&nA(n),n=t.call(r,e)}return n}function rA(n){return(n=n[eA])instanceof d_?n:null}var iA="__closure_events_fn_"+(1e9*Math.random()>>>0);function sA(n){return"function"==typeof n?n:(n[iA]||(n[iA]=function(e){return n.handleEvent(e)}),n[iA])}function nn(){wo.call(this),this.i=new d_(this),this.P=this,this.I=null}function Sn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $n(e,n);else if(e instanceof $n)e.target=e.target||n;else{var i=e;yj(e=new $n(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=h_(o,r,!0,e)&&i}if(i=h_(o=e.g=n,r,!0,e)&&i,i=h_(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=h_(o=e.g=t[s],r,!1,e)&&i}function h_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&ZS(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Tn(nn,wo),nn.prototype[pf]=!0,nn.prototype.removeEventListener=function(n,e,t,r){bj(this,n,e,t,r)},nn.prototype.M=function(){if(nn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)c_(t[r]);delete n.g[e],n.h--}}this.I=null},nn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},nn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var oA=se.JSON.stringify;function hce(){var n=Dj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aA,Ij=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pce,n=>n.reset());class pce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gce(n){se.setTimeout(()=>{throw n},0)}function Cj(n,e){aA||function mce(){var n=se.Promise.resolve(void 0);aA=function(){n.then(yce)}}(),uA||(aA(),uA=!0),Dj.add(n,e)}var uA=!1,Dj=new class fce{constructor(){this.h=this.g=null}add(e,t){const r=Ij.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yce(){for(var n;n=hce();){try{n.h.call(n.g)}catch(t){gce(t)}var e=Ij;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uA=!1}function f_(n,e){nn.call(this),this.h=n||1,this.g=e||se,this.j=Bn(this.lb,this),this.l=Date.now()}function lA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function cA(n,e,t){if("function"==typeof n)t&&(n=Bn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Bn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function Tj(n){n.g=cA(()=>{n.g=null,n.i&&(n.i=!1,Tj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Tn(f_,nn),(G=f_.prototype).ca=!1,G.R=null,G.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Sn(this,"tick"),this.ca&&(lA(this),this.start()))}},G.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},G.M=function(){f_.X.M.call(this),lA(this),delete this.g};class _ce extends wo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tj(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gf(n){wo.call(this),this.h=n,this.g={}}Tn(gf,wo);var Sj=[];function Aj(n,e,t,r){Array.isArray(t)||(t&&(Sj[0]=t.toString()),t=Sj);for(var i=0;i<t.length;i++){var s=_j(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function xj(n){XS(n.g,function(e,t){this.g.hasOwnProperty(t)&&nA(e)},n),n.g={}}function p_(){this.g=!0}function uc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ece(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return oA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}gf.prototype.M=function(){gf.X.M.call(this),xj(this)},gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},p_.prototype.Aa=function(){this.g=!1},p_.prototype.info=function(){};var za={},kj=null;function g_(){return kj=kj||new nn}function Mj(n){$n.call(this,za.Pa,n)}function mf(n){const e=g_();Sn(e,new Mj(e))}function Nj(n,e){$n.call(this,za.STAT_EVENT,n),this.stat=e}function nr(n){const e=g_();Sn(e,new Nj(e,n))}function Rj(n,e){$n.call(this,za.Qa,n),this.size=e}function yf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}za.Pa="serverreachability",Tn(Mj,$n),za.STAT_EVENT="statevent",Tn(Nj,$n),za.Qa="timingevent",Tn(Rj,$n);var m_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Pj={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function dA(){}function Fj(){}dA.prototype.h=null;var pA,_f={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function hA(){$n.call(this,"d")}function fA(){$n.call(this,"c")}function y_(){}function vf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new gf(this),this.O=Ice,this.T=new f_(n=zS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Lj}function Lj(){this.i=null,this.g="",this.h=!1}Tn(hA,$n),Tn(fA,$n),Tn(y_,dA),y_.prototype.g=function(){return new XMLHttpRequest},y_.prototype.i=function(){return{}},pA=new y_;var Ice=45e3,gA={},__={};function mA(n,e,t){n.K=1,n.v=E_(Us(e)),n.s=t,n.P=!0,Vj(n,null)}function Vj(n,e){n.F=Date.now(),wf(n),n.A=Us(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Kj(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Lj,n.g=_H(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _ce(Bn(n.La,n,n.g),n.N)),Aj(n.S,n.g,"readystatechange",n.ib),e=n.H?gj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),mf(),function vce(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Uj(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Bj(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Cce(n,t),i==__){4==e&&(n.o=4,nr(14),r=!1),uc(n.j,n.m,null,"[Incomplete Response]");break}if(i==gA){n.o=4,nr(15),uc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}uc(n.j,n.m,i,null),yA(n,i)}Uj(n)&&i!=__&&i!=gA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,nr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),DA(e),e.K=!0,nr(11))):(uc(n.j,n.m,t,"[Invalid Chunked Response]"),qa(n),bf(n))}function Cce(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?__:(t=Number(e.substring(t,r)),isNaN(t)?gA:(r+=1)+t>e.length?__:(e=e.substr(r,t),n.C=r+t,e))}function wf(n){n.V=Date.now()+n.O,$j(n,n.O)}function $j(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yf(Bn(n.gb,n),e)}function v_(n){n.B&&(se.clearTimeout(n.B),n.B=null)}function bf(n){0==n.l.G||n.I||pH(n.l,n)}function qa(n){v_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,lA(n.T),xj(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_A(t.h,n)))if(!n.J&&_A(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;A_(t),T_(t)}CA(t),nr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=yf(Bn(t.cb,t),6e3));if(1>=Xj(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Qa(t,11)}else if((n.J||t.g==n)&&A_(t),!a_(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.T=l[0],l=l[1],2==t.G)if("c"==l[0]){t.I=l[1],t.ka=l[2];const c=l[3];null!=c&&(t.ma=c,t.j.info("VER="+t.ma));const d=l[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const p=l[5];null!=p&&"number"==typeof p&&0<p&&(t.J=r=1.5*p,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const g=n.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vA(s,s.h),s.h=null))}if(r.D){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,lt(r.F,r.D,w))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=yH(r,r.H?r.ka:null,r.V),o.J){Zj(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(v_(a),wf(a)),r.g=o}else hH(r);0<t.i.length&&S_(t)}else"stop"!=l[0]&&"close"!=l[0]||Qa(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Qa(t,7):IA(t):"noop"!=l[0]&&t.l&&t.l.wa(l),t.A=0)}mf()}catch{}}function jj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(s_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Tce(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(s_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Dce(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(s_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(G=vf.prototype).setTimeout=function(n){this.O=n},G.ib=function(n){n=n.target;const e=this.L;e&&3==Bs(n)?e.l():this.La(n)},G.La=function(n){try{if(n==this.g)e:{const c=Bs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>c)&&(3!=c||zS||this.g&&(this.h.h||this.g.fa()||oH(this.g)))){this.I||4!=c||7==e||mf(),v_(this);var t=this.g.aa();this.Y=t;t:if(Uj(this)){var r=oH(this.g);n="";var i=r.length,s=4==Bs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qa(this),bf(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function wce(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,c,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!a_(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,nr(12),qa(this),bf(this);break e}uc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yA(this,t)}this.P?(Bj(this,c,o),zS&&this.i&&3==c&&(Aj(this.S,this.T,"tick",this.hb),this.T.start())):(uc(this.j,this.m,o,null),yA(this,o)),4==c&&qa(this),this.i&&!this.I&&(4==c?pH(this.l,this):(this.i=!1,wf(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,nr(12)):(this.o=0,nr(13)),qa(this),bf(this)}}}catch{}},G.hb=function(){if(this.g){var n=Bs(this.g),e=this.g.fa();this.C<e.length&&(v_(this),Bj(this,n,e),this.i&&4!=n&&wf(this))}},G.cancel=function(){this.I=!0,qa(this)},G.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function bce(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mf(),nr(17)),qa(this),this.o=2,bf(this)):$j(this,this.V-n)};var Hj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ka){this.h=void 0!==e?e:n.h,w_(this,n.j),this.s=n.s,this.g=n.g,b_(this,n.m),this.l=n.l,e=n.i;var t=new Cf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Gj(this,t),this.o=n.o}else n&&(t=String(n).match(Hj))?(this.h=!!e,w_(this,t[1]||"",!0),this.s=Ef(t[2]||""),this.g=Ef(t[3]||"",!0),b_(this,t[4]),this.l=Ef(t[5]||"",!0),Gj(this,t[6]||"",!0),this.o=Ef(t[7]||"")):(this.h=!!e,this.i=new Cf(null,this.h))}function Us(n){return new Ka(n)}function w_(n,e,t){n.j=t?Ef(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function b_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Gj(n,e,t){e instanceof Cf?(n.i=e,function Rce(n,e){e&&!n.j&&(bo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zj(this,r),Kj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=If(e,Mce)),n.i=new Cf(e,n.h))}function lt(n,e,t){n.i.set(e,t)}function E_(n){return lt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ef(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function If(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ace),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ace(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ka.prototype.toString=function(){var n=[],e=this.j;e&&n.push(If(e,Wj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(If(e,Wj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(If(t,"/"==t.charAt(0)?kce:xce,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",If(t,Nce)),n.join("")};var Wj=/[#\/\?@]/g,xce=/[#\?:]/g,kce=/[#\?]/g,Mce=/[#\?@]/g,Nce=/#/g;function Cf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bo(n){n.g||(n.g=new Map,n.h=0,n.i&&function Sce(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zj(n,e){bo(n),e=lc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qj(n,e){return bo(n),e=lc(n,e),n.g.has(e)}function Kj(n,e,t){zj(n,e),0<t.length&&(n.i=null,n.g.set(lc(n,e),HS(t)),n.h+=t.length)}function lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qj(n){this.l=n||Oce,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(G=Cf.prototype).add=function(n,e){bo(this),this.i=null,n=lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},G.forEach=function(n,e){bo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},G.oa=function(){bo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},G.W=function(n){bo(this);let e=[];if("string"==typeof n)qj(this,n)&&(e=e.concat(this.g.get(lc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},G.set=function(n,e){return bo(this),this.i=null,qj(this,n=lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},G.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Oce=10;function Yj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xj(n){return n.h?1:n.g?n.g.size:0}function _A(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vA(n,e){n.g?n.g.add(e):n.h=e}function Zj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Jj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return HS(n.i)}function wA(){}function Fce(){this.g=new wA}function Lce(n,e,t){const r=t||"";try{jj(n,function(i,s){let o=i;hf(i)&&(o=oA(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Df(n){this.l=n.ac||null,this.j=n.jb||!1}function C_(n,e){nn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qj.prototype.cancel=function(){if(this.i=Jj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},wA.prototype.stringify=function(n){return se.JSON.stringify(n,void 0)},wA.prototype.parse=function(n){return se.JSON.parse(n,void 0)},Tn(Df,dA),Df.prototype.g=function(){return new C_(this.l,this.j)},Df.prototype.i=function(n){return function(){return n}}({}),Tn(C_,nn);var bA=0;function eH(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Tf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sf(n)}function Sf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(G=C_.prototype).open=function(n,e){if(this.readyState!=bA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sf(this)},G.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tf(this)),this.readyState=bA},G.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sf(this)),this.g&&(this.readyState=3,Sf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eH(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},G.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Tf(this):Sf(this),3==this.readyState&&eH(this)}},G.Va=function(n){this.g&&(this.response=this.responseText=n,Tf(this))},G.Ua=function(n){this.g&&(this.response=n,Tf(this))},G.ga=function(){this.g&&Tf(this)},G.setRequestHeader=function(n,e){this.v.append(n,e)},G.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},G.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(C_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Uce=se.JSON.parse;function wt(n){nn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tH,this.K=this.L=!1}Tn(wt,nn);var tH="",Bce=/^https?$/i,$ce=["POST","PUT"];function nH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rH(n),D_(n)}function rH(n){n.D||(n.D=!0,Sn(n,"complete"),Sn(n,"error"))}function iH(n){if(n.h&&typeof $S<"u"&&(!n.C[1]||4!=Bs(n)||2!=n.aa()))if(n.v&&4==Bs(n))cA(n.Ha,0,n);else if(Sn(n,"readystatechange"),4==Bs(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(Hj)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!Bce.test(i?i.toLowerCase():"")}t=r}if(t)Sn(n,"complete"),Sn(n,"success");else{n.m=6;try{var o=2<Bs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",rH(n)}}finally{D_(n)}}}function D_(n,e){if(n.g){sH(n);const t=n.g,r=n.C[0]?i_:null;n.g=null,n.C=null,e||Sn(n,"ready");try{t.onreadystatechange=r}catch{}}}function sH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Bs(n){return n.g?n.g.readyState:0}function oH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aH(n){let e="";return XS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function EA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=aH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lt(n,e,t))}function Af(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uH(n){this.Ca=0,this.i=[],this.j=new p_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Af("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Af("baseRetryDelayMs",5e3,n),this.bb=Af("retryDelaySeedMs",1e4,n),this.$a=Af("forwardChannelMaxRetries",2,n),this.ta=Af("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Qj(n&&n.concurrentRequestLimit),this.Fa=new Fce,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function IA(n){if(lH(n),3==n.G){var e=n.U++,t=Us(n.F);lt(t,"SID",n.I),lt(t,"RID",e),lt(t,"TYPE","terminate"),xf(n,t),(e=new vf(n,n.j,e,void 0)).K=2,e.v=E_(Us(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=_H(e.l,null),e.g.da(e.v)),e.F=Date.now(),wf(e)}mH(n)}function T_(n){n.g&&(DA(n),n.g.cancel(),n.g=null)}function lH(n){T_(n),n.u&&(se.clearTimeout(n.u),n.u=null),A_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function S_(n){Yj(n.h)||n.m||(n.m=!0,Cj(n.Ja,n),n.C=0)}function cH(n,e){var t;t=e?e.m:n.U++;const r=Us(n.F);lt(r,"SID",n.I),lt(r,"RID",t),lt(r,"AID",n.T),xf(n,r),n.o&&n.s&&EA(r,n.o,n.s),t=new vf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=dH(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),vA(n.h,t),mA(t,r,e)}function xf(n,e){n.ia&&XS(n.ia,function(t,r){lt(e,r,t)}),n.l&&jj({},function(t,r){lt(e,r,t)})}function dH(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Bn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{Lce(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function hH(n){n.g||n.u||(n.Z=1,Cj(n.Ia,n),n.A=0)}function CA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=yf(Bn(n.Ia,n),gH(n,n.A)),n.A++,0))}function DA(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function fH(n){n.g=new vf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Us(n.sa);lt(e,"RID","rpc"),lt(e,"SID",n.I),lt(e,"CI",n.L?"0":"1"),lt(e,"AID",n.T),lt(e,"TYPE","xmlhttp"),xf(n,e),n.o&&n.s&&EA(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=E_(Us(e)),t.s=null,t.P=!0,Vj(t,n)}function A_(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function pH(n,e){var t=null;if(n.g==e){A_(n),DA(n),n.g=null;var r=2}else{if(!_A(n.h,e))return;t=e.D,Zj(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Sn(r=g_(),new Rj(r,t)),S_(n)}else hH(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Hce(n,e){return!(Xj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=yf(Bn(n.Ja,n,e),gH(n,n.C)),n.C++,0)))}(n,e)||2==r&&CA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Qa(n,5);break;case 4:Qa(n,10);break;case 3:Qa(n,6);break;default:Qa(n,2)}}function gH(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Qa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Bn(n.kb,n);t||(t=new Ka("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||w_(t,"https"),E_(t)),function Vce(n,e){const t=new p_;if(se.Image){const r=new Image;r.onload=o_(I_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=o_(I_,t,r,"TestLoadImage: error",!1,e),r.onabort=o_(I_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=o_(I_,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else nr(2);n.G=0,n.l&&n.l.va(e),mH(n),lH(n)}function mH(n){if(n.G=0,n.la=[],n.l){const e=Jj(n.h);(0!=e.length||0!=n.i.length)&&(lj(n.la,e),lj(n.la,n.i),n.h.i.length=0,HS(n.i),n.i.length=0),n.l.ua()}}function yH(n,e,t){var r=t instanceof Ka?Us(t):new Ka(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),b_(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ka(null,void 0);r&&w_(s,r),e&&(s.g=e),i&&b_(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&lt(r,t,e),lt(r,"VER",n.ma),xf(n,r),r}function _H(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wt(t&&n.Da&&!n.ra?new Df({jb:!0}):n.ra)).Ka(n.H),e}function vH(){}function x_(){if(ac&&!(10<=Number(oce)))throw Error("Environmental error: no available transport.")}function Or(n,e){nn.call(this),this.g=new uH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!a_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!a_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cc(this)}function wH(n){hA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bH(){fA.call(this),this.status=1}function cc(n){this.g=n}(G=wt.prototype).Ka=function(n){this.L=n},G.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pA.g(),this.C=function Oj(n){return n.h||(n.h=n.i())}(this.u?this.u:pA),this.g.onreadystatechange=Bn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void nH(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=uj($ce,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sH(this),0<this.B&&((this.K=function jce(n){return ac&&function sce(){return function tce(n){var e=ice;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=cj(String(l_)).split("."),t=cj("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=GS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||GS(0==i[2].length,0==s[2].length)||GS(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bn(this.qa,this)):this.A=cA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){nH(this,s)}},G.qa=function(){typeof $S<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sn(this,"timeout"),this.abort(8))},G.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Sn(this,"complete"),Sn(this,"abort"),D_(this))},G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),D_(this,!0)),wt.X.M.call(this)},G.Ha=function(){this.s||(this.F||this.v||this.l?iH(this):this.fb())},G.fb=function(){iH(this)},G.aa=function(){try{return 2<Bs(this)?this.g.status:-1}catch{return-1}},G.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},G.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Uce(e)}},G.Ea=function(){return this.m},G.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(G=uH.prototype).ma=8,G.G=1,G.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new vf(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=gj(s),yj(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dH(this,i,e),lt(t=Us(this.F),"RID",n),lt(t,"CVER",22),this.D&&lt(t,"X-HTTP-Session-Id",this.D),xf(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(aH(s)))+"&"+e:this.o&&EA(t,this.o,s)),vA(this.h,i),this.Ya&&lt(t,"TYPE","init"),this.O?(lt(t,"$req",e),lt(t,"SID","null"),i.Z=!0,mA(i,t,null)):mA(i,t,e),this.G=2}}else 3==this.G&&(n?cH(this,n):0==this.i.length||Yj(this.h)||cH(this))},G.Ia=function(){if(this.u=null,fH(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=yf(Bn(this.eb,this),n)}},G.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nr(10),T_(this),fH(this))},G.cb=function(){null!=this.v&&(this.v=null,T_(this),CA(this),nr(19))},G.kb=function(n){n?(this.j.info("Successfully pinged google.com"),nr(2)):(this.j.info("Failed to ping google.com"),nr(1))},(G=vH.prototype).xa=function(){},G.wa=function(){},G.va=function(){},G.ua=function(){},G.Ra=function(){},x_.prototype.g=function(n,e){return new Or(n,e)},Tn(Or,nn),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;nr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yH(n,null,n.V),S_(n)},Or.prototype.close=function(){IA(this.g)},Or.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=oA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&S_(e)},Or.prototype.M=function(){this.g.l=null,delete this.j,IA(this.g),delete this.g,Or.X.M.call(this)},Tn(wH,hA),Tn(bH,fA),Tn(cc,vH),cc.prototype.xa=function(){Sn(this.g,"a")},cc.prototype.wa=function(n){Sn(this.g,new wH(n))},cc.prototype.va=function(n){Sn(this.g,new bH)},cc.prototype.ua=function(){Sn(this.g,"b")},x_.prototype.createWebChannel=x_.prototype.g,Or.prototype.send=Or.prototype.u,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,m_.NO_ERROR=0,m_.TIMEOUT=8,m_.HTTP_ERROR=6,Pj.COMPLETE="complete",Fj.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",nn.prototype.listen=nn.prototype.N,wt.prototype.listenOnce=wt.prototype.O,wt.prototype.getLastError=wt.prototype.Oa,wt.prototype.getLastErrorCode=wt.prototype.Ea,wt.prototype.getStatus=wt.prototype.aa,wt.prototype.getResponseJson=wt.prototype.Sa,wt.prototype.getResponseText=wt.prototype.fa,wt.prototype.send=wt.prototype.da,wt.prototype.setWithCredentials=wt.prototype.Ka;var Gce=Vs.createWebChannelTransport=function(){return new x_},Wce=Vs.getStatEventTarget=function(){return g_()},TA=Vs.ErrorCode=m_,zce=Vs.EventType=Pj,qce=Vs.Event=za,EH=Vs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Kce=Vs.FetchXmlHttpFactory=Df,k_=Vs.WebChannel=Fj,Qce=Vs.XhrIo=wt;const IH="@firebase/firestore";class rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let dc="9.16.0";const Eo=new Ma("@firebase/firestore");function SA(){return Eo.logLevel}function N(n,...e){if(Eo.logLevel<=Ae.DEBUG){const t=e.map(AA);Eo.debug(`Firestore (${dc}): ${n}`,...t)}}function Dt(n,...e){if(Eo.logLevel<=Ae.ERROR){const t=e.map(AA);Eo.error(`Firestore (${dc}): ${n}`,...t)}}function hc(n,...e){if(Eo.logLevel<=Ae.WARN){const t=e.map(AA);Eo.warn(`Firestore (${dc}): ${n}`,...t)}}function AA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw Dt(e),new Error(e)}function j(n,e){n||$()}function L(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class Xce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zce{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new qt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new CH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new rn(e)}}class Jce{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(j(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ede{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Jce(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tde{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j("string"==typeof t.token),this.A=t.token,new DH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class TH{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(n,e){return n<e?-1:n>e?1:0}function fc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class gt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new gt(0,0))}static max(){return new q(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kf{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===kf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ne extends kf{construct(e,t,r){return new Ne(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ne(t)}static emptyPath(){return new Ne([])}}const rde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends kf{construct(e,t,r){return new Tt(e,t,r)}static isValidIdentifier(e){return rde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(t)}static emptyPath(){return new Tt([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(Ne.fromString(e))}static fromName(e){return new O(Ne.fromString(e).popFirst(5))}static empty(){return new O(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new Ne(e.slice()))}}function xH(n){return new Fr(n.readTime,n.key,-1)}class Fr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fr(q.min(),O.empty(),-1)}static max(){return new Fr(q.max(),O.empty(),-1)}}function kA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=O.comparator(n.documentKey,e.documentKey),0!==t?t:oe(n.largestBatchId,e.largestBatchId))}const kH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ode{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Io(n){return MA.apply(this,arguments)}function MA(){return MA=v(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==kH)throw n;N("LocalStore","Unexpectedly lost primary lease")}),MA.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new I((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Co(n){return"IndexedDbTransactionError"===n.name}let Lr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class dde{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}function NH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ja(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rf(n){return null==n}function Pf(n){return 0===n&&1/n==-1/0}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Kt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const hde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(n){if(j(!!n),"string"==typeof n){let e=0;const t=hde.exec(n);if(j(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function eu(n){return"string"==typeof n?Kt.fromBase64String(n):Kt.fromUint8Array(n)}function RA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OH(n){const e=n.mapValue.fields.__previous_value__;return RA(e)?OH(e):e}function Of(n){const e=Do(n.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}const To_mapValue={fields:{__type__:{stringValue:"__max__"}}};function tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RA(n)?4:UH(n)?9007199254740991:10:$()}function zi(n,e){if(n===e)return!0;const t=tu(n);if(t!==tu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Of(n).isEqual(Of(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Do(r.timestampValue),o=Do(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,eu(n.bytesValue).isEqual(eu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?Pf(s)===Pf(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return fc(n.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(NH(s)!==NH(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!zi(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function Ff(n,e){return void 0!==(n.values||[]).find(t=>zi(t,e))}function So(n,e){if(n===e)return 0;const t=tu(n),r=tu(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return FH(n.timestampValue,e.timestampValue);case 4:return FH(Of(n),Of(e));case 5:return oe(n.stringValue,e.stringValue);case 6:return function(i,s){const o=eu(i),a=eu(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=oe(o[u],a[u]);if(0!==l)return l}return oe(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=oe(bt(i.latitude),bt(s.latitude));return 0!==o?o:oe(bt(i.longitude),bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=So(o[u],a[u]);if(l)return l}return oe(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===To_mapValue&&s===To_mapValue)return 0;if(i===To_mapValue)return 1;if(s===To_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=oe(a[c],l[c]);if(0!==d)return d;const p=So(o[a[c]],u[l[c]]);if(0!==p)return p}return oe(a.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function FH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return oe(n,e);const t=Do(n),r=Do(e),i=oe(t.seconds,r.seconds);return 0!==i?i:oe(t.nanos,r.nanos)}function pc(n){return PA(n)}function PA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Do(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?eu(n.bytesValue).toBase64():"referenceValue"in n?O.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=PA(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${PA(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function OA(n){return!!n&&"integerValue"in n}function Lf(n){return!!n&&"arrayValue"in n}function LH(n){return!!n&&"nullValue"in n}function VH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function O_(n){return!!n&&"mapValue"in n}function Vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ja(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ao{constructor(e,t){this.position=e,this.inclusive=t}}function jH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),t.key):So(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function HH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zi(n.position[t],e.position[t]))return!1;return!0}class GH{}class De extends GH{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gde(e,t,r):"array-contains"===t?new _de(e,r):"in"===t?new YH(e,r):"not-in"===t?new vde(e,r):"array-contains-any"===t?new wde(e,r):new De(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mde(e,r):new yde(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(So(t,this.value)):null!==t&&tu(this.value)===tu(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ge extends GH{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ge(e,t)}matches(e){return gc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gc(n){return"and"===n.op}function LA(n){return function WH(n){for(const e of n.filters)if(e instanceof Ge)return!1;return!0}(n)&&gc(n)}function VA(n){if(n instanceof De)return n.field.canonicalString()+n.op.toString()+pc(n.value);if(LA(n))return n.filters.map(e=>VA(e)).join(",");{const e=n.filters.map(t=>VA(t)).join(",");return`${n.op}(${e})`}}function zH(n,e){return n instanceof De?(t=n,(r=e)instanceof De&&t.op===r.op&&t.field.isEqual(r.field)&&zi(t.value,r.value)):n instanceof Ge?function(t,r){return r instanceof Ge&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&zH(s,r.filters[o]),!0)}(n,e):void $();var t,r}function KH(n){return n instanceof De?`${(e=n).field.canonicalString()} ${e.op} ${pc(e.value)}`:n instanceof Ge?function(e){return e.op.toString()+" {"+e.getFilters().map(KH).join(" ,")+"}"}(n):"Filter";var e}class gde extends De{constructor(e,t,r){super(e,t,r),this.key=O.fromName(r.referenceValue)}matches(e){const t=O.comparator(e.key,this.key);return this.matchesComparison(t)}}class mde extends De{constructor(e,t){super(e,"in",t),this.keys=QH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yde extends De{constructor(e,t){super(e,"not-in",t),this.keys=QH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>O.fromName(r.referenceValue))}class _de extends De{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lf(t)&&Ff(t.arrayValue,this.value)}}class YH extends De{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ff(this.value.arrayValue,t)}}class vde extends De{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ff(this.value.arrayValue,t)}}class wde extends De{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ff(this.value.arrayValue,r))}}class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function bde(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Et{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F_(this.root,e,this.comparator,!1)}getReverseIterator(){return new F_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F_(this.root,e,this.comparator,!0)}}class F_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new An(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1,An.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new An(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XH(this.data.getIterator())}getIteratorFrom(e){return new XH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qe(this.comparator);return t.data=e,t}}class XH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mr{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new mr([])}unionWith(e){let t=new Qe(Tt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!O_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Vf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());O_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];O_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ja(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(Vf(this.value))}}function ZH(n){const e=[];return Ja(n.fields,(t,r)=>{const i=new Tt([t]);if(O_(r)){const s=ZH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mr(e)}class st{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,q.min(),q.min(),q.min(),xn.empty(),0)}static newFoundDocument(e,t,r,i){return new st(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new st(e,2,t,q.min(),q.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new st(e,3,t,q.min(),q.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ede{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function UA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ede(n,e,t,r,i,s,o)}function ru(n){const e=L(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pc(r)).join(",")),e.ft=t}return e.ft}function Uf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bde(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HH(n.startAt,e.startAt)&&HH(n.endAt,e.endAt)}function L_(n){return O.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class $s{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function _c(n){return new $s(n)}function nG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iu(n){const e=L(n);if(null===e.dt){e.dt=[];const t=function U_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function BA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new mc(t)),e.dt.push(new mc(Tt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new mc(Tt.keyField(),s))}}}return e.dt}function rr(n){const e=L(n);if(!e._t)if("F"===e.limitType)e._t=UA(e.path,e.collectionGroup,iu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of iu(e))t.push(new mc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ao(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ao(e.startAt.position,e.startAt.inclusive):null;e._t=UA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function B_(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bf(n,e){return Uf(rr(n),rr(e))&&n.limitType===e.limitType}function rG(n){return`${ru(rr(n))}|lt:${n.limitType}`}function HA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>KH(r)).join(", ")}]`),Rf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pc(r)).join(",")),`Target(${t})`}(rr(n))}; limitType=${n.limitType})`}function GA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):O.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of iu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=jH(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,iu(t),r)||t.endAt&&!function(i,s,o){const a=jH(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,iu(t),r)));var t,r}function sG(n){return(e,t)=>{let r=!1;for(const i of iu(n)){const s=Ide(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ide(n,e,t){const r=n.field.isKeyField()?O.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?So(a,u):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function oG(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function aG(n){return{integerValue:""+n}}function uG(n,e){return function PH(n){return"number"==typeof n&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?aG(e):oG(n,e)}class $_{constructor(){this._=void 0}}function Cde(n,e,t){return n instanceof vc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof su?cG(n,e):n instanceof ou?dG(n,e):function(r,i){const s=lG(r,i),o=hG(s)+hG(r.gt);return OA(s)&&OA(r.gt)?aG(o):oG(r.yt,o)}(n,e)}function Dde(n,e,t){return n instanceof su?cG(n,e):n instanceof ou?dG(n,e):t}function lG(n,e){return n instanceof wc?OA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class vc extends $_{}class su extends $_{constructor(e){super(),this.elements=e}}function cG(n,e){const t=fG(e);for(const r of n.elements)t.some(i=>zi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ou extends $_{constructor(e){super(),this.elements=e}}function dG(n,e){let t=fG(e);for(const r of n.elements)t=t.filter(i=>!zi(i,r));return{arrayValue:{values:t}}}class wc extends $_{constructor(e,t){super(),this.yt=e,this.gt=t}}function hG(n){return bt(n.integerValue||n.doubleValue)}function fG(n){return Lf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sde{constructor(e,t){this.version=e,this.transformResults=t}}class ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function j_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class H_{}function pG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ec(n.key,ct.none()):new bc(n.key,n.data,ct.none());{const t=n.data,r=xn.empty();let i=new Qe(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new js(n.key,r,new mr(i.toArray()),ct.none())}}function Ade(n,e,t){n instanceof bc?function(r,i,s){const o=r.value.clone(),a=yG(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof js?function(r,i,s){if(!j_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yG(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(mG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jf(n,e,t,r){return n instanceof bc?function(i,s,o,a){if(!j_(i.precondition,s))return o;const u=i.value.clone(),l=_G(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof js?function(i,s,o,a){if(!j_(i.precondition,s))return o;const u=_G(i.fieldTransforms,a,s),l=s.data;return l.setAll(mG(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,j_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function xde(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=lG(r.transform,i||null);null!=s&&(null===t&&(t=xn.empty()),t.set(r.field,s))}return t||null}function gG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&fc(t,r,(i,s)=>function Tde(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof su&&r instanceof su||t instanceof ou&&r instanceof ou?fc(t.elements,r.elements,zi):t instanceof wc&&r instanceof wc?zi(t.gt,r.gt):t instanceof vc&&r instanceof vc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class bc extends H_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends H_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yG(n,e,t){const r=new Map;j(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dde(o,a,t[i]))}return r}function _G(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Cde(s,o,e))}return r}class Ec extends H_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends H_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kde{constructor(e){this.count=e}}var Lt,Re;function vG(n){switch(n){default:return $();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function wG(n){if(void 0===n)return Dt("GRPC error has no .code"),C.UNKNOWN;switch(n){case Lt.OK:return C.OK;case Lt.CANCELLED:return C.CANCELLED;case Lt.UNKNOWN:return C.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return C.INTERNAL;case Lt.UNAVAILABLE:return C.UNAVAILABLE;case Lt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Lt.NOT_FOUND:return C.NOT_FOUND;case Lt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Lt.ABORTED:return C.ABORTED;case Lt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Lt.DATA_LOSS:return C.DATA_LOSS;default:return $()}}(Re=Lt||(Lt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";class xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RH(this.inner)}size(){return this.innerSize}}const Mde=new Et(O.comparator);function yr(){return Mde}const bG=new Et(O.comparator);function Hf(...n){let e=bG;for(const t of n)e=e.insert(t.key,t);return e}function EG(n){let e=bG;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Gf()}function IG(){return Gf()}function Gf(){return new xo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Nde=new Et(O.comparator),Rde=new Qe(O.comparator);function me(...n){let e=Rde;for(const t of n)e=e.add(t);return e}const Pde=new Qe(oe);function G_(){return Pde}class Wf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wf(q.min(),i,G_(),yr(),me())}}class zf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zf(r,t,me(),me(),me())}}class W_{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class CG{constructor(e,t){this.targetId=e,this.Et=t}}class DG{constructor(e,t,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TG{constructor(){this.At=0,this.Rt=AG(),this.bt=Kt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=me(),t=me(),r=me();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new zf(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=AG()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ode{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=yr(),this.qt=SG(),this.Ut=new Qe(oe)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(L_(s))if(0===r){const o=new O(s.path);this.Qt(t,o,st.newNoDocument(o,q.min()))}else j(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&L_(a.target)){const u=new O(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,st.newNoDocument(u,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=me();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Yt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Wf(e,t,this.Ut,this.Lt,r);return this.Lt=yr(),this.qt=SG(),this.Ut=new Qe(oe),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new TG,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Qe(oe),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||N("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new TG),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function SG(){return new Et(O.comparator)}function AG(){return new Et(O.comparator)}const Fde={asc:"ASCENDING",desc:"DESCENDING"},Lde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vde={and:"AND",or:"OR"};class Ude{constructor(e,t){this.databaseId=e,this.wt=t}}function Ic(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xG(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Bde(n,e){return Ic(n,e.toTimestamp())}function St(n){return j(!!n),q.fromTimestamp(function(e){const t=Do(e);return new gt(t.seconds,t.nanos)}(n))}function zA(n,e){return(t=n,new Ne(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kG(n){const e=Ne.fromString(n);return j(UG(e)),e}function qf(n,e){return zA(n.databaseId,e.path)}function Ki(n,e){const t=kG(e);if(t.get(1)!==n.databaseId.projectId)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new O(NG(t))}function qA(n,e){return zA(n.databaseId,e)}function Kf(n){return new Ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NG(n){return j(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RG(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function OG(n,e){return{documents:[qA(n,e.path)]}}function QA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return VG(Ge.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Cc((c=l).field),direction:Wde(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.wt||Rf(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function FG(n){let e=function MG(n){const e=kG(n);return 4===e.length?Ne.emptyPath():NG(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){j(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(c){const d=LG(c);return d instanceof Ge&&LA(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new mc(Dc((d=c).field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Rf(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Ao((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Ao(c.values||[],!c.before)}(t.endAt)),function tG(n,e,t,r,i,s,o,a){return new $s(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function LG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dc(e.unaryFilter.field);return De.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Dc(e.unaryFilter.field);return De.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dc(e.unaryFilter.field);return De.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dc(e.unaryFilter.field);return De.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?De.create(Dc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ge.create(e.compositeFilter.filters.map(t=>LG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function Wde(n){return Fde[n]}function zde(n){return Lde[n]}function qde(n){return Vde[n]}function Cc(n){return{fieldPath:n.canonicalString()}}function Dc(n){return Tt.fromServerFormat(n.fieldPath)}function VG(n){return n instanceof De?function(e){if("=="===e.op){if(VH(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NAN"}};if(LH(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(VH(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NOT_NAN"}};if(LH(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(e.field),op:zde(e.op),value:e.value}}}(n):n instanceof Ge?function(e){const t=e.getFilters().map(r=>VG(r));return 1===t.length?t[0]:{compositeFilter:{op:qde(e.op),filters:t}}}(n):$()}function Kde(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class XA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ade(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=pG(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(t,r)=>gG(t,r))&&fc(this.baseMutations,e.baseMutations,(t,r)=>gG(t,r))}}class ZA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){j(e.mutations.length===r.length);let i=Nde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ZA(e,t,r,i)}}class JA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ko{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Kt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zG{constructor(e){this.ie=e}}function ex(n){const e=FG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?B_(e,e.limit,"L"):e}class cu{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Pf(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(eu(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?UH(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),O.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}cu.Ie=new cu;class bhe{constructor(){this.Je=new ox}addToCollectionParentIndex(e,t){return this.Je.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(Fr.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class ox{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(Ne.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Ne.comparator)).toArray()}}new Uint8Array(0);class _r{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class hu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hu(0)}static vn(){return new hu(-1)}}class Ahe{constructor(){this.changes=new xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mhe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jf(r.mutation,i,mr.empty(),gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Hf();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=yr();const o=Gf(),a=Gf();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof js)?s=s.insert(l.key,l):void 0!==c?(o.set(l.key,c.mutation.getFieldMask()),jf(c.mutation,l,c.mutation.getFieldMask(),gt.now())):o.set(l.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new Mhe(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Gf();let i=new Et((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||mr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=IG();c.forEach(p=>{if(!s.has(p)){const g=pG(t.get(p),r.get(p));null!==g&&d.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return O.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function $A(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):I.resolve(qi());let a=-1,u=s;return o.next(l=>I.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{u=u.insert(c,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,me())).next(c=>({batchId:a,changes:EG(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new O(t)).next(r=>{let i=Hf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Hf();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(l=t,c=a.child(i),new $s(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,st.newInvalidDocument(l)))});let o=Hf();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&jf(l.mutation,u,mr.empty(),gt.now()),GA(t,u)&&(o=o.insert(a,u))}),o})}}class Nhe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return I.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:St(r.createTime)}),I.resolve()}getNamedQuery(e,t){return I.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ex(r.bundledQuery),readTime:St(r.readTime)}),I.resolve();var r}}class Rhe{constructor(){this.overlays=new Et(O.comparator),this.es=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return I.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),s=t.length+1,o=new O(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Et((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=qi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return I.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JA(t,r));let s=this.es.get(t);void 0===s&&(s=me(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class ax{constructor(){this.ns=new Qe(on.ss),this.rs=new Qe(on.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new on(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new on(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new O(new Ne([])),r=new on(t,e),i=new on(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new O(new Ne([])),r=new on(t,e),i=new on(t,e+1);let s=me();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new on(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class on{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return O.comparator(e.key,t.key)||oe(e._s,t._s)}static os(e,t){return oe(e._s,t._s)||O.comparator(e.key,t.key)}}class Phe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Qe(on.ss)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new XA(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new on(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,t){return I.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new on(t,0),i=new on(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(oe);return t.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),I.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new on(new O(s),0);let a=new Qe(oe);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),I.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){j(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return I.forEach(t.mutations,i=>{const s=new on(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new on(t,0),i=this.gs.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ohe{constructor(e){this.Es=e,this.docs=new Et(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():st.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),I.resolve(r)}getAllFromCollection(e,t,r){let i=yr();const s=new O(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||kA(xH(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return I.resolve(i)}getAllFromCollectionGroup(e,t,r,i){$()}As(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Fhe(this)}getSize(e){return I.resolve(this.size)}}class Fhe extends Ahe{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Lhe{constructor(e){this.persistence=e,this.Rs=new xo(t=>ru(t),Uf),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ax,this.targetCount=0,this.vs=hu.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),I.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new hu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.Dn(t),I.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Ps.containsKey(t))}}class yW{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Lr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Lhe(this),this.indexManager=new bhe,this.remoteDocumentCache=new Ohe(r=>this.referenceDelegate.xs(r)),this.yt=new zG(t),this.Ns=new Nhe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rhe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Phe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){N("MemoryPersistence","Starting transaction:",e);const i=new Vhe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return I.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Vhe extends ode{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Fs=new ax,this.$s=null}static Bs(e){return new tv(e)}get Ls(){if(this.$s)return this.$s;throw $()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),I.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ls,r=>{const i=O.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return I.or([()=>I.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class dx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=me(),i=me();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dx(e,t.fromCache,r,i)}}class vW{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(nG(t))return I.resolve(null);let r=rr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=B_(t,null,"F"),r=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(t,a);return this.$i(t,l,o,u.readTime)?this.ki(e,B_(t,null,"F")):this.Bi(e,l,t,u)}))})))}Oi(e,t,r,i){return nG(t)||i.isEqual(q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(SA()<=Ae.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),HA(t)),this.Bi(e,o,t,function AH(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new gt(t+1,0):new gt(t,r));return new Fr(i,O.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Qe(sG(e));return t.forEach((i,s)=>{GA(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return SA()<=Ae.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",HA(t)),this.Ni.getDocumentsMatchingQuery(e,t,Fr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Bhe{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Et(oe),this.Ui=new xo(s=>ru(s),Uf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function bW(n,e){return hx.apply(this,arguments)}function hx(){return hx=v(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}),hx.apply(this,arguments)}function $he(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let p=I.resolve();return d.forEach(g=>{p=p.next(()=>l.getEntry(a,g)).next(y=>{const w=u.docVersions.get(g);j(null!==w),y.version.compareTo(w)<0&&(c.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=me();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function EW(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function jhe(n,e){const t=L(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;a.push(t.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,c.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);var y,w,b;e.targetMismatches.has(d)?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),w=g,b=c,(0===(y=p).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,g))});let u=yr(),l=me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function IW(n,e,t){let r=me(),i=me();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=yr();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(q.min())){const c=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.qi=i,s))}function Hhe(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ac(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new ko(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function xc(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=v(function*(n,e,t){const r=L(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Co(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),fx.apply(this,arguments)}function rv(n,e,t){const r=L(n);let i=q.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=L(a),d=c.Ui.get(l);return void 0!==d?I.resolve(c.qi.get(d)):c.Cs.getTargetData(u,l)}(r,o,rr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:me())).next(a=>(function TW(n,e,t){let r=n.Ki.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function iG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class _x{constructor(){this.activeTargetIds=G_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xW{constructor(){this.Lr=new _x,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _x,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zhe{Ur(e){}shutdown(){}}class kW{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Khe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Qhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);N("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(N("RestConnection","Received: ",u),u),u=>{throw hc("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+dc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${qhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new Qce;a.setWithCredentials(!0),a.listenOnce(zce.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case TA.NO_ERROR:const l=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(l)),s(l);break;case TA.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new M(C.DEADLINE_EXCEEDED,"Request time out"));break;case TA.HTTP_ERROR:const c=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d?.error;if(p&&p.status&&p.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(w)>=0?w:C.UNKNOWN}(p.status);o(new M(g,p.message))}else o(new M(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new M(C.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gce(),o=Wce(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Kce({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");N("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const p=new Khe({Hr:y=>{d?N("Connection","Not sending because WebChannel is closed:",y):(c||(N("Connection","Opening WebChannel transport."),l.open(),c=!0),N("Connection","WebChannel sending:",y),l.send(y))},Jr:()=>l.close()}),g=(y,w,b)=>{y.listen(w,D=>{try{b(D)}catch(A){setTimeout(()=>{throw A},0)}})};return g(l,k_.EventType.OPEN,()=>{d||N("Connection","WebChannel transport opened.")}),g(l,k_.EventType.CLOSE,()=>{d||(d=!0,N("Connection","WebChannel transport closed"),p.io())}),g(l,k_.EventType.ERROR,y=>{d||(d=!0,hc("Connection","WebChannel transport errored:",y),p.io(new M(C.UNAVAILABLE,"The operation could not be completed")))}),g(l,k_.EventType.MESSAGE,y=>{var w;if(!d){const b=y.data[0];j(!!b);const A=b.error||(null===(w=b[0])||void 0===w?void 0:w.error);if(A){N("Connection","WebChannel received error:",A);const E=A.status;let V=function(Q){const xt=Lt[Q];if(void 0!==xt)return wG(xt)}(E),z=A.message;void 0===V&&(V=C.INTERNAL,z="Unknown error status: "+E+" with message "+A.message),d=!0,p.io(new M(V,z)),l.close()}else N("Connection","WebChannel received:",b),p.ro(b)}}),g(o,qce.STAT_EVENT,y=>{y.stat===EH.PROXY?N("Connection","Detected buffering proxy"):y.stat===EH.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{p.so()},0),p}}function ov(){return typeof document<"u"?document:null}function ip(n){return new Ude(n,!0)}class wx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class NW{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return v(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return v(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return v(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(Dt(t.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new M(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(v(function*(){e.state=0,e.start()}))}Qo(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yhe extends NW{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function jde(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,l){return u.wt?(j(void 0===l||"string"==typeof l),Kt.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),Kt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?C.UNKNOWN:wG(u.code);return new M(l,u.message||"")}(o);t=new DG(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ki(n,r.document.name),s=St(r.document.updateTime),o=r.document.createTime?St(r.document.createTime):q.min(),a=new xn({mapValue:{fields:r.document.fields}}),u=st.newFoundDocument(i,s,o,a);t=new W_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ki(n,r.document),s=r.readTime?St(r.readTime):q.min(),o=st.newNoDocument(i,s);t=new W_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ki(n,r.document);t=new W_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new kde(r.count||0);t=new CG(r.targetId,s)}}var u;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?St(s.readTime):q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Kf(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=L_(a)?{documents:OG(i,a)}:{query:QA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=xG(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=Ic(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function Gde(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Kf(this.yt),t.removeTarget=e,this.Bo(t)}}class Xhe extends NW{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Hde(n,e){return n&&n.length>0?(j(void 0!==e),n.map(t=>function(r,i){let s=St(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=St(i)),new Sde(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.Zo(r,t)}return j(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Kf(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Qf(n,e){let t;if(e instanceof bc)t={update:RG(n,e.key,e.value)};else if(e instanceof Ec)t={delete:qf(n,e.key)};else if(e instanceof js)t={update:RG(n,e.key,e.data),updateMask:Kde(e.fieldMask)};else{if(!(e instanceof WA))return $();t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof vc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof su)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ou)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Bde(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.yt,r))};this.Bo(t)}}class Zhe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(C.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(C.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class efe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Dt(t),this.ou=!1):N("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class tfe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(v(function*(){var u;Hs(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(l){const c=L(l);c._u.add(4),yield kc(c),c.gu.set("Unknown"),c._u.delete(4),yield sp(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.gu=new efe(r,i)}}function sp(n){return Ex.apply(this,arguments)}function Ex(){return Ex=v(function*(n){if(Hs(n))for(const e of n.wu)yield e(!0)}),Ex.apply(this,arguments)}function kc(n){return Ix.apply(this,arguments)}function Ix(){return Ix=v(function*(n){for(const e of n.wu)yield e(!1)}),Ix.apply(this,arguments)}function av(n,e){const t=L(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Tx(t)?Dx(t):Nc(t).ko()&&Cx(t,e))}function op(n,e){const t=L(n),r=Nc(t);t.du.delete(e),r.ko()&&RW(t,e),0===t.du.size&&(r.ko()?r.Fo():Hs(t)&&t.gu.set("Unknown"))}function Cx(n,e){n.yu.Ot(e.targetId),Nc(n).zo(e)}function RW(n,e){n.yu.Ot(e),Nc(n).Ho(e)}function Dx(n){n.yu=new Ode({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Nc(n).start(),n.gu.uu()}function Tx(n){return Hs(n)&&!Nc(n).No()&&n.du.size>0}function Hs(n){return 0===L(n)._u.size}function PW(n){n.yu=void 0}function nfe(n){return Sx.apply(this,arguments)}function Sx(){return Sx=v(function*(n){n.du.forEach((e,t)=>{Cx(n,e)})}),Sx.apply(this,arguments)}function rfe(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=v(function*(n,e){PW(n),Tx(n)?(n.gu.hu(e),Dx(n)):n.gu.set("Unknown")}),Ax.apply(this,arguments)}function ife(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=v(function*(n,e,t){if(n.gu.set("Online"),e instanceof DG&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uv(n,r)}else if(e instanceof W_?n.yu.Kt(e):e instanceof CG?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(q.min()))try{const r=yield EW(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(Kt.EMPTY_BYTE_STRING,u.snapshotVersion)),RW(i,a);const l=new ko(u.target,a,1,u.sequenceNumber);Cx(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield uv(n,r)}var r}),xx.apply(this,arguments)}function uv(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=v(function*(n,e,t){if(!Co(e))throw e;n._u.add(1),yield kc(n),n.gu.set("Offline"),t||(t=()=>EW(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){N("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield sp(n)}))}),kx.apply(this,arguments)}function OW(n,e){return e().catch(t=>uv(n,t,e))}function Mc(n){return Mx.apply(this,arguments)}function Mx(){return Mx=v(function*(n){const e=L(n),t=Po(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;sfe(e);)try{const i=yield Hhe(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,ofe(e,i)}catch(i){yield uv(e,i)}FW(e)&&LW(e)}),Mx.apply(this,arguments)}function sfe(n){return Hs(n)&&n.fu.length<10}function ofe(n,e){n.fu.push(e);const t=Po(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function FW(n){return Hs(n)&&!Po(n).No()&&n.fu.length>0}function LW(n){Po(n).start()}function afe(n){return Nx.apply(this,arguments)}function Nx(){return Nx=v(function*(n){Po(n).eu()}),Nx.apply(this,arguments)}function ufe(n){return Rx.apply(this,arguments)}function Rx(){return Rx=v(function*(n){const e=Po(n);for(const t of n.fu)e.Xo(t.mutations)}),Rx.apply(this,arguments)}function lfe(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=v(function*(n,e,t){const r=n.fu.shift(),i=ZA.from(r,e,t);yield OW(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Mc(n)}),Px.apply(this,arguments)}function cfe(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=v(function*(n,e){var t;e&&Po(n).Yo&&(yield(t=v(function*(r,i){if(vG(s=i.code)&&s!==C.ABORTED){const o=r.fu.shift();Po(r).Mo(),yield OW(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Mc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),FW(n)&&LW(n)}),Ox.apply(this,arguments)}function VW(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=v(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=Hs(t);t._u.add(3),yield kc(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield sp(t)}),Fx.apply(this,arguments)}function Vx(){return Vx=v(function*(n,e){const t=L(n);e?(t._u.delete(2),yield sp(t)):e||(t._u.add(2),yield kc(t),t.gu.set("Unknown"))}),Vx.apply(this,arguments)}function Nc(n){return n.pu||(n.pu=function(e,t,r){const i=L(e);return i.su(),new Yhe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:nfe.bind(null,n),Zr:rfe.bind(null,n),Wo:ife.bind(null,n)}),n.wu.push(function(){var e=v(function*(t){t?(n.pu.Mo(),Tx(n)?Dx(n):n.gu.set("Unknown")):(yield n.pu.stop(),PW(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Po(n){return n.Iu||(n.Iu=function(e,t,r){const i=L(e);return i.su(),new Xhe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:afe.bind(null,n),Zr:cfe.bind(null,n),tu:ufe.bind(null,n),Zo:lfe.bind(null,n)}),n.wu.push(function(){var e=v(function*(t){t?(n.Iu.Mo(),yield Mc(n)):(yield n.Iu.stop(),n.fu.length>0&&(N("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ux{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Ux(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rc(n,e){if(Dt("AsyncQueue",`${e}: ${n}`),Co(n))return new M(C.UNAVAILABLE,`${e}: ${n}`);throw n}class Pc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||O.comparator(t.key,r.key):(t,r)=>O.comparator(t.key,r.key),this.keyedMap=Hf(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new Pc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class UW{constructor(){this.Tu=new Et(O.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Oc{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Oc(e,t,Pc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class dfe{constructor(){this.Au=void 0,this.listeners=[]}}class hfe{constructor(){this.queries=new xo(e=>rG(e),Bf),this.onlineState="Unknown",this.Ru=new Set}}function $x(){return $x=v(function*(n,e){const t=L(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new dfe),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Rc(o,`Initialization of query '${HA(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Gx(t)}),$x.apply(this,arguments)}function Hx(){return Hx=v(function*(n,e){const t=L(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Hx.apply(this,arguments)}function ffe(n,e){const t=L(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Gx(t)}function pfe(n,e,t){const r=L(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Gx(n){n.Ru.forEach(e=>{e.next()})}class Wx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jW{constructor(e){this.key=e}}class HW{constructor(e){this.key=e}}class GW{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=me(),this.mutatedKeys=me(),this.Gu=sG(e),this.Qu=new Pc(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new UW,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const p=i.get(c),g=GA(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),b=!0):this.Hu(p,g)||(r.track({type:2,doc:g}),b=!0,(u&&this.Gu(g,u)>0||l&&this.Gu(g,l)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),b=!0):p&&!g&&(r.track({type:1,doc:p}),b=!0,(u||l)&&(a=!0)),b&&(g?(o=o.add(g),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((l,c)=>function(d,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(d)-g(p)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Oc(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new UW,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=me(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new HW(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new jW(r))}),t}tc(e){this.qu=e.Hi,this.Ku=me();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Oc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class yfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _fe{constructor(e){this.key=e,this.nc=!1}}class vfe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new xo(a=>rG(a),Bf),this.rc=new Map,this.oc=new Set,this.uc=new Et(O.comparator),this.cc=new Map,this.ac=new ax,this.hc={},this.lc=new Map,this.fc=hu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function wfe(n,e){return zx.apply(this,arguments)}function zx(){return zx=v(function*(n,e){const t=gk(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Ac(t.localStore,rr(e));t.isPrimaryClient&&av(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield qx(t,e,r,"current"===a,o.resumeToken)}return i}),zx.apply(this,arguments)}function qx(n,e,t,r,i){return Kx.apply(this,arguments)}function Kx(){return Kx=v(function*(n,e,t,r,i){n._c=(d,p,g)=>{return(y=v(function*(w,b,D,A){let E=b.view.Wu(D);E.$i&&(E=yield rv(w.localStore,b.query,!1).then(({documents:Q})=>b.view.Wu(Q,E)));const V=A&&A.targetChanges.get(b.targetId),z=b.view.applyChanges(E,w.isPrimaryClient,V);return ik(w,b.targetId,z.Xu),z.snapshot}),function(w,b,D,A){return y.apply(this,arguments)})(n,d,p,g);var y};const s=yield rv(n.localStore,e,!0),o=new GW(e,s.Hi),a=o.Wu(s.documents),u=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,u);ik(n,t,l.Xu);const c=new yfe(e,t,o);return n.ic.set(e,c),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),l.snapshot}),Kx.apply(this,arguments)}function bfe(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=v(function*(n,e){const t=L(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Bf(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),op(t.remoteStore,r.targetId),Fc(t,r.targetId)}).catch(Io))):(Fc(t,r.targetId),yield xc(t.localStore,r.targetId,!0))}),Qx.apply(this,arguments)}function Yx(){return Yx=v(function*(n,e,t){const r=mk(n);try{const i=yield function(s,o){const a=L(s),u=gt.now(),l=o.reduce((p,g)=>p.add(g.key),me());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=yr(),y=me();return a.Gi.getEntries(p,l).next(w=>{g=w,g.forEach((b,D)=>{D.isValidDocument()||(y=y.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(w=>{c=w;const b=[];for(const D of o){const A=xde(D,c.get(D.key).overlayedDocument);null!=A&&b.push(new js(D.key,A,ZH(A.value.mapValue),ct.exists(!0)))}return a.mutationQueue.addMutationBatch(p,u,b,o)}).next(w=>{d=w;const b=w.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(p,w.batchId,b)})}).then(()=>({batchId:d.batchId,changes:EG(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new Et(oe)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Gs(r,i.changes),yield Mc(r.remoteStore)}catch(i){const s=Rc(i,"Failed to persist write");t.reject(s)}}),Yx.apply(this,arguments)}function WW(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=v(function*(n,e){const t=L(n);try{const r=yield jhe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?j(o.nc):i.removedDocuments.size>0&&(j(o.nc),o.nc=!1))}),yield Gs(t,r,e)}catch(r){yield Io(r)}}),Xx.apply(this,arguments)}function zW(n,e,t){const r=L(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.bu(o)&&(u=!0)}),u&&Gx(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ife(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=v(function*(n,e,t){const r=L(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Et(O.comparator);o=o.insert(s,st.newNoDocument(s,q.min()));const a=me().add(s),u=new Wf(q.min(),new Map,new Qe(oe),o,a);yield WW(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),sk(r)}else yield xc(r.localStore,e,!1).then(()=>Fc(r,e,t)).catch(Io)}),Zx.apply(this,arguments)}function Cfe(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=v(function*(n,e){const t=L(n),r=e.batch.batchId;try{const i=yield $he(t.localStore,e);rk(t,r,null),nk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gs(t,i)}catch(i){yield Io(i)}}),Jx.apply(this,arguments)}function Dfe(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=v(function*(n,e,t){const r=L(n);try{const i=yield function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);rk(r,e,t),nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gs(r,i)}catch(i){yield Io(i)}}),ek.apply(this,arguments)}function nk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function rk(n,e,t){const r=L(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Fc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||qW(n,r)})}function qW(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(op(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),sk(n))}function ik(n,e,t){for(const r of t)r instanceof jW?(n.ac.addReference(r.key,e),Sfe(n,r)):r instanceof HW?(N("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||qW(n,r.key)):$()}function Sfe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(N("SyncEngine","New document in limbo: "+t),n.oc.add(r),sk(n))}function sk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new O(Ne.fromString(e)),r=n.fc.next();n.cc.set(r,new _fe(t)),n.uc=n.uc.insert(t,r),av(n.remoteStore,new ko(rr(_c(t.path)),r,2,Lr.at))}}function Gs(n,e,t){return ok.apply(this,arguments)}function ok(){return ok=v(function*(n,e,t){const r=L(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=dx.Ci(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=v(function*(u,l){const c=L(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(l,p=>I.forEach(p.Si,g=>c.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>I.forEach(p.Di,g=>c.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!Co(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const p=d.targetId;if(!d.fromCache){const g=c.qi.get(p),w=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);c.qi=c.qi.insert(p,w)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),ok.apply(this,arguments)}function Afe(n,e){return ak.apply(this,arguments)}function ak(){return ak=v(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield bW(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new M(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gs(t,r.ji)}var i}),ak.apply(this,arguments)}function xfe(n,e){const t=L(n),r=t.cc.get(e);if(r&&r.nc)return me().add(r.key);{let i=me();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function gk(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ife.bind(null,e),e.sc.Wo=ffe.bind(null,e.eventManager),e.sc.wc=pfe.bind(null,e.eventManager),e}function mk(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dfe.bind(null,e),e}class Vfe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.yt=ip(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function wW(n,e,t,r){return new Bhe(n,e,t,r)}(this.persistence,new vW,e.initialUser,this.yt)}yc(e){return new yW(tv.Bs,this.yt)}gc(e){return new xW}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yk{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zW(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Afe.bind(null,r.syncEngine),yield function Lx(n,e){return Vx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hfe}createDatastore(e){const t=ip(e.databaseInfo.databaseId),r=new Qhe(e.databaseInfo);return new Zhe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zW(this.syncEngine,a,0),o=kW.C()?new kW:new zhe,new tfe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new vfe(r,i,s,o,a,u);return l&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(t){const r=L(t);N("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield kc(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _k(n,e,t){if(!t)throw new M(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YW(n){if(!O.isDocumentKey(n))throw new M(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XW(n){if(O.isDocumentKey(n))throw new M(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lv(n);throw new M(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const JW=new Map;class ez{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function $fe(n,e,t,r){if(!0===e&&!0===r)throw new M(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ez({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ez(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yce;switch(t.type){case"gapi":return new ede(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JW.get(e);t&&(N("ComponentProvider","Removing Datastore"),JW.delete(e),t.terminate())}(this),Promise.resolve()}}class At{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class kn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kn(this.firestore,e,this._query)}}class Yi extends kn{constructor(e,t,r){super(e,t,_c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new O(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function tz(n,e,...t){if(n=en(n),_k("collection","path",e),n instanceof ap){const r=Ne.fromString(e,...t);return XW(r),new Yi(n,null,r)}{if(!(n instanceof At||n instanceof Yi))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ne.fromString(e,...t));return XW(r),new Yi(n.firestore,null,r)}}function nz(n,e,...t){if(n=en(n),1===arguments.length&&(e=TH.R()),_k("doc","path",e),n instanceof ap){const r=Ne.fromString(e,...t);return YW(r),new At(n,null,new O(r))}{if(!(n instanceof At||n instanceof Yi))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ne.fromString(e,...t));return YW(r),new At(n.firestore,n instanceof Yi?n.converter:null,new O(r))}}class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kfe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=TH.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Rc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sz(n,e){return vk.apply(this,arguments)}function vk(){return vk=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield bW(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),vk.apply(this,arguments)}function oz(n,e){return wk.apply(this,arguments)}function wk(){return wk=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bk(n);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VW(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>VW(e.remoteStore,s)),n.onlineComponents=e}),wk.apply(this,arguments)}function bk(n){return Ek.apply(this,arguments)}function Ek(){return Ek=v(function*(n){return n.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),yield sz(n,new Vfe)),n.offlineComponents}),Ek.apply(this,arguments)}function dv(n){return Ik.apply(this,arguments)}function Ik(){return Ik=v(function*(n){return n.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),yield oz(n,new yk)),n.onlineComponents}),Ik.apply(this,arguments)}function Lc(n){return Tk.apply(this,arguments)}function Tk(){return Tk=v(function*(n){const e=yield dv(n),t=e.eventManager;return t.onListen=wfe.bind(null,e.syncEngine),t.onUnlisten=bfe.bind(null,e.syncEngine),t}),Tk.apply(this,arguments)}class npe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wx(this,"async_queue_retry"),this.Wc=()=>{const t=ov();t&&N("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ov();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ov();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new qt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return v(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Co(t))throw t;N("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Ux.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&$()}verifyOperationInProgress(){}Xc(){var e=this;return v(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Sk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ot extends ap{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new npe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dz(this),this._firestoreClient.terminate()}}function ipe(n,e){const r="string"==typeof n?n:e||"(default)",i=Pa("object"==typeof n?n:Ty(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_U("firestore");s&&function jfe(n,e,t,r={}){var i;const s=(n=xe(n,ap))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=rn.MOCK_USER;else{o=wU(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new rn(u)}n._authCredentials=new Xce(new CH(o,a))}}(i,...s)}return i}function Vt(n){return n._firestoreClient||dz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dz(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dde(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Kfe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Kt.fromBase64String(e))}catch(t){throw new M(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pu(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pz{constructor(e){this._methodName=e}}class Ak{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}const spe=/^__.*__$/;class ope{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}function mz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class fv{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(mz(this.sa)&&spe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ape{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||ip(e)}da(e,t,r,i=!1){return new fv({sa:e,methodName:t,fa:r,path:Tt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Uc(n){const e=n._freezeSettings(),t=ip(n._databaseId);return new ape(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xk(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);Mk("Data must be an object, but it was:",o,r);const a=bz(r,o);let u,l;if(s.merge)u=new mr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const p=Nk(e,d,t);if(!o.contains(p))throw new M(C.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Iz(c,p)||c.push(p)}u=new mr(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new ope(new xn(a),u,l)}function gu(n,e){if(Ez(n=en(n)))return Mk("Unsupported field value:",e,n),bz(n,e);if(n instanceof pz)return function(t,r){if(!mz(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=gu(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=en(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uG(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gt.fromDate(t);return{timestampValue:Ic(r.yt,i)}}if(t instanceof gt){const i=new gt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ic(r.yt,i)}}if(t instanceof Ak)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pu)return{bytesValue:xG(r.yt,t._byteString)};if(t instanceof At){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${lv(t)}`)}(n,e)}function bz(n,e){const t={};return RH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(n,(r,i)=>{const s=gu(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Ez(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Ak||n instanceof pu||n instanceof At||n instanceof pz)}function Mk(n,e,t){if(!Ez(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lv(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Nk(n,e,t){if((e=en(e))instanceof Vc)return e._internalPath;if("string"==typeof e)return pv(n,e);throw gv("Field path arguments must be of type string or ",n,!1,void 0,t)}const dpe=new RegExp("[~\\*/\\[\\]]");function pv(n,e,t){if(e.search(dpe)>=0)throw gv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vc(...e.split("."))._internalPath}catch{throw gv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new M(C.INVALID_ARGUMENT,a+n+u)}function Iz(n,e){return n.some(t=>t.isEqual(e))}class Rk{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hpe extends Rk{data(){return super.data()}}function mv(n,e){return"string"==typeof e?pv(n,e):e instanceof Vc?e._internalPath:e._delegate._internalPath}class ppe{convertValue(e,t="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return Ja(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Ak(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=OH(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const t=Do(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ne.fromString(e);j(UG(r));const i=new Za(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(t)||Dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $c extends Rk{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wv extends $c{data(e={}){return super.data(e)}}class jc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new mu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wv(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new wv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new wv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:gpe(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Oo extends ppe{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function cp(n,e){return function(t,r){const i=new qt;return t.asyncQueue.enqueueAndForget(v(function*(){return function Efe(n,e,t){return Yx.apply(this,arguments)}(yield function Dk(n){return dv(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Vt(n),e)}!function(n,e=!0){dc=Oa,Un(new En("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ot(new Zce(t.getProvider("auth-internal")),new tde(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),it(IH,"3.8.1",n),it(IH,"3.8.1","esm2017")}();var Epe={includeMetadataChanges:!1};function Lk(n,e){return void 0===e&&(e=Epe),new Ye(function(t){var r=function _pe(n,...e){var t,r,i;n=en(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Sk(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Sk(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof At)l=xe(n.firestore,ot),c=_c(n._key.path),u={next:d=>{e[o]&&e[o](function Fk(n,e,t){const r=t.docs.get(e._key),i=new Oo(n);return new $c(n,i,e._key,r,new mu(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=xe(n,kn);l=xe(d.firestore,ot),c=d._query;const p=new Oo(l);u={next:g=>{e[o]&&e[o](new jc(l,p,d,g))},error:e[o+1],complete:e[o+2]},function Cz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,p,g,y){const w=new cv(y),b=new Wx(p,w,g);return d.asyncQueue.enqueueAndForget(v(function*(){return function Bx(n,e){return $x.apply(this,arguments)}(yield Lc(d),b)})),()=>{w.bc(),d.asyncQueue.enqueueAndForget(v(function*(){return function jx(n,e){return Hx.apply(this,arguments)}(yield Lc(d),b)}))}}(Vt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function xpe(n,e){return void 0===e&&(e={}),function Ape(n){return Lk(n,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}(n).pipe(ae(function(t){return t.map(function(r){return function Nz(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Ev{constructor(e){return e}}const Fz="firestore",Bk=new W("angularfire2.firestore-instances");function Npe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ev(r)}}const Rpe={provide:class kpe{constructor(){return Py(Fz)}},deps:[[new Nt,Bk]]},Ppe={provide:Ev,useFactory:function Mpe(n,e){const t=Ry(Fz,n,e);return t&&new Ev(t)},deps:[[new Nt,Bk],ja]};let Ope=(()=>{class n{constructor(){it("angularfire",Wh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({providers:[Ppe,Rpe]}),n})();const Lpe=Ns(xpe,!0),Vpe=Ns(ipe,!0);class yu{constructor(e){this.fireStore=e}addProducto(e){return function ype(n,e){const t=xe(n.firestore,ot),r=nz(n),i=function Ok(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return cp(t,[xk(Uc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}(tz(this.fireStore,"ferreteria"),e)}getFerreteria(){const e=tz(this.fireStore,"ferreteria");return Lpe(e,{idField:"id"})}deleteFerreteria(e){return function mpe(n){return cp(xe(n.firestore,ot),[new Ec(n._key,ct.none())])}(nz(this.fireStore,`ferreteria/${e.id}`))}}yu.\u0275fac=function(e){return new(e||yu)(H(Ev))},yu.\u0275prov=K({token:yu,factory:yu.\u0275fac,providedIn:"root"});class dp{constructor(e,t){this.ferreteriaData=e,this.router=t,this.formProductos=new ql({producto:new Is,precio:new Is,foto:new Is})}onSubmit(){var e=this;return v(function*(){console.log(e.formProductos.value),console.log("--------------------------");const t=e.ferreteriaData.addProducto(e.formProductos.value);console.log(t),e.router.navigate(["lista"])})()}}dp.\u0275fac=function(e){return new(e||dp)(x(yu),x(Ft))},dp.\u0275cmp=Gr({type:dp,selectors:[["app-register-productos"]],decls:26,vars:1,consts:[[1,"mt-5","mx-auto","border","rounded-4"],[1,"p-4"],[1,"text-center"],[3,"formGroup"],[1,"mb-4"],[1,"mb-2"],["for","",1,""],["type","text","name","producto","formControlName","producto","placeholder","Nombre del producto",1,"form-control"],["type","text","name","precio","formControlName","precio","placeholder","Precio",1,"form-control"],["type","text","name","foto","formControlName","foto","placeholder","URL",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(he(0,"div",0)(1,"div",1)(2,"h1",2),He(3,"Registrar Productos"),ce(),he(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),He(8,"Producto"),ce()(),he(9,"div"),Ln(10,"input",7),ce()(),he(11,"div",4)(12,"div",5)(13,"label",6),He(14,"Costo"),ce()(),he(15,"div"),Ln(16,"input",8),ce()(),he(17,"div",4)(18,"div",5)(19,"label",6),He(20,"Foto"),ce()(),he(21,"div"),Ln(22,"input",9),ce()(),he(23,"div",2)(24,"button",10),_n("click",function(){return t.onSubmit()}),He(25,"Registrar"),ce()()()()()),2&e&&(so(4),Dl("formGroup",t.formProductos))},dependencies:[fy,Wl,ry,iy,Ql,Fh]});class hp{constructor(e,t){this.userService=e,this.router=t}logout(){this.userService.logout().then(()=>{this.router.navigate(["login"])}).catch(e=>console.log(e))}}hp.\u0275fac=function(e){return new(e||hp)(x(Ls),x(Ft))},hp.\u0275cmp=Gr({type:hp,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"m-5"]],template:function(e,t){1&e&&(he(0,"div",0)(1,"div")(2,"h1"),He(3,"Bienvenido al home"),ce()(),he(4,"div"),Ln(5,"app-register-productos"),ce()())},dependencies:[dp]});const $k=ae(n=>!!n);let Upe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>$k);return Hle(this.auth).pipe(Rl(1),o(i,s),ae(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(H(Ft),H(lf))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const Iv=n=>({canActivate:[Upe],data:{authGuardPipe:n}}),Lz=n=>Ii($k,ae(e=>e||n)),Vz=n=>Ii($k,ae(e=>e&&n||!0));function $pe(n,e){if(1&n){const t=function gP(){return k()}();he(0,"tbody")(1,"tr",1)(2,"td"),He(3),ce(),he(4,"td"),He(5),ce(),he(6,"td"),Ln(7,"img",6),ce(),he(8,"td")(9,"button",7),_n("click",function(){const s=function FN(n){return ue.lFrame.contextLView=n,n[8]}(t).$implicit;return function LN(n){return ue.lFrame.contextLView=null,n}(bP().onClickDelete(s))}),Ln(10,"i",8),ce()()()()}if(2&n){const t=e.$implicit;so(3),nm(t.producto),so(2),nm(t.precio),so(2),gE("src",t.foto,Ob)}}class fp{constructor(e){this.ferreteriaService=e}ngOnInit(){this.ferreteriaService.getFerreteria().subscribe(e=>{this.ferreteria=e})}onClickDelete(e){const t=this.ferreteriaService.deleteFerreteria(e);console.log(t)}}fp.\u0275fac=function(e){return new(e||fp)(x(yu))},fp.\u0275cmp=Gr({type:fp,selectors:[["app-lista"]],decls:16,vars:1,consts:[[1,"m-3","container","text-center"],[1,"text-center"],[1,"table-responsive","text-center","m-1","border","rounded-3",2,"width","90%"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["alt","","height","50px","width","auto",3,"src"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"]],template:function(e,t){1&e&&(he(0,"div",0)(1,"h1",1),He(2,"Lista de productos"),ce(),he(3,"div",2)(4,"table",3)(5,"thead")(6,"tr",1)(7,"th",4),He(8,"Producto"),ce(),he(9,"th",4),He(10,"Precio"),ce(),he(11,"th",4),He(12,"Imagen"),ce(),he(13,"th",4),He(14,"Eliminar"),ce()()(),function fP(n,e,t,r,i,s,o,a){const u=k(),l=Me(),c=n+22,d=l.firstCreatePass?function G6(n,e,t,r,i,s,o,a,u){const l=e.consts,c=gl(e,n,4,o||null,ro(l,a));nE(e,t,c,ro(l,u)),bg(e,c);const d=c.tViews=tE(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];ki(d,!1);const p=u[11].createComment("");Og(l,u,p,d),On(p,u),zg(u,u[c]=q1(p,u,p,d)),ls(d)&&Jb(l,u,d),null!=o&&eE(u,d,a)}(15,$pe,11,3,"tbody",5),ce()()()),2&e&&(so(15),Dl("ngForOf",t.ferreteria))},dependencies:[_L]});class _u{constructor(e){this.router=e}canActivate(){return"logIn"==localStorage.getItem("status")||(Yl().fire({title:"Upss :c ...",icon:"info",text:"Debes iniciar sesi\xf3n",confirmButtonText:"ok"}).then(t=>{t.isConfirmed&&this.router.navigate(["login"])}),!1)}}_u.\u0275fac=function(e){return new(e||_u)(H(Ft))},_u.\u0275prov=K({token:_u,factory:_u.\u0275fac,providedIn:"root"});class vu{canActivate(e,t){return"logOut"==localStorage.getItem("status")||(Yl().fire({title:"Upss :c ...",icon:"info",text:"Debes cerrar sesi\xf3n",confirmButtonText:"ok"}),!1)}}vu.\u0275fac=function(e){return new(e||vu)},vu.\u0275prov=K({token:vu,factory:vu.\u0275fac,providedIn:"root"});const jpe=[{path:"register",component:df,...Iv(()=>Vz(["home"])),canActivate:[vu]},{path:"login",component:cf,...Iv(()=>Vz(["home"])),canActivate:[vu]},{path:"home",component:hp,...Iv(()=>Lz(["login"])),canActivate:[_u]},{path:"lista",component:fp,...Iv(()=>Lz(["login"])),canActivate:[_u]},{path:"",pathMatch:"full",redirectTo:"login"}];class Hc{}Hc.\u0275fac=function(e){return new(e||Hc)},Hc.\u0275mod=Ut({type:Hc}),Hc.\u0275inj=Mt({imports:[lV.forRoot(jpe),lV]});class pp{constructor(e,t){this.userService=e,this.router=t}alerta(){"logIn"==localStorage.getItem("status")&&Yl().fire({title:"\xbfEst\xe1 seguro de cerrar sesi\xf3n?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si!"}).then(e=>{e.isConfirmed&&this.logout()})}logout(){this.userService.logout().then(()=>{this.router.navigate(["login"]),localStorage.setItem("status","logOut")}).catch(e=>console.log(e))}}pp.\u0275fac=function(e){return new(e||pp)(x(Ls),x(Ft))},pp.\u0275cmp=Gr({type:pp,selectors:[["app-header"]],decls:18,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],[1,"navbar-brand"],["src","https://www.certus.edu.pe/wp-content/uploads/2018/12/certus-logo-1-01-copy-3@2x.png","alt","Logo","width","105","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","gap-2"],["routerLinkActive","text-bg-primary rounded text-white","routerLink","/login",1,"nav-link","p-2","text-primary"],["routerLinkActive","text-bg-secondary rounded","routerLink","/register",1,"nav-link","p-2"],["routerLinkActive","text-bg-secondary rounded","routerLink","/home",1,"nav-link","p-2"],["routerLinkActive","text-bg-secondary rounded","routerLink","/lista",1,"nav-link","p-2"],[1,"btn","btn-outline-danger","p-2",3,"click"]],template:function(e,t){1&e&&(he(0,"nav",0)(1,"div",1)(2,"a",2),Ln(3,"img",3),ce(),he(4,"button",4),Ln(5,"span",5),ce(),he(6,"div",6)(7,"div",7)(8,"a",8),He(9,"Login"),ce(),he(10,"a",9),He(11,"Registrarse"),ce(),he(12,"a",10),He(13,"Home"),ce(),he(14,"a",11),He(15,"Lista de Productos"),ce(),he(16,"button",12),_n("click",function(){return t.alerta()}),He(17,"Logout"),ce()()()()())},dependencies:[Hl,tV]});class gp{constructor(){this.title="ejercicioAuthGuard"}ngOnInit(){localStorage.setItem("status","logOut")}}gp.\u0275fac=function(e){return new(e||gp)},gp.\u0275cmp=Gr({type:gp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&Ln(0,"app-header")(1,"router-outlet")},dependencies:[qI,pp]});const Gc_firebase={projectId:"angular2023-ca639",appId:"1:932222907957:web:604f68e7c8765daf0f237c",storageBucket:"angular2023-ca639.appspot.com",apiKey:"AIzaSyBZnC24YBIV0hEDZoqpgr8PiJlf3Br8X0k",authDomain:"angular2023-ca639.firebaseapp.com",messagingSenderId:"932222907957"};class wu{}wu.\u0275fac=function(e){return new(e||wu)},wu.\u0275mod=Ut({type:wu}),wu.\u0275inj=Mt({imports:[vI,Ute,Bte]});class Wc{}Wc.\u0275fac=function(e){return new(e||Wc)},Wc.\u0275mod=Ut({type:Wc}),Wc.\u0275inj=Mt({imports:[vI,wu]});const Uz="@firebase/database";let jk="";class Gpe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Wpe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $z=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Gpe(e)}}catch{}return new Wpe},bu=$z("localStorage"),Hk=$z("sessionStorage"),zc=new Ma("@firebase/database"),jz=function(){let n=1;return function(){return n++}}(),Hz=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,F(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new rne;t.update(e);const r=t.digest();return py.encodeByteArray(r)},mp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=mp.apply(null,r):e+="object"==typeof r?bn(r):r,e+=" "}return e};let Eu=null,Gz=!0;const an=function(...n){if(!0===Gz&&(Gz=!1,null===Eu&&!0===Hk.get("logging_enabled")&&function(n,e){F(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(zc.logLevel=Ae.VERBOSE,Eu=zc.log.bind(zc),e&&Hk.set("logging_enabled",!0)):"function"==typeof n?Eu=n:(Eu=null,Hk.remove("logging_enabled"))}(!0)),Eu){const e=mp.apply(null,n);Eu(e)}},yp=function(n){return function(...e){an(n,...e)}},Gk=function(...n){const e="FIREBASE INTERNAL ERROR: "+mp(...n);zc.error(e)},Xi=function(...n){const e=`FIREBASE FATAL ERROR: ${mp(...n)}`;throw zc.error(e),new Error(e)},jn=function(...n){const e="FIREBASE WARNING: "+mp(...n);zc.warn(e)},Cv=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Fo="[MIN_NAME]",Ws="[MAX_NAME]",Iu=function(n,e){if(n===e)return 0;if(n===Fo||e===Ws)return-1;if(e===Fo||n===Ws)return 1;{const t=Kz(n),r=Kz(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Kpe=function(n,e){return n===e?0:n<e?-1:1},_p=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+bn(e))},Wk=function(n){if("object"!=typeof n||null===n)return bn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=bn(e[r]),t+=":",t+=Wk(n[e[r]]);return t+="}",t},zz=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function un(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const qz=function(n){F(!Cv(n),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const l=[];for(u=52;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const c=l.join("");let d="";for(u=0;u<64;u+=8){let p=parseInt(c.substr(u,8),2).toString(16);1===p.length&&(p="0"+p),d+=p}return d.toLowerCase()},Zpe=new RegExp("^-?(0*)\\d{1,10}$"),Kz=function(n){if(Zpe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},qc=function(n){try{n()}catch(e){setTimeout(()=>{throw jn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},vp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class nge{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rge{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jn(e)}}let wp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Jz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nq="websocket",rq="long_polling";class qk{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function iq(n,e,t){let r;if(F("string"==typeof e,"typeof type must == string"),F("object"==typeof t,"typeof params must == object"),e===nq)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==rq)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ige(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return un(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class sge{constructor(){this.counters_={}}incrementCounter(e,t=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Hte(this.counters_)}}const Kk={},Qk={};function Yk(n){const e=n.toString();return Kk[e]||(Kk[e]=new sge),Kk[e]}class age{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lo{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yp(e),this.stats_=Yk(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),iq(t,rq,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new age(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xk((...s)=>{const[o,a,u,l,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Jz.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lo.forceAllow_=!0}static forceDisallow(){Lo.forceDisallow_=!0}static isAvailable(){return!(!Lo.forceAllow_&&(Lo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=bn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=gU(t),i=zz(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=bn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Xk{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){an("frame writing exception"),a.stack&&an(a.stack),an(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Tv=null;typeof MozWebSocket<"u"?Tv=MozWebSocket:typeof WebSocket<"u"&&(Tv=WebSocket);let Kc=(()=>{class n{constructor(t,r,i,s,o,a,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yp(this.connId),this.stats_=Yk(r),this.connURL=n.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&Jz.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),iq(t,nq,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bu.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Tv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Tv&&!n.forceDisallow_}static previouslyFailed(){return bu.isInMemoryStorage||!0===bu.get("previous_websocket_failure")}markConnectionHealthy(){bu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Vh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(F(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=bn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=zz(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),dq=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Lo,Kc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Kc&&Kc.isAvailable();let i=r&&!Kc.previouslyFailed();if(t.webSocketOnly&&(r||jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Kc];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class _q{constructor(e,t,r,i,s,o,a,u,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yp("c:"+this.id+":"),this.transportManager_=new dq(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=vp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=_p("t",e),r=_p("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=_p("t",e),r=_p("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=_p("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Gk("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),vp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vq{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class wq{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){F(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Sv extends wq{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!DC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sv}getInitialEvent(e){return F("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class $e{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ue(){return new $e("")}function _e(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vo(n){return n.pieces_.length-n.pieceNum_}function Ze(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new $e(n.pieces_,e)}function Jk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bp(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Iq(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new $e(e,0)}function dt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof $e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new $e(t,0)}function ve(n){return n.pieceNum_>=n.pieces_.length}function sr(n,e){const t=_e(n),r=_e(e);if(null===t)return e;if(t===r)return sr(Ze(n),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function eM(n,e){if(Vo(n)!==Vo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ti(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Vo(n)>Vo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class kge{constructor(e,t){this.errorPrefix_=t,this.parts_=bp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ey(this.parts_[r]);Cq(this)}}function Cq(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cu(n))}function Cu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class tM extends wq{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new tM}getInitialEvent(e){return F("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ep=1e3;let xv,Du=(()=>{class n extends vq{constructor(t,r,i,s,o,a,u,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=yp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ep,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Sv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(bn(o)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Zl,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,u=>{const l=u.d,c=u.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==c&&this.removeListen_(i,s),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Ds(t,"w")){const i=Jl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=_y(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=_y(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+bn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Gk("Unrecognized action received from server: "+bn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ep),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return v(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let u=!1,l=null;const c=function(){l?l.close():(u=!0,s())};t.realtime_={close:c,sendRequest:function(g){F(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)}};const p=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[g,y]=yield Promise.all([t.authTokenProvider_.getToken(p),t.appCheckTokenProvider_.getToken(p)]);u?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),t.authToken_=g&&g.accessToken,t.appCheckToken_=y&&y.token,l=new _q(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,w=>{jn(w+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(g){t.log_("Failed to get token: "+g),u||(t.repoInfo_.nodeAdmin&&jn(g),c())}}})()}interrupt(t){an("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){an("Resuming connection for reason: "+t),delete this.interruptReasons_[t],AC(this.interruptReasons_)&&(this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>Wk(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new $e(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){an("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){an("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+jk.replace(/\./g,"-")]=1,DC()?t["framework.cordova"]=1:bU()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Sv.getInstance().currentlyOnline();return AC(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ee{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ee(e,t)}}class Av{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ee(Fo,e),i=new Ee(Fo,t);return 0!==this.compare(r,i)}minPost(){return Ee.MIN}}class Sq extends Av{static get __EMPTY_NODE(){return xv}static set __EMPTY_NODE(e){xv=e}compare(e,t){return Iu(e.name,t.name)}isDefinedOn(e){throw Xl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Ws,xv)}makePost(e,t){return F("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ee(e,xv)}toString(){return".key"}}const Zi=new Sq;class kv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let rM,_i=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??vr.EMPTY_NODE,this.right=o??vr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return vr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return vr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class vr{constructor(e,t=vr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new vr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,_i.BLACK,null,null))}remove(e){return new vr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_i.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new kv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new kv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new kv(this.root_,null,this.comparator_,!0,e)}}function Vge(n,e){return Iu(n.name,e.name)}function nM(n,e){return Iu(n,e)}vr.EMPTY_NODE=new class Lge{copy(e,t,r,i,s){return this}insert(e,t,r){return new _i(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Aq=function(n){return"number"==typeof n?"number:"+qz(n):"string:"+n},xq=function(n){if(n.isLeafNode()){const e=n.val();F("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ds(e,".sv"),"Priority must be a string or number.")}else F(n===rM||n.isEmpty(),"priority of unexpected type.");F(n===rM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kq,Mq,Nq,Qc=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,F(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xq(this.priorityNode_)}static set __childrenNodeConstructor(t){kq=t}static get __childrenNodeConstructor(){return kq}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ve(t)?this:".priority"===_e(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=_e(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(F(".priority"!==i||1===Vo(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Aq(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?qz(this.value_):this.value_,this.lazyHash_=Hz(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(F(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return F(s>=0,"Unknown leaf type: "+r),F(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const et=new class jge extends Av{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Iu(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Ws,new Qc("[PRIORITY-POST]",Nq))}makePost(e,t){const r=Mq(e);return new Ee(t,new Qc("[PRIORITY-POST]",r))}toString(){return".priority"}},Hge=Math.log(2);class Gge{constructor(e){this.count=parseInt(Math.log(e+1)/Hge,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mv=function(n,e,t,r){n.sort(e);const i=function(u,l){const c=l-u;let d,p;if(0===c)return null;if(1===c)return d=n[u],p=t?t(d):d,new _i(p,d.node,_i.BLACK,null,null);{const g=parseInt(c/2,10)+u,y=i(u,g),w=i(g+1,l);return d=n[g],p=t?t(d):d,new _i(p,d.node,_i.BLACK,y,w)}},a=function(u){let l=null,c=null,d=n.length;const p=function(y,w){const b=d-y,D=d;d-=y;const A=i(b+1,D),E=n[b],V=t?t(E):E;g(new _i(V,E.node,w,null,A))},g=function(y){l?(l.left=y,l=y):(c=y,l=y)};for(let y=0;y<u.count;++y){const w=u.nextBitIsOne(),b=Math.pow(2,u.count-(y+1));w?p(b,_i.BLACK):(p(b,_i.BLACK),p(b,_i.RED))}return c}(new Gge(n.length));return new vr(r||e,a)};let iM;const Yc={};class zs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return F(Yc&&et,"ChildrenNode.ts has not been loaded"),iM=iM||new zs({".priority":Yc},{".priority":et}),iM}get(e){const t=Jl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof vr?t:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,t){F(e!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Mv(r,e.getCompare()):Yc;const u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;const c=Object.assign({},this.indexes_);return c[u]=a,new zs(c,l)}addToIndexes(e,t){const r=vy(this.indexes_,(i,s)=>{const o=Jl(this.indexSet_,s);if(F(o,"Missing index implementation for "+s),i===Yc){if(o.isDefinedOn(e.node)){const a=[],u=t.getIterator(Ee.Wrap);let l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),Mv(a,o.getCompare())}return Yc}{const a=t.get(e.name);let u=i;return a&&(u=u.remove(new Ee(e.name,a))),u.insert(e,e.node)}});return new zs(r,this.indexSet_)}removeFromIndexes(e,t){const r=vy(this.indexes_,i=>{if(i===Yc)return i;{const s=t.get(e.name);return s?i.remove(new Ee(e.name,s)):i}});return new zs(r,this.indexSet_)}}let Ip,pe=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xq(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ip||(Ip=new n(new vr(nM),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ip}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Ip:r}}getChild(t){const r=_e(t);return null===r?this:this.getImmediateChild(r).getChild(Ze(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(F(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ee(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Ip:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=_e(t);if(null===i)return r;{F(".priority"!==_e(t)||1===Vo(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ze(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(et,(a,u)=>{r[a]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Aq(this.getPriority().val())+":"),this.forEachChild(et,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":Hz(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ee(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ee(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Cp?-1:0}withIndex(t){if(t===Zi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Zi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(et),s=r.getIterator(et);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Zi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Cp=new class Wge extends pe{constructor(){super(new vr(nM),pe.EMPTY_NODE,zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}};function mt(n,e=null){if(null===n)return pe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),F(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Qc(n,mt(e));if(n instanceof Array){let t=pe.EMPTY_NODE;return un(n,(r,i)=>{if(Ds(n,r)&&"."!==r.substring(0,1)){const s=mt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(mt(e))}{const t=[];let r=!1;if(un(n,(o,a)=>{if("."!==o.substring(0,1)){const u=mt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new Ee(o,u)))}}),0===t.length)return pe.EMPTY_NODE;const s=Mv(t,Vge,o=>o.name,nM);if(r){const o=Mv(t,et.getCompare());return new pe(s,mt(e),new zs({".priority":o},{".priority":et}))}return new pe(s,mt(e),zs.Default)}}Object.defineProperties(Ee,{MIN:{value:new Ee(Fo,pe.EMPTY_NODE)},MAX:{value:new Ee(Ws,Cp)}}),Sq.__EMPTY_NODE=pe.EMPTY_NODE,Qc.__childrenNodeConstructor=pe,function Uge(n){rM=n}(Cp),function $ge(n){Nq=n}(Cp),function Bge(n){Mq=n}(mt);class sM extends Av{constructor(e){super(),this.indexPath_=e,F(!ve(e)&&".priority"!==_e(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Iu(e.name,t.name):s}makePost(e,t){const r=mt(e),i=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(t,i)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Cp);return new Ee(Ws,e)}toString(){return bp(this.indexPath_,0).join("/")}}const oM=new class qge extends Av{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Iu(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,t){const r=mt(e);return new Ee(t,r)}toString(){return".value"}};function Tp(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class uM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fo}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const e=new uM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pq(n){const e={};if(n.isDefault())return e;let t;if(n.index_===et?t="$priority":n.index_===oM?t="$value":n.index_===Zi?t="$key":(F(n.index_ instanceof sM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=bn(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=bn(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+bn(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=bn(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+bn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Oq(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==et&&(e.i=n.index_.toString()),e}class Rv extends vq{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Rv.getListenId_(e,r),a={};this.listens_[o]=a;const u=Pq(e._queryParams);this.restRequest_(s+".json",u,(l,c)=>{let d=c;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(s,d,!1,r),Jl(this.listens_,o)===a){let p;p=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(p,null)}})}unlisten(e,t){const r=Rv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Pq(e._queryParams),r=e._path.toString(),i=new Zl;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Uh(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Vh(a.responseText)}catch{jn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&jn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class tme{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Pv(){return{value:null,children:new Map}}function Zc(n,e,t){if(ve(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=_e(e);n.children.has(r)||n.children.set(r,Pv()),Zc(n.children.get(r),e=Ze(e),t)}}function hM(n,e,t){null!==n.value?t(e,n.value):function nme(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{hM(i,new $e(e.toString()+"/"+r),t)})}class rme{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&un(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class ome{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rme(e);const r=1e4+2e4*Math.random();vp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;un(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),vp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ni=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ni||(ni={})),ni))();function gM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ov{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ve(this.path)){if(null!=this.affectedTree.value)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $e(e));return new Ov(Ue(),t,this.revert)}}return F(_e(this.path)===e,"operationForChild called for unrelated child."),new Ov(Ze(this.path),this.affectedTree,this.revert)}}class Tu{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ni.OVERWRITE}operationForChild(e){return ve(this.path)?new Tu(this.source,Ue(),this.snap.getImmediateChild(e)):new Tu(this.source,Ze(this.path),this.snap)}}class Jc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ni.MERGE}operationForChild(e){if(ve(this.path)){const t=this.children.subtree(new $e(e));return t.isEmpty()?null:t.value?new Tu(this.source,Ue(),t.value):new Jc(this.source,Ue(),t)}return F(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jc(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Uo{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const t=_e(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function xp(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,u)=>function cme(n,e,t){if(null==e.childName||null==t.childName)throw Xl("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),i=new Ee(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,u)),o.forEach(a=>{const u=function lme(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,n.query_))})})}function Fv(n,e){return{eventCache:n,serverCache:e}}function kp(n,e,t,r){return Fv(new Uo(e,t,r),n.serverCache)}function Lq(n,e,t,r){return Fv(n.eventCache,new Uo(e,t,r))}function Lv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Su(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mM;class tt{constructor(e,t=(()=>(mM||(mM=new vr(Kpe)),mM))()){this.value=e,this.children=t}static fromObject(e){let t=new tt(null);return un(e,(r,i)=>{t=t.set(new $e(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ue(),value:this.value};if(ve(e))return null;{const r=_e(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ze(e),t);return null!=s?{path:dt(new $e(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const t=_e(e),r=this.children.get(t);return null!==r?r.subtree(Ze(e)):new tt(null)}}set(e,t){if(ve(e))return new tt(t,this.children);{const r=_e(e),s=(this.children.get(r)||new tt(null)).set(Ze(e),t),o=this.children.insert(r,s);return new tt(this.value,o)}}remove(e){if(ve(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const t=_e(e),r=this.children.get(t);if(r){const i=r.remove(Ze(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new tt(null):new tt(this.value,s)}return this}}get(e){if(ve(e))return this.value;{const t=_e(e),r=this.children.get(t);return r?r.get(Ze(e)):null}}setTree(e,t){if(ve(e))return t;{const r=_e(e),s=(this.children.get(r)||new tt(null)).setTree(Ze(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new tt(this.value,o)}}fold(e){return this.fold_(Ue(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(dt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ue(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ve(e))return null;{const s=_e(e),o=this.children.get(s);return o?o.findOnPath_(Ze(e),dt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ue(),t)}foreachOnPath_(e,t,r){if(ve(e))return this;{this.value&&r(t,this.value);const i=_e(e),s=this.children.get(i);return s?s.foreachOnPath_(Ze(e),dt(t,i),r):new tt(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(dt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class vi{constructor(e){this.writeTree_=e}static empty(){return new vi(new tt(null))}}function Mp(n,e,t){if(ve(e))return new vi(new tt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=sr(i,e);return s=s.updateChild(o,t),new vi(n.writeTree_.set(i,s))}{const i=new tt(t),s=n.writeTree_.setTree(e,i);return new vi(s)}}}function yM(n,e,t){let r=n;return un(t,(i,s)=>{r=Mp(r,dt(e,i),s)}),r}function Vq(n,e){if(ve(e))return vi.empty();{const t=n.writeTree_.setTree(e,new tt(null));return new vi(t)}}function _M(n,e){return null!=Au(n,e)}function Au(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(sr(t.path,e)):null}function Uq(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(et,(r,i)=>{e.push(new Ee(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ee(r,i.value))}),e}function Bo(n,e){if(ve(e))return n;{const t=Au(n,e);return new vi(null!=t?new tt(t):n.writeTree_.subtree(e))}}function vM(n){return n.writeTree_.isEmpty()}function ed(n,e){return Bq(Ue(),n.writeTree_,e)}function Bq(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(F(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=Bq(dt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(dt(n,".priority"),r)),t}}function Vv(n,e){return Wq(e,n)}function mme(n,e){if(n.snap)return ti(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ti(dt(n.path,t),e))return!0;return!1}function _me(n){return n.visible}function $q(n,e,t){let r=vi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)ti(t,o)?(a=sr(t,o),r=Mp(r,a,s.snap)):ti(o,t)&&(a=sr(o,t),r=Mp(r,Ue(),s.snap.getChild(a)));else{if(!s.children)throw Xl("WriteRecord should have .snap or .children");if(ti(t,o))a=sr(t,o),r=yM(r,a,s.children);else if(ti(o,t))if(a=sr(o,t),ve(a))r=yM(r,Ue(),s.children);else{const u=Jl(s.children,_e(a));if(u){const l=u.getChild(Ze(a));r=Mp(r,Ue(),l)}}}}}return r}function jq(n,e,t,r,i){if(r||i){const s=Bo(n.visibleWrites,e);return!i&&vM(s)?t:i||null!=t||_M(s,Ue())?ed($q(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(ti(l.path,e)||ti(e,l.path))},e),t||pe.EMPTY_NODE):null}{const s=Au(n.visibleWrites,e);if(null!=s)return s;{const o=Bo(n.visibleWrites,e);return vM(o)?t:null!=t||_M(o,Ue())?ed(o,t||pe.EMPTY_NODE):null}}}function Uv(n,e,t,r){return jq(n.writeTree,n.treePath,e,t,r)}function wM(n,e){return function vme(n,e,t){let r=pe.EMPTY_NODE;const i=Au(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(et,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Bo(n.visibleWrites,e);return t.forEachChild(et,(o,a)=>{const u=ed(Bo(s,new $e(o)),a);r=r.updateImmediateChild(o,u)}),Uq(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Uq(Bo(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function Hq(n,e,t,r){return function wme(n,e,t,r,i){F(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=dt(e,t);if(_M(n.visibleWrites,s))return null;{const o=Bo(n.visibleWrites,s);return vM(o)?i.getChild(t):ed(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Bv(n,e){return function Eme(n,e){return Au(n.visibleWrites,e)}(n.writeTree,dt(n.treePath,e))}function bM(n,e,t){return function bme(n,e,t,r){const i=dt(e,t),s=Au(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?ed(Bo(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Gq(n,e){return Wq(dt(n.treePath,e),n.writeTree)}function Wq(n,e){return{treePath:n,writeTree:e}}class Tme{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;F("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),F(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Tp(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function Dp(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function Xc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Xl("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Tp(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const zq=new class Sme{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class EM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Uo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Su(this.viewCache_),s=function Dme(n,e,t,r,i,s){return function Ime(n,e,t,r,i,s,o){let a;const u=Bo(n.visibleWrites,e),l=Au(u,Ue());if(null!=l)a=l;else{if(null==t)return[];a=ed(u,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=p.getNext();for(;g&&c.length<i;)0!==d(g,r)&&c.push(g),g=p.getNext();return c}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function qq(n,e,t,r,i,s){const o=e.eventCache;if(null!=Bv(r,t))return e;{let a,u;if(ve(t))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Su(e),d=wM(r,l instanceof pe?l:pe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=Uv(r,Su(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=_e(t);if(".priority"===l){F(1===Vo(t),"Can't have a priority with additional path components");const c=o.getNode();u=e.serverCache.getNode();const d=Hq(r,t,c,u);a=null!=d?n.filter.updatePriority(c,d):o.getNode()}else{const c=Ze(t);let d;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const p=Hq(r,t,o.getNode(),u);d=null!=p?o.getNode().getImmediateChild(l).updateChild(c,p):o.getNode().getImmediateChild(l)}else d=bM(r,l,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),l,d,c,i,s):o.getNode()}}return kp(e,a,o.isFullyInitialized()||ve(t),n.filter.filtersNodes())}}function $v(n,e,t,r,i,s,o,a){const u=e.serverCache;let l;const c=o?n.filter:n.filter.getIndexedFilter();if(ve(t))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(t,r);l=c.updateFullNode(u.getNode(),g,null)}else{const g=_e(t);if(!u.isCompleteForPath(t)&&Vo(t)>1)return e;const y=Ze(t),b=u.getNode().getImmediateChild(g).updateChild(y,r);l=".priority"===g?c.updatePriority(u.getNode(),b):c.updateChild(u.getNode(),g,b,y,zq,null)}const d=Lq(e,l,u.isFullyInitialized()||ve(t),c.filtersNodes());return qq(n,d,t,i,new EM(i,d,s),a)}function IM(n,e,t,r,i,s,o){const a=e.eventCache;let u,l;const c=new EM(i,e,s);if(ve(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=kp(e,l,!0,n.filter.filtersNodes());else{const d=_e(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),r),u=kp(e,l,a.isFullyInitialized(),a.isFiltered());else{const p=Ze(t),g=a.getNode().getImmediateChild(d);let y;if(ve(p))y=r;else{const w=c.getCompleteChild(d);y=null!=w?".priority"===Jk(p)&&w.getChild(Iq(p)).isEmpty()?w:w.updateChild(p,r):pe.EMPTY_NODE}u=g.equals(y)?e:kp(e,n.filter.updateChild(a.getNode(),d,y,p,c,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return u}function Kq(n,e){return n.eventCache.isCompleteForChild(e)}function Qq(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function CM(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,u=e;l=ve(t)?r:new tt(null).setTree(t,r);const c=e.serverCache.getNode();return l.children.inorderTraversal((d,p)=>{if(c.hasChild(d)){const y=Qq(0,e.serverCache.getNode().getImmediateChild(d),p);u=$v(n,u,new $e(d),y,i,s,o,a)}}),l.children.inorderTraversal((d,p)=>{const g=!e.serverCache.isCompleteForChild(d)&&null===p.value;if(!c.hasChild(d)&&!g){const w=Qq(0,e.serverCache.getNode().getImmediateChild(d),p);u=$v(n,u,new $e(d),w,i,s,o,a)}}),u}function Ume(n,e){const t=Su(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ve(e)&&!t.getImmediateChild(_e(e)).isEmpty())?t.getChild(e):null}function Zq(n,e,t,r){e.type===ni.MERGE&&null!==e.source.queryId&&(F(Su(n.viewCache_),"We should always have a full cache before handling merges"),F(Lv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function kme(n,e,t,r,i){const s=new Tme;let o,a;if(t.type===ni.OVERWRITE){const l=t;l.source.fromUser?o=IM(n,e,l.path,l.snap,r,i,s):(F(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ve(l.path),o=$v(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===ni.MERGE){const l=t;l.source.fromUser?o=function Nme(n,e,t,r,i,s,o){let a=e;return r.foreach((u,l)=>{const c=dt(t,u);Kq(e,_e(c))&&(a=IM(n,a,c,l,i,s,o))}),r.foreach((u,l)=>{const c=dt(t,u);Kq(e,_e(c))||(a=IM(n,a,c,l,i,s,o))}),a}(n,e,l.path,l.children,r,i,s):(F(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=CM(n,e,l.path,l.children,r,i,a,s))}else if(t.type===ni.ACK_USER_WRITE){const l=t;o=l.revert?function Ome(n,e,t,r,i,s){let o;if(null!=Bv(r,t))return e;{const a=new EM(r,e,i),u=e.eventCache.getNode();let l;if(ve(t)||".priority"===_e(t)){let c;if(e.serverCache.isFullyInitialized())c=Uv(r,Su(e));else{const d=e.serverCache.getNode();F(d instanceof pe,"serverChildren would be complete if leaf node"),c=wM(r,d)}l=n.filter.updateFullNode(u,c,s)}else{const c=_e(t);let d=bM(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=u.getImmediateChild(c)),l=null!=d?n.filter.updateChild(u,c,d,Ze(t),a,s):e.eventCache.getNode().hasChild(c)?n.filter.updateChild(u,c,pe.EMPTY_NODE,Ze(t),a,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Uv(r,Su(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Bv(r,Ue()),kp(e,l,o,n.filter.filtersNodes())}}(n,e,l.path,r,i,s):function Rme(n,e,t,r,i,s,o){if(null!=Bv(i,t))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ve(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return $v(n,e,t,u.getNode().getChild(t),i,s,a,o);if(ve(t)){let l=new tt(null);return u.getNode().forEachChild(Zi,(c,d)=>{l=l.set(new $e(c),d)}),CM(n,e,t,l,i,s,a,o)}return e}{let l=new tt(null);return r.foreach((c,d)=>{const p=dt(t,c);u.isCompleteForPath(p)&&(l=l.set(c,u.getNode().getChild(p)))}),CM(n,e,t,l,i,s,a,o)}}(n,e,l.path,l.affectedTree,r,i,s)}else{if(t.type!==ni.LISTEN_COMPLETE)throw Xl("Unknown operation type: "+t.type);o=function Pme(n,e,t,r,i){const s=e.serverCache;return qq(n,Lq(e,s.getNode(),s.isFullyInitialized()||ve(t),s.isFiltered()),t,r,zq,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function Mme(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function Rq(n){return{type:"value",snapshotNode:n}}(Lv(e)))}}(e,o,u),{viewCache:o,changes:u}}(n.processor_,i,e,t,r);return function xme(n,e){F(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),F(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function Jq(n,e,t,r){return function ume(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Kge(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),xp(n,i,"child_removed",e,r,t),xp(n,i,"child_added",e,r,t),xp(n,i,"child_moved",s,r,t),xp(n,i,"child_changed",e,r,t),xp(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let jv,Gv;function DM(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return F(null!=s,"SyncTree gave us an op for an invalid query."),Zq(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(Zq(o,e,t,r));return s}}function $o(n,e){let t=null;for(const r of n.views.values())t=t||Ume(r,e);return t}class s3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=function Cme(){return{visibleWrites:vi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TM(n,e,t,r,i){return function hme(n,e,t,r,i){F(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Mp(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?td(n,new Tu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ho(n,e,t=!1){const r=function pme(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function gme(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);F(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&mme(a,r.path)?i=!1:ti(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function yme(n){n.visibleWrites=$q(n.allWrites,_me,Ue()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Vq(n.visibleWrites,r.path):un(r.children,u=>{n.visibleWrites=Vq(n.visibleWrites,dt(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new tt(null);return null!=r.snap?s=s.set(Ue(),!0):un(r.children,o=>{s=s.set(new $e(o),!0)}),td(n,new Ov(r.path,s,t))}return[]}function Np(n,e,t){return td(n,new Tu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function zv(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=$o(a,sr(o,e));if(l)return l});return jq(i,e,s,t,!0)}function td(n,e){return a3(e,n.syncPointTree_,null,Vv(n.pendingWriteTree_,Ue()))}function a3(n,e,t,r){if(ve(n.path))return u3(n,e,t,r);{const i=e.get(Ue());null==t&&null!=i&&(t=$o(i,Ue()));let s=[];const o=_e(n.path),a=n.operationForChild(o),u=e.children.get(o);if(u&&a){const l=t?t.getImmediateChild(o):null,c=Gq(r,o);s=s.concat(a3(a,u,l,c))}return i&&(s=s.concat(DM(i,n,r,t))),s}}function u3(n,e,t,r){const i=e.get(Ue());null==t&&null!=i&&(t=$o(i,Ue()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=t?t.getImmediateChild(o):null,l=Gq(r,o),c=n.operationForChild(o);c&&(s=s.concat(u3(c,a,u,l)))}),i&&(s=s.concat(DM(i,n,r,t))),s}function AM(n,e){return n.tagToQueryMap.get(e)}function xM(n){const e=n.indexOf("$");return F(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new $e(n.substr(0,e))}}function kM(n,e,t){const r=n.syncPointTree_.get(e);return F(r,"Missing sync point for query tag that we're tracking"),DM(r,t,Vv(n.pendingWriteTree_,e),null)}class MM{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new MM(t)}node(){return this.node_}}class NM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=dt(this.path_,e);return new NM(this.syncTree_,t)}node(){return zv(this.syncTree_,this.path_)}}const c3=function(n,e,t){return n&&"object"==typeof n?(F(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?aye(n[".sv"],e,t):"object"==typeof n[".sv"]?uye(n[".sv"],e):void F(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},aye=function(n,e,t){if("timestamp"===n)return t.timestamp;F(!1,"Unexpected server value: "+n)},uye=function(n,e,t){n.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&F(!1,"Unexpected increment value: "+r);const i=e.node();if(F(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},RM=function(n,e,t){return PM(n,new MM(e),t)};function PM(n,e,t){const r=n.getPriority().val(),i=c3(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=c3(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Qc(a,mt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Qc(i))),o.forEachChild(et,(a,u)=>{const l=PM(u,e.getImmediateChild(a),t);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}class OM{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Kv(n,e){let t=e instanceof $e?e:new $e(e),r=n,i=_e(t);for(;null!==i;){const s=Jl(r.node.children,i)||{children:{},childCount:0};r=new OM(i,r,s),t=Ze(t),i=_e(t)}return r}function xu(n){return n.node.value}function FM(n,e){n.node.value=e,LM(n)}function h3(n){return n.node.childCount>0}function Qv(n,e){un(n.node.children,(t,r)=>{e(new OM(t,n,r))})}function f3(n,e,t,r){t&&!r&&e(n),Qv(n,i=>{f3(i,e,!0,r)}),t&&r&&e(n)}function Op(n){return new $e(null===n.parent?n.name:Op(n.parent)+"/"+n.name)}function LM(n){null!==n.parent&&function dye(n,e,t){const r=function lye(n){return void 0===xu(n)&&!h3(n)}(t),i=Ds(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,LM(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,LM(n))}(n.parent,n.name,n)}const hye=/[\[\].#$\/\u0000-\u001F\u007F]/,fye=/[\[\].#$\u0000-\u001F\u007F]/,VM=10485760,Yv=function(n){return"string"==typeof n&&0!==n.length&&!hye.test(n)},Lp=function(n,e,t){const r=t instanceof $e?new kge(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Cu(r));if("function"==typeof e)throw new Error(n+"contains a function "+Cu(r)+" with contents = "+e.toString());if(Cv(e))throw new Error(n+"contains "+e.toString()+" "+Cu(r));if("string"==typeof e&&e.length>VM/3&&Ey(e)>VM)throw new Error(n+"contains a string greater than "+VM+" utf8 bytes "+Cu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(un(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Yv(o)))throw new Error(n+" contains an invalid key ("+o+") "+Cu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mge(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ey(e),Cq(n)})(r,o),Lp(n,a,r),function Nge(n){const e=n.parts_.pop();n.byteLength_-=Ey(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Cu(r)+" in addition to actual children.")}},m3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Yv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!fye.test(n)}(n)}(t))throw new Error(function by(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class yye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vr(n,e,t){(function Xv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!eM(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function _3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(_ye(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ti(r,e)||ti(e,r))}function _ye(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Eu&&an("event: "+t.toString()),qc(r)}}}class wye{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pv(),this.transactionQueueTree_=new OM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function w3(n){const t=n.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Up(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:w3(n)})}function b3(n,e,t,r,i){n.dataUpdateCount++;const s=new $e(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=vy(t,l=>mt(l));o=function eye(n,e,t,r){const i=AM(n,r);if(i){const s=xM(i),o=s.path,a=s.queryId,u=sr(o,e),l=tt.fromObject(t);return kM(n,o,new Jc(gM(a),u,l))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=mt(t);o=function o3(n,e,t,r){const i=AM(n,r);if(null!=i){const s=xM(i),o=s.path,a=s.queryId,u=sr(o,e);return kM(n,o,new Tu(gM(a),u,t))}return[]}(n.serverSyncTree_,s,u,i)}else if(r){const u=vy(t,l=>mt(l));o=function Xme(n,e,t){const r=tt.fromObject(t);return td(n,new Jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=mt(t);o=Np(n.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=rd(n,s)),Vr(n.eventQueue_,a,o)}function E3(n,e){$M(n,"connected",e),!1===e&&function Dye(n){nd(n,"onDisconnectEvents");const e=Up(n),t=Pv();hM(n.onDisconnect_,Ue(),(i,s)=>{const o=function(n,e,t,r){return PM(e,new NM(t,n),r)}(i,s,n.serverSyncTree_,e);Zc(t,i,o)});let r=[];hM(t,Ue(),(i,s)=>{r=r.concat(Np(n.serverSyncTree_,i,s));const o=function WM(n,e){const t=Op(D3(n,e)),r=Kv(n.transactionQueueTree_,e);return function cye(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{zM(n,i)}),zM(n,r),f3(r,i=>{zM(n,i)}),t}(n,i);rd(n,o)}),n.onDisconnect_=Pv(),Vr(n.eventQueue_,Ue(),r)}(n)}function $M(n,e,t){const r=new $e("/.info/"+e),i=mt(t);n.infoData_.updateSnapshot(r,i);const s=Np(n.infoSyncTree_,r,i);Vr(n.eventQueue_,r,s)}function Zv(n){return n.nextWriteId_++}function nd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),an(t,...e)}function GM(n,e,t){return zv(n.serverSyncTree_,e,t)||pe.EMPTY_NODE}function Jv(n,e=n.transactionQueueTree_){if(e||ew(n,e),xu(e)){const t=T3(n,e);F(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Nye(n,e,t){const r=t.map(l=>l.currentWriteId),i=GM(n,e,r);let s=i;const o=i.hash();for(let l=0;l<t.length;l++){const c=t[l];F(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=sr(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;n.server_.put(u.toString(),a,l=>{nd(n,"transaction put response",{path:u.toString(),status:l});let c=[];if("ok"===l){const d=[];for(let p=0;p<t.length;p++)t[p].status=2,c=c.concat(Ho(n.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&d.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();ew(n,Kv(n.transactionQueueTree_,e)),Jv(n,n.transactionQueueTree_),Vr(n.eventQueue_,e,c);for(let p=0;p<d.length;p++)qc(d[p])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{jn("transaction at "+u.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}rd(n,e)}},o)}(n,Op(e),t)}else h3(e)&&Qv(e,t=>{Jv(n,t)})}function rd(n,e){const t=D3(n,e),r=Op(t);return function Rye(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],l=sr(t,u.path);let d,c=!1;if(F(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,d=u.abortReason,i=i.concat(Ho(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,d="maxretry",i=i.concat(Ho(n.serverSyncTree_,u.currentWriteId,!0));else{const p=GM(n,u.path,o);u.currentInputSnapshot=p;const g=e[a].update(p.val());if(void 0!==g){Lp("transaction failed: Data returned ",g,u.path);let y=mt(g);"object"==typeof g&&null!=g&&Ds(g,".priority")||(y=y.updatePriority(p.getPriority()));const b=u.currentWriteId,D=Up(n),A=RM(y,p,D);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=A,u.currentWriteId=Zv(n),o.splice(o.indexOf(b),1),i=i.concat(TM(n.serverSyncTree_,u.path,A,u.currentWriteId,u.applyLocally)),i=i.concat(Ho(n.serverSyncTree_,b,!0))}else c=!0,d="nodata",i=i.concat(Ho(n.serverSyncTree_,u.currentWriteId,!0))}Vr(n.eventQueue_,t,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}ew(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)qc(r[a]);Jv(n,n.transactionQueueTree_)}(n,T3(n,t),r),r}function D3(n,e){let t,r=n.transactionQueueTree_;for(t=_e(e);null!==t&&void 0===xu(r);)r=Kv(r,t),t=_e(e=Ze(e));return r}function T3(n,e){const t=[];return S3(n,e,t),t.sort((r,i)=>r.order-i.order),t}function S3(n,e,t){const r=xu(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Qv(e,i=>{S3(n,i,t)})}function ew(n,e){const t=xu(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,FM(e,t.length>0?t:void 0)}Qv(e,r=>{ew(n,r)})}function zM(n,e){const t=xu(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(F(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(F(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ho(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?FM(e,void 0):t.length=s+1,Vr(n.eventQueue_,Op(e),i);for(let o=0;o<r.length;o++)qc(r[o])}}const qM=function(n,e){const t=Fye(n),r=t.namespace;return"firebase.com"===t.domain&&Xi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qk(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new $e(t.pathString)}},Fye=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let c=n.indexOf("/");-1===c&&(c=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(c,d)),c<d&&(i=function Pye(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(c,d)));const p=function Oye(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(l+1),10)):l=e.length;const g=e.slice(0,l);if("localhost"===g.toLowerCase())t="localhost";else if(g.split(".").length<=2)t=g;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),t=e.substring(y+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Ur{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ve(this._path)?null:Jk(this._path)}get ref(){return new wi(this._repo,this._path)}get _queryIdentifier(){const e=Oq(this._queryParams),t=Wk(e);return"{}"===t?"default":t}get _queryObject(){return Oq(this._queryParams)}isEqual(e){if(!((e=en(e))instanceof Ur))return!1;const t=this._repo===e._repo,r=eM(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Age(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class wi extends Ur{constructor(e,t){super(e,t,new uM,!1)}get parent(){const e=Iq(this._path);return null===e?null:new wi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function jme(n){F(!jv,"__referenceConstructor has already been defined"),jv=n})(wi),function qme(n){F(!Gv,"__referenceConstructor has already been defined"),Gv=n}(wi);const QM={};class n_e{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bye(n,e,t){if(n.stats_=Yk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Rv(n.repoInfo_,(r,i,s,o)=>{b3(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>E3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Du(n.repoInfo_,e,(r,i,s,o)=>{b3(n,r,i,s,o)},r=>{E3(n,r)},r=>{!function Eye(n,e){un(e,(t,r)=>{$M(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function oge(n,e){const t=n.toString();return Qk[t]||(Qk[t]=e()),Qk[t]}(n.repoInfo_,()=>new ome(n.stats_,n.server_)),n.infoData_=new tme,n.infoSyncTree_=new s3({startListening:(r,i,s,o)=>{let a=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=Np(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$M(n,"connected",!1),n.serverSyncTree_=new s3({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,u)=>{const l=o(a,u);Vr(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wi(this._repo,Ue())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Jye(n,e){const t=QM[e];(!t||t[n.key]!==n)&&Xi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function C3(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xi("Cannot call "+e+" on a deleted database.")}}function r_e(n=Ty(),e){const t=Pa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=_U("database");r&&function i_e(n,e,t,r={}){(n=en(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new wp(wp.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:wU(r.mockUserToken,n.app.options.projectId);s=new wp(o)}!function Xye(n,e,t,r){n.repoInfo_=new qk(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Du.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Du.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function s_e(n){(function Hpe(n){jk=n})(Oa),Un(new En("database",(e,{instanceIdentifier:t})=>function Zye(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,l,o=qM(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=qM(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const c=i&&u?new wp(wp.OWNER):new rge(n.name,n.options,e);m3("Invalid Firebase Database URL",o),ve(o.path)||Xi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function e_e(n,e,t,r){let i=QM[e.name];i||(i={},QM[e.name]=i);let s=i[n.toURLString()];return s&&Xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new wye(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,c,new nge(n.name,t));return new n_e(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),it(Uz,"0.14.1",n),it(Uz,"0.14.1","esm2017")}();class YM{constructor(e){return e}}const F3="database",XM=new W("angularfire2.database-instances");function c_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new YM(r)}}const d_e={provide:class u_e{constructor(){return Py(F3)}},deps:[[new Nt,XM]]},h_e={provide:YM,useFactory:function l_e(n,e){const t=Ry(F3,n,e);return t&&new YM(t)},deps:[[new Nt,XM],ja]};let f_e=(()=>{class n{constructor(){it("angularfire",Wh.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Mt({providers:[h_e,d_e]}),n})();const g_e=Ns(r_e,!0);class sd{}sd.\u0275fac=function(e){return new(e||sd)},sd.\u0275mod=Ut({type:sd,bootstrap:[gp]}),sd.\u0275inj=Mt({imports:[XX,Hc,wu,Wc,function loe(n,...e){return{ngModule:uoe,providers:[{provide:DD,useFactory:aoe(n),multi:!0,deps:[rt,Xn,Oy,...e]}]}}(()=>coe(Gc_firebase)),function jle(n,...e){return{ngModule:$le,providers:[{provide:BS,useFactory:Vle(n),multi:!0,deps:[rt,Xn,Oy,Fy,[new Nt,Hy],...e]}]}}(()=>Wle()),function p_e(n,...e){return{ngModule:f_e,providers:[{provide:XM,useFactory:c_e(n),multi:!0,deps:[rt,Xn,Oy,Fy,[new Nt,US],[new Nt,Hy],...e]}]}}(()=>g_e()),function Fpe(n,...e){return{ngModule:Ope,providers:[{provide:Bk,useFactory:Npe(n),multi:!0,deps:[rt,Xn,Oy,Fy,[new Nt,US],[new Nt,Hy],...e]}]}}(()=>Vpe())]}),YX().bootstrapModule(sd).catch(n=>console.error(n))},226:function(od){od.exports=function(){"use strict";var ie={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Te=h=>{const f={};for(const m in h)f[h[m]]="swal2-"+h[m];return f},T=Te(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ts=Te(["success","warning","info","question","error"]),zo="SweetAlert2:",Nu=h=>h.charAt(0).toUpperCase()+h.slice(1),ln=h=>{console.warn(`${zo} ${"object"==typeof h?h.join(" "):h}`)},bi=h=>{console.error(`${zo} ${h}`)},Ei=[],jp=(h,f)=>{(h=>{Ei.includes(h)||(Ei.push(h),ln(h))})(`"${h}" is deprecated and will be removed in the next major release. Please use "${f}" instead.`)},qo=h=>"function"==typeof h?h():h,ad=h=>h&&"function"==typeof h.toPromise,Ko=h=>ad(h)?h.toPromise():Promise.resolve(h),ud=h=>h&&Promise.resolve(h)===h,kt=()=>document.body.querySelector(`.${T.container}`),wr=h=>{const f=kt();return f?f.querySelector(h):null},Qt=h=>wr(`.${h}`),Fe=()=>Qt(T.popup),ns=()=>Qt(T.icon),Pu=()=>Qt(T.title),Ou=()=>Qt(T["html-container"]),qs=()=>Qt(T.image),Ks=()=>Qt(T["progress-steps"]),Fu=()=>Qt(T["validation-message"]),Gn=()=>wr(`.${T.actions} .${T.confirm}`),rs=()=>wr(`.${T.actions} .${T.cancel}`),Br=()=>wr(`.${T.actions} .${T.deny}`),Ii=()=>wr(`.${T.loader}`),Qs=()=>Qt(T.actions),Ye=()=>Qt(T.footer),Qo=()=>Qt(T["timer-progress-bar"]),ld=()=>Qt(T.close),cd=()=>{const h=Array.from(Fe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((m,_)=>{const S=parseInt(m.getAttribute("tabindex")),Y=parseInt(_.getAttribute("tabindex"));return S>Y?1:S<Y?-1:0}),f=Array.from(Fe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(m=>"-1"!==m.getAttribute("tabindex"));return(h=>{const f=[];for(let m=0;m<h.length;m++)-1===f.indexOf(h[m])&&f.push(h[m]);return f})(h.concat(f)).filter(m=>or(m))},br=()=>ii(document.body,T.shown)&&!ii(document.body,T["toast-shown"])&&!ii(document.body,T["no-backdrop"]),Yo=()=>Fe()&&ii(Fe(),T.toast),nt={previousBodyPadding:null},Pe=(h,f)=>{if(h.textContent="",f){const _=(new DOMParser).parseFromString(f,"text/html");Array.from(_.querySelector("head").childNodes).forEach(S=>{h.appendChild(S)}),Array.from(_.querySelector("body").childNodes).forEach(S=>{S instanceof HTMLVideoElement||S instanceof HTMLAudioElement?h.appendChild(S.cloneNode(!0)):h.appendChild(S)})}},ii=(h,f)=>{if(!f)return!1;const m=f.split(/\s+/);for(let _=0;_<m.length;_++)if(!h.classList.contains(m[_]))return!1;return!0},Mn=(h,f,m)=>{if(((h,f)=>{Array.from(h.classList).forEach(m=>{!Object.values(T).includes(m)&&!Object.values(ts).includes(m)&&!Object.values(f.showClass).includes(m)&&h.classList.remove(m)})})(h,f),f.customClass&&f.customClass[m]){if("string"!=typeof f.customClass[m]&&!f.customClass[m].forEach)return void ln(`Invalid type of customClass.${m}! Expected string or iterable object, got "${typeof f.customClass[m]}"`);Se(h,f.customClass[m])}},Gp=(h,f)=>{if(!f)return null;switch(f){case"select":case"textarea":case"file":return h.querySelector(`.${T.popup} > .${T[f]}`);case"checkbox":return h.querySelector(`.${T.popup} > .${T.checkbox} input`);case"radio":return h.querySelector(`.${T.popup} > .${T.radio} input:checked`)||h.querySelector(`.${T.popup} > .${T.radio} input:first-child`);case"range":return h.querySelector(`.${T.popup} > .${T.range} input`);default:return h.querySelector(`.${T.popup} > .${T.input}`)}},dd=h=>{if(h.focus(),"file"!==h.type){const f=h.value;h.value="",h.value=f}},hd=(h,f,m)=>{!h||!f||("string"==typeof f&&(f=f.split(/\s+/).filter(Boolean)),f.forEach(_=>{Array.isArray(h)?h.forEach(S=>{m?S.classList.add(_):S.classList.remove(_)}):m?h.classList.add(_):h.classList.remove(_)}))},Se=(h,f)=>{hd(h,f,!0)},si=(h,f)=>{hd(h,f,!1)},ss=(h,f)=>{const m=Array.from(h.children);for(let _=0;_<m.length;_++){const S=m[_];if(S instanceof HTMLElement&&ii(S,f))return S}},Xo=(h,f,m)=>{m===`${parseInt(m)}`&&(m=parseInt(m)),m||0===parseInt(m)?h.style[f]="number"==typeof m?`${m}px`:m:h.style.removeProperty(f)},Yt=function(h){h.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},cn=h=>{h.style.display="none"},ow=(h,f,m,_)=>{const S=h.querySelector(f);S&&(S.style[m]=_)},Lu=function(h,f){f?Yt(h,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):cn(h)},or=h=>!(!h||!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)),aw=h=>h.scrollHeight>h.clientHeight,fd=h=>{const f=window.getComputedStyle(h),m=parseFloat(f.getPropertyValue("animation-duration")||"0"),_=parseFloat(f.getPropertyValue("transition-duration")||"0");return m>0||_>0},pd=function(h){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const m=Qo();or(m)&&(f&&(m.style.transition="none",m.style.width="100%"),setTimeout(()=>{m.style.transition=`width ${h/1e3}s linear`,m.style.width="0%"},10))},we={},uw=h=>new Promise(f=>{if(!h)return f();const m=window.scrollX,_=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{we.previousActiveElement instanceof HTMLElement?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus(),f()},100),window.scrollTo(m,_)}),lw=()=>typeof window>"u"||typeof document>"u",cw=`\n <div aria-labelledby="${T.title}" aria-describedby="${T["html-container"]}" class="${T.popup}" tabindex="-1">\n   <button type="button" class="${T.close}"></button>\n   <ul class="${T["progress-steps"]}"></ul>\n   <div class="${T.icon}"></div>\n   <img class="${T.image}" />\n   <h2 class="${T.title}" id="${T.title}"></h2>\n   <div class="${T["html-container"]}" id="${T["html-container"]}"></div>\n   <input class="${T.input}" />\n   <input type="file" class="${T.file}" />\n   <div class="${T.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${T.select}"></select>\n   <div class="${T.radio}"></div>\n   <label for="${T.checkbox}" class="${T.checkbox}">\n     <input type="checkbox" />\n     <span class="${T.label}"></span>\n   </label>\n   <textarea class="${T.textarea}"></textarea>\n   <div class="${T["validation-message"]}" id="${T["validation-message"]}"></div>\n   <div class="${T.actions}">\n     <div class="${T.loader}"></div>\n     <button type="button" class="${T.confirm}"></button>\n     <button type="button" class="${T.deny}"></button>\n     <button type="button" class="${T.cancel}"></button>\n   </div>\n   <div class="${T.footer}"></div>\n   <div class="${T["timer-progress-bar-container"]}">\n     <div class="${T["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),as=()=>{we.currentInstance.resetValidationMessage()},oN=h=>{const f=(()=>{const h=kt();return!!h&&(h.remove(),si([document.documentElement,document.body],[T["no-backdrop"],T["toast-shown"],T["has-column"]]),!0)})();if(lw())return void bi("SweetAlert2 requires document to initialize");const m=document.createElement("div");m.className=T.container,f&&Se(m,T["no-transition"]),Pe(m,cw);const _=(h=>"string"==typeof h?document.querySelector(h):h)(h.target);_.appendChild(m),(h=>{const f=Fe();f.setAttribute("role",h.toast?"alert":"dialog"),f.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||f.setAttribute("aria-modal","true")})(h),(h=>{"rtl"===window.getComputedStyle(h).direction&&Se(kt(),T.rtl)})(_),(()=>{const h=Fe(),f=ss(h,T.input),m=ss(h,T.file),_=h.querySelector(`.${T.range} input`),S=h.querySelector(`.${T.range} output`),Y=ss(h,T.select),Xe=h.querySelector(`.${T.checkbox} input`),ur=ss(h,T.textarea);f.oninput=as,m.onchange=as,Y.onchange=as,Xe.onchange=as,ur.oninput=as,_.oninput=()=>{as(),S.value=_.value},_.onchange=()=>{as(),S.value=_.value}})()},Vu=(h,f)=>{h instanceof HTMLElement?f.appendChild(h):"object"==typeof h?zp(h,f):h&&Pe(f,h)},zp=(h,f)=>{h.jquery?qp(f,h):Pe(f,h.toString())},qp=(h,f)=>{if(h.textContent="",0 in f)for(let m=0;m in f;m++)h.appendChild(f[m].cloneNode(!0));else h.appendChild(f.cloneNode(!0))},Ys=(()=>{if(lw())return!1;const h=document.createElement("div"),f={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m)&&typeof h.style[m]<"u")return f[m];return!1})(),dw=(h,f)=>{const m=Qs(),_=Ii();f.showConfirmButton||f.showDenyButton||f.showCancelButton?Yt(m):cn(m),Mn(m,f,"actions"),function Qp(h,f,m){const _=Gn(),S=Br(),Y=rs();Uu(_,"confirm",m),Uu(S,"deny",m),Uu(Y,"cancel",m),function Yp(h,f,m,_){_.buttonsStyling?(Se([h,f,m],T.styled),_.confirmButtonColor&&(h.style.backgroundColor=_.confirmButtonColor,Se(h,T["default-outline"])),_.denyButtonColor&&(f.style.backgroundColor=_.denyButtonColor,Se(f,T["default-outline"])),_.cancelButtonColor&&(m.style.backgroundColor=_.cancelButtonColor,Se(m,T["default-outline"]))):si([h,f,m],T.styled)}(_,S,Y,m),m.reverseButtons&&(m.toast?(h.insertBefore(Y,_),h.insertBefore(S,_)):(h.insertBefore(Y,f),h.insertBefore(S,f),h.insertBefore(_,f)))}(m,_,f),Pe(_,f.loaderHtml),Mn(_,f,"loader")};function Uu(h,f,m){Lu(h,m[`show${Nu(f)}Button`],"inline-block"),Pe(h,m[`${f}ButtonText`]),h.setAttribute("aria-label",m[`${f}ButtonAriaLabel`]),h.className=T[f],Mn(h,m,`${f}Button`),Se(h,m[`${f}ButtonClass`])}const Er=(h,f)=>{const m=kt();m&&(function hw(h,f){"string"==typeof f?h.style.background=f:f||Se([document.documentElement,document.body],T["no-backdrop"])}(m,f.backdrop),function fw(h,f){f in T?Se(h,T[f]):(ln('The "position" parameter is not valid, defaulting to "center"'),Se(h,T.center))}(m,f.position),function pw(h,f){if(f&&"string"==typeof f){const m=`grow-${f}`;m in T&&Se(h,T[m])}}(m,f.grow),Mn(m,f,"container"))};const gw=["input","file","range","select","radio","checkbox","textarea"],mw=h=>{if(!Nn[h.input])return void bi(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${h.input}"`);const f=Ir(h.input),m=Nn[h.input](f,h);Yt(f),h.inputAutoFocus&&setTimeout(()=>{dd(m)})},oi=(h,f)=>{const m=Gp(Fe(),h);if(m){(h=>{for(let f=0;f<h.attributes.length;f++){const m=h.attributes[f].name;["type","value","style"].includes(m)||h.removeAttribute(m)}})(m);for(const _ in f)m.setAttribute(_,f[_])}},_w=h=>{const f=Ir(h.input);"object"==typeof h.customClass&&Se(f,h.customClass.input)},It=(h,f)=>{(!h.placeholder||f.inputPlaceholder)&&(h.placeholder=f.inputPlaceholder)},$r=(h,f,m)=>{if(m.inputLabel){h.id=T.input;const _=document.createElement("label"),S=T["input-label"];_.setAttribute("for",h.id),_.className=S,"object"==typeof m.customClass&&Se(_,m.customClass.inputLabel),_.innerText=m.inputLabel,f.insertAdjacentElement("beforebegin",_)}},Ir=h=>ss(Fe(),T[h]||T.input),gd=(h,f)=>{["string","number"].includes(typeof f)?h.value=`${f}`:ud(f)||ln(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof f}"`)},Nn={};Nn.text=Nn.email=Nn.password=Nn.number=Nn.tel=Nn.url=(h,f)=>(gd(h,f.inputValue),$r(h,h,f),It(h,f),h.type=f.input,h),Nn.file=(h,f)=>($r(h,h,f),It(h,f),h),Nn.range=(h,f)=>{const m=h.querySelector("input"),_=h.querySelector("output");return gd(m,f.inputValue),m.type=f.input,gd(_,f.inputValue),$r(m,h,f),h},Nn.select=(h,f)=>{if(h.textContent="",f.inputPlaceholder){const m=document.createElement("option");Pe(m,f.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,h.appendChild(m)}return $r(h,h,f),h},Nn.radio=h=>(h.textContent="",h),Nn.checkbox=(h,f)=>{const m=Gp(Fe(),"checkbox");m.value="1",m.id=T.checkbox,m.checked=Boolean(f.inputValue);const _=h.querySelector("span");return Pe(_,f.inputPlaceholder),m},Nn.textarea=(h,f)=>{gd(h,f.inputValue),It(h,f),$r(h,h,f);return setTimeout(()=>{if("MutationObserver"in window){const _=parseInt(window.getComputedStyle(Fe()).width);new MutationObserver(()=>{const Y=h.offsetWidth+(_=>parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight))(h);Fe().style.width=Y>_?`${Y}px`:null}).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};const vw=(h,f)=>{const m=Ou();Mn(m,f,"htmlContainer"),f.html?(Vu(f.html,m),Yt(m,"block")):f.text?(m.textContent=f.text,Yt(m,"block")):cn(m),((h,f)=>{const m=Fe(),_=ie.innerParams.get(h),S=!_||f.input!==_.input;gw.forEach(Y=>{const Xe=ss(m,T[Y]);oi(Y,f.inputAttributes),Xe.className=T[Y],S&&cn(Xe)}),f.input&&(S&&mw(f),_w(f))})(h,f)},Xs=(h,f)=>{for(const m in ts)f.icon!==m&&si(h,ts[m]);Se(h,ts[f.icon]),bw(h,f),ww(),Mn(h,f,"icon")},ww=()=>{const h=Fe(),f=window.getComputedStyle(h).getPropertyValue("background-color"),m=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _=0;_<m.length;_++)m[_].style.backgroundColor=f},eg=(h,f)=>{let _,m=h.innerHTML;f.iconHtml?_=tg(f.iconHtml):"success"===f.icon?(_='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',m=m.replace(/ style=".*?"/g,"")):_="error"===f.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':tg({question:"?",warning:"!",info:"i"}[f.icon]),m.trim()!==_.trim()&&Pe(h,_)},bw=(h,f)=>{if(f.iconColor){h.style.color=f.iconColor,h.style.borderColor=f.iconColor;for(const m of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ow(h,m,"backgroundColor",f.iconColor);ow(h,".swal2-success-ring","borderColor",f.iconColor)}},tg=h=>`<div class="${T["icon-content"]}">${h}</div>`,Iw=(h,f)=>{h.className=`${T.popup} ${or(h)?f.showClass.popup:""}`,f.toast?(Se([document.documentElement,document.body],T["toast-shown"]),Se(h,T.toast)):Se(h,T.modal),Mn(h,f,"popup"),"string"==typeof f.customClass&&Se(h,f.customClass),f.icon&&Se(h,T[`icon-${f.icon}`])},yt=h=>{const f=document.createElement("li");return Se(f,T["progress-step"]),Pe(f,h),f},Dw=h=>{const f=document.createElement("li");return Se(f,T["progress-step-line"]),h.progressStepsDistance&&Xo(f,"width",h.progressStepsDistance),f},ju=(h,f)=>{((h,f)=>{const m=kt(),_=Fe();f.toast?(Xo(m,"width",f.width),_.style.width="100%",_.insertBefore(Ii(),ns())):Xo(_,"width",f.width),Xo(_,"padding",f.padding),f.color&&(_.style.color=f.color),f.background&&(_.style.background=f.background),cn(Fu()),Iw(_,f)})(0,f),Er(0,f),((h,f)=>{const m=Ks();f.progressSteps&&0!==f.progressSteps.length?(Yt(m),m.textContent="",f.currentProgressStep>=f.progressSteps.length&&ln("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),f.progressSteps.forEach((_,S)=>{const Y=yt(_);if(m.appendChild(Y),S===f.currentProgressStep&&Se(Y,T["active-progress-step"]),S!==f.progressSteps.length-1){const Xe=Dw(f);m.appendChild(Xe)}})):cn(m)})(0,f),((h,f)=>{const m=ie.innerParams.get(h),_=ns();m&&f.icon===m.icon?(eg(_,f),Xs(_,f)):f.icon||f.iconHtml?f.icon&&-1===Object.keys(ts).indexOf(f.icon)?(bi(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${f.icon}"`),cn(_)):(Yt(_),eg(_,f),Xs(_,f),Se(_,f.showClass.icon)):cn(_)})(h,f),((h,f)=>{const m=qs();f.imageUrl?(Yt(m,""),m.setAttribute("src",f.imageUrl),m.setAttribute("alt",f.imageAlt),Xo(m,"width",f.imageWidth),Xo(m,"height",f.imageHeight),m.className=T.image,Mn(m,f,"image")):cn(m)})(0,f),((h,f)=>{const m=Pu();Lu(m,f.title||f.titleText,"block"),f.title&&Vu(f.title,m),f.titleText&&(m.innerText=f.titleText),Mn(m,f,"title")})(0,f),((h,f)=>{const m=ld();Pe(m,f.closeButtonHtml),Mn(m,f,"closeButton"),Lu(m,f.showCloseButton),m.setAttribute("aria-label",f.closeButtonAriaLabel)})(0,f),vw(h,f),dw(0,f),((h,f)=>{const m=Ye();Lu(m,f.footer),f.footer&&Vu(f.footer,m),Mn(m,f,"footer")})(0,f),"function"==typeof f.didRender&&f.didRender(Fe())};function Be(){const h=ie.innerParams.get(this);if(!h)return;const f=ie.domCache.get(this);cn(f.loader),Yo()?h.icon&&Yt(ns()):yd(f),si([f.popup,f.actions],T.loading),f.popup.removeAttribute("aria-busy"),f.popup.removeAttribute("data-loading"),f.confirmButton.disabled=!1,f.denyButton.disabled=!1,f.cancelButton.disabled=!1}const yd=h=>{const f=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));f.length?Yt(f[0],"inline-block"):!or(Gn())&&!or(Br())&&!or(rs())&&cn(h.actions)};const rg=()=>Gn()&&Gn().click(),Ci=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Hu=h=>{h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},Gu=(h,f)=>{const m=cd();if(m.length)return(h+=f)===m.length?h=0:-1===h&&(h=m.length-1),void m[h].focus();Fe().focus()},R=["ArrowRight","ArrowDown"],Wu=["ArrowLeft","ArrowUp"],re=(h,f,m)=>{const _=ie.innerParams.get(h);_&&(f.isComposing||229===f.keyCode||(_.stopKeydownPropagation&&f.stopPropagation(),"Enter"===f.key?Le(h,f,_):"Tab"===f.key?Sw(f):[...R,...Wu].includes(f.key)?uN(f.key):"Escape"===f.key&&Aw(f,_,m)))},Le=(h,f,m)=>{if(qo(m.allowEnterKey)&&f.target&&h.getInput()&&f.target instanceof HTMLElement&&f.target.outerHTML===h.getInput().outerHTML){if(["textarea","file"].includes(m.input))return;rg(),f.preventDefault()}},Sw=h=>{const f=h.target,m=cd();let _=-1;for(let S=0;S<m.length;S++)if(f===m[S]){_=S;break}Gu(_,h.shiftKey?-1:1),h.stopPropagation(),h.preventDefault()},uN=h=>{const f=Gn(),m=Br(),_=rs();if(document.activeElement instanceof HTMLElement&&![f,m,_].includes(document.activeElement))return;const Y=R.includes(h)?"nextElementSibling":"previousElementSibling";let Xe=document.activeElement;for(let ur=0;ur<Qs().children.length;ur++){if(Xe=Xe[Y],!Xe)return;if(Xe instanceof HTMLButtonElement&&or(Xe))break}Xe instanceof HTMLButtonElement&&Xe.focus()},Aw=(h,f,m)=>{qo(f.allowEscapeKey)&&(h.preventDefault(),m(Ci.esc))};var Di={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const xw=()=>{Array.from(document.body.children).forEach(f=>{f.hasAttribute("data-previous-aria-hidden")?(f.setAttribute("aria-hidden",f.getAttribute("data-previous-aria-hidden")),f.removeAttribute("data-previous-aria-hidden")):f.removeAttribute("aria-hidden")})},lN=()=>{const h=navigator.userAgent,f=!!h.match(/iPad/i)||!!h.match(/iPhone/i),m=!!h.match(/WebKit/i);f&&m&&!h.match(/CriOS/i)&&Fe().scrollHeight>window.innerHeight-44&&(kt().style.paddingBottom="44px")},Ti=()=>{const h=kt();let f;h.ontouchstart=m=>{f=cN(m)},h.ontouchmove=m=>{f&&(m.preventDefault(),m.stopPropagation())}},cN=h=>{const f=h.target,m=kt();return!dN(h)&&!hN(h)&&(f===m||!aw(m)&&f instanceof HTMLElement&&"INPUT"!==f.tagName&&"TEXTAREA"!==f.tagName&&!(aw(Ou())&&Ou().contains(f)))},dN=h=>h.touches&&h.touches.length&&"stylus"===h.touches[0].touchType,hN=h=>h.touches&&h.touches.length>1,Mw=()=>{null===nt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(nt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${nt.previousBodyPadding+(()=>{const h=document.createElement("div");h.className=T["scrollbar-measure"],document.body.appendChild(h);const f=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),f})()}px`)};function ig(h,f,m,_){Yo()?Zo(h,_):(uw(m).then(()=>Zo(h,_)),Hu(we)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(f.setAttribute("style","display:none !important"),f.removeAttribute("class"),f.innerHTML=""):f.remove(),br()&&(null!==nt.previousBodyPadding&&(document.body.style.paddingRight=`${nt.previousBodyPadding}px`,nt.previousBodyPadding=null),(()=>{if(ii(document.body,T.iosfix)){const h=parseInt(document.body.style.top,10);si(document.body,T.iosfix),document.body.style.top="",document.body.scrollTop=-1*h}})(),xw()),function gN(){si([document.documentElement,document.body],[T.shown,T["height-auto"],T["no-backdrop"],T["toast-shown"]])}()}function dn(h){h=K(h);const f=Di.swalPromiseResolve.get(this),m=mN(this);this.isAwaitingPromise()?h.isDismissed||(zu(this),f(h)):m&&f(h)}const mN=h=>{const f=Fe();if(!f)return!1;const m=ie.innerParams.get(h);if(!m||ii(f,m.hideClass.popup))return!1;si(f,m.showClass.popup),Se(f,m.hideClass.popup);const _=kt();return si(_,m.showClass.backdrop),Se(_,m.hideClass.backdrop),_N(h,f,m),!0};const zu=h=>{h.isAwaitingPromise()&&(ie.awaitingPromise.delete(h),ie.innerParams.get(h)||h._destroy())},K=h=>typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h),_N=(h,f,m)=>{const _=kt(),S=Ys&&fd(f);"function"==typeof m.willClose&&m.willClose(f),S?Mt(h,f,_,m.returnFocus,m.didClose):ig(h,_,m.returnFocus,m.didClose)},Mt=(h,f,m,_,S)=>{we.swalCloseEventFinishedCallback=ig.bind(null,h,m,_,S),f.addEventListener(Ys,function(Y){Y.target===f&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback)})},Zo=(h,f)=>{setTimeout(()=>{"function"==typeof f&&f.bind(h.params)(),h._destroy()})};function sg(h,f,m){const _=ie.domCache.get(h);f.forEach(S=>{_[S].disabled=m})}function vd(h,f){if(h)if("radio"===h.type){const _=h.parentNode.parentNode.querySelectorAll("input");for(let S=0;S<_.length;S++)_[S].disabled=f}else h.disabled=f}const Zs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Z=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],bd={},Pw=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],zn=h=>Object.prototype.hasOwnProperty.call(Zs,h),Ed=h=>-1!==Z.indexOf(h),ug=h=>bd[h],qe=h=>{zn(h)||ln(`Unknown parameter "${h}"`)},vN=h=>{Pw.includes(h)&&ln(`The parameter "${h}" is incompatible with toasts`)},wN=h=>{ug(h)&&jp(h,ug(h))};const Id=h=>{const f={};return Object.keys(h).forEach(m=>{Ed(m)?f[m]=h[m]:ln(`Invalid parameter to update: ${m}`)}),f};const Ow=h=>{lg(h),delete h.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},lg=h=>{h.isAwaitingPromise()?(Cd(ie,h),ie.awaitingPromise.set(h,!0)):(Cd(Di,h),Cd(ie,h))},Cd=(h,f)=>{for(const m in h)h[m].delete(f)};var Dd=Object.freeze({__proto__:null,hideLoading:Be,disableLoading:Be,getInput:function We(h){const f=ie.innerParams.get(h||this),m=ie.domCache.get(h||this);return m?Gp(m.popup,f.input):null},close:dn,isAwaitingPromise:function Ve(){return!!ie.awaitingPromise.get(this)},rejectPromise:function yN(h){const f=Di.swalPromiseReject.get(this);zu(this),f&&f(h)},handleAwaitingPromise:zu,closePopup:dn,closeModal:dn,closeToast:dn,enableButtons:function Nw(){sg(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Rw(){sg(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function og(){vd(this.getInput(),!1)},disableInput:function qu(){vd(this.getInput(),!0)},showValidationMessage:function wd(h){const f=ie.domCache.get(this),m=ie.innerParams.get(this);Pe(f.validationMessage,h),f.validationMessage.className=T["validation-message"],m.customClass&&m.customClass.validationMessage&&Se(f.validationMessage,m.customClass.validationMessage),Yt(f.validationMessage);const _=this.getInput();_&&(_.setAttribute("aria-invalid",!0),_.setAttribute("aria-describedby",T["validation-message"]),dd(_),Se(_,T.inputerror))},resetValidationMessage:function ag(){const h=ie.domCache.get(this);h.validationMessage&&cn(h.validationMessage);const f=this.getInput();f&&(f.removeAttribute("aria-invalid"),f.removeAttribute("aria-describedby"),si(f,T.inputerror))},update:function Jo(h){const f=Fe(),m=ie.innerParams.get(this);if(!f||ii(f,m.hideClass.popup))return void ln("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const _=Id(h),S=Object.assign({},m,_);ju(this,S),ie.innerParams.set(this,S),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})},_destroy:function Ku(){const h=ie.domCache.get(this),f=ie.innerParams.get(this);f?(h.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),"function"==typeof f.didDestroy&&f.didDestroy(),Ow(this)):lg(this)}});const jr=h=>{let f=Fe();f||new ls,f=Fe();const m=Ii();Yo()?cn(ns()):Js(f,h),Yt(m),f.setAttribute("data-loading","true"),f.setAttribute("aria-busy","true"),f.focus()},Js=(h,f)=>{const m=Qs(),_=Ii();!f&&or(Gn())&&(f=Gn()),Yt(m),f&&(cn(f),_.setAttribute("data-button-to-replace",f.className)),_.parentNode.insertBefore(_,f),Se([h,m],T.loading)},cg=h=>h.checked?1:0,Ce=h=>h.checked?h.value:null,Qu=h=>h.files.length?null!==h.getAttribute("multiple")?h.files:h.files[0]:null,Td=(h,f)=>{const m=Fe(),_=S=>{Lw[f.input](m,Sd(S),f)};ad(f.inputOptions)||ud(f.inputOptions)?(jr(Gn()),Ko(f.inputOptions).then(S=>{h.hideLoading(),_(S)})):"object"==typeof f.inputOptions?_(f.inputOptions):bi("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof f.inputOptions)},ea=(h,f)=>{const m=h.getInput();cn(m),Ko(f.inputValue).then(_=>{m.value="number"===f.input?`${parseFloat(_)||0}`:`${_}`,Yt(m),m.focus(),h.hideLoading()}).catch(_=>{bi(`Error in inputValue promise: ${_}`),m.value="",Yt(m),m.focus(),h.hideLoading()})},Lw={select:(h,f,m)=>{const _=ss(h,T.select),S=(Y,Xe,ur)=>{const Pn=document.createElement("option");Pn.value=ur,Pe(Pn,Xe),Pn.selected=dg(ur,m.inputValue),Y.appendChild(Pn)};f.forEach(Y=>{const Xe=Y[0],ur=Y[1];if(Array.isArray(ur)){const Pn=document.createElement("optgroup");Pn.label=Xe,Pn.disabled=!1,_.appendChild(Pn),ur.forEach(aa=>S(Pn,aa[1],aa[0]))}else S(_,ur,Xe)}),_.focus()},radio:(h,f,m)=>{const _=ss(h,T.radio);f.forEach(Y=>{const Xe=Y[0],ur=Y[1],Pn=document.createElement("input"),aa=document.createElement("label");Pn.type="radio",Pn.name=T.radio,Pn.value=Xe,dg(Xe,m.inputValue)&&(Pn.checked=!0);const _g=document.createElement("span");Pe(_g,ur),_g.className=T.label,aa.appendChild(Pn),aa.appendChild(_g),_.appendChild(aa)});const S=_.querySelectorAll("input");S.length&&S[0].focus()}},Sd=h=>{const f=[];return typeof Map<"u"&&h instanceof Map?h.forEach((m,_)=>{let S=m;"object"==typeof S&&(S=Sd(S)),f.push([_,S])}):Object.keys(h).forEach(m=>{let _=h[m];"object"==typeof _&&(_=Sd(_)),f.push([m,_])}),f},dg=(h,f)=>f&&f.toString()===h.toString(),Vw=(h,f)=>{const m=ie.innerParams.get(h);if(!m.input)return void bi(`The "input" parameter is needed to be set when using returnInputValueOn${Nu(f)}`);const _=((h,f)=>{const m=h.getInput();if(!m)return null;switch(f.input){case"checkbox":return cg(m);case"radio":return Ce(m);case"file":return Qu(m);default:return f.inputAutoTrim?m.value.trim():m.value}})(h,m);m.inputValidator?Hr(h,_,f):h.getInput().checkValidity()?"deny"===f?Dr(h,_):na(h,_):(h.enableButtons(),h.showValidationMessage(m.validationMessage))},Hr=(h,f,m)=>{const _=ie.innerParams.get(h);h.disableInput(),Promise.resolve().then(()=>Ko(_.inputValidator(f,_.validationMessage))).then(Y=>{h.enableButtons(),h.enableInput(),Y?h.showValidationMessage(Y):"deny"===m?Dr(h,f):na(h,f)})},Dr=(h,f)=>{const m=ie.innerParams.get(h||void 0);m.showLoaderOnDeny&&jr(Br()),m.preDeny?(ie.awaitingPromise.set(h||void 0,!0),Promise.resolve().then(()=>Ko(m.preDeny(f,m.validationMessage))).then(S=>{!1===S?(h.hideLoading(),zu(h)):h.close({isDenied:!0,value:typeof S>"u"?f:S})}).catch(S=>ta(h||void 0,S))):h.close({isDenied:!0,value:f})},ke=(h,f)=>{h.close({isConfirmed:!0,value:f})},ta=(h,f)=>{h.rejectPromise(f)},na=(h,f)=>{const m=ie.innerParams.get(h||void 0);m.showLoaderOnConfirm&&jr(),m.preConfirm?(h.resetValidationMessage(),ie.awaitingPromise.set(h||void 0,!0),Promise.resolve().then(()=>Ko(m.preConfirm(f,m.validationMessage))).then(S=>{or(Fu())||!1===S?(h.hideLoading(),zu(h)):ke(h,typeof S>"u"?f:S)}).catch(S=>ta(h||void 0,S))):ke(h,f)},hg=(h,f,m)=>{f.popup.onclick=()=>{const _=ie.innerParams.get(h);_&&(ai(_)||_.timer||_.input)||m(Ci.close)}},ai=h=>h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton;let Ai=!1;const Uw=h=>{h.popup.onmousedown=()=>{h.container.onmouseup=function(f){h.container.onmouseup=void 0,f.target===h.container&&(Ai=!0)}}},Gr=h=>{h.container.onmousedown=()=>{h.popup.onmouseup=function(f){h.popup.onmouseup=void 0,(f.target===h.popup||h.popup.contains(f.target))&&(Ai=!0)}}},Bw=(h,f,m)=>{f.container.onclick=_=>{const S=ie.innerParams.get(h);Ai?Ai=!1:_.target===f.container&&qo(S.allowOutsideClick)&&m(Ci.backdrop)}},xd=h=>h instanceof Element||(h=>"object"==typeof h&&h.jquery)(h);const hn=()=>{if(we.timeout)return(()=>{const h=Qo(),f=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";const m=parseInt(window.getComputedStyle(h).width);h.style.width=f/m*100+"%"})(),we.timeout.stop()},Oe=()=>{if(we.timeout){const h=we.timeout.start();return pd(h),h}};let Rn=!1;const Tr={};const de=h=>{for(let f=h.target;f&&f!==document;f=f.parentNode)for(const m in Tr){const _=f.getAttribute(m);if(_)return void Tr[m].fire({template:_})}};var at=Object.freeze({__proto__:null,isValidParameter:zn,isUpdatableParameter:Ed,isDeprecatedParameter:ug,argsToParams:h=>{const f={};return"object"!=typeof h[0]||xd(h[0])?["title","html","icon"].forEach((m,_)=>{const S=h[_];"string"==typeof S||xd(S)?f[m]=S:void 0!==S&&bi(`Unexpected type of ${m}! Expected "string" or "Element", got ${typeof S}`)}):Object.assign(f,h[0]),f},getContainer:kt,getPopup:Fe,getTitle:Pu,getHtmlContainer:Ou,getImage:qs,getIcon:ns,getIconContent:()=>Qt(T["icon-content"]),getInputLabel:()=>Qt(T["input-label"]),getCloseButton:ld,getActions:Qs,getConfirmButton:Gn,getDenyButton:Br,getCancelButton:rs,getLoader:Ii,getFooter:Ye,getTimerProgressBar:Qo,getFocusableElements:cd,getValidationMessage:Fu,getProgressSteps:Ks,isLoading:()=>Fe().hasAttribute("data-loading"),isVisible:()=>or(Fe()),clickConfirm:rg,clickDeny:()=>Br()&&Br().click(),clickCancel:()=>rs()&&rs().click(),fire:function $w(){const h=this;for(var f=arguments.length,m=new Array(f),_=0;_<f;_++)m[_]=arguments[_];return new h(...m)},mixin:function pg(h){return class f extends(this){_main(_,S){return super._main(_,Object.assign({},h,S))}}},showLoading:jr,enableLoading:jr,getTimerLeft:()=>we.timeout&&we.timeout.getTimerLeft(),stopTimer:hn,resumeTimer:Oe,toggleTimer:()=>{const h=we.timeout;return h&&(h.running?hn():Oe())},increaseTimer:h=>{if(we.timeout){const f=we.timeout.increase(h);return pd(f,!0),f}},isTimerRunning:()=>we.timeout&&we.timeout.isRunning(),bindClickHandler:function B(){Tr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Rn||(document.body.addEventListener("click",de),Rn=!0)}});class Sr{constructor(f,m){this.callback=f,this.remaining=m,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(f){const m=this.running;return m&&this.stop(),this.remaining+=f,m&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const xi=["swal-title","swal-html","swal-footer"],to=h=>{const f={};return Array.from(h.querySelectorAll("swal-param")).forEach(_=>{ar(_,["name","value"]);const S=_.getAttribute("name"),Y=_.getAttribute("value");f[S]="boolean"==typeof Zs[S]?"false"!==Y:"object"==typeof Zs[S]?JSON.parse(Y):Y}),f},ht=h=>{const f={};return Array.from(h.querySelectorAll("swal-function-param")).forEach(_=>{const S=_.getAttribute("name"),Y=_.getAttribute("value");f[S]=new Function(`return ${Y}`)()}),f},Yu=h=>{const f={};return Array.from(h.querySelectorAll("swal-button")).forEach(_=>{ar(_,["type","color","aria-label"]);const S=_.getAttribute("type");f[`${S}ButtonText`]=_.innerHTML,f[`show${Nu(S)}Button`]=!0,_.hasAttribute("color")&&(f[`${S}ButtonColor`]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(f[`${S}ButtonAriaLabel`]=_.getAttribute("aria-label"))}),f},Xu=h=>{const f={},m=h.querySelector("swal-image");return m&&(ar(m,["src","width","height","alt"]),m.hasAttribute("src")&&(f.imageUrl=m.getAttribute("src")),m.hasAttribute("width")&&(f.imageWidth=m.getAttribute("width")),m.hasAttribute("height")&&(f.imageHeight=m.getAttribute("height")),m.hasAttribute("alt")&&(f.imageAlt=m.getAttribute("alt"))),f},ge=h=>{const f={},m=h.querySelector("swal-icon");return m&&(ar(m,["type","color"]),m.hasAttribute("type")&&(f.icon=m.getAttribute("type")),m.hasAttribute("color")&&(f.iconColor=m.getAttribute("color")),f.iconHtml=m.innerHTML),f},kd=h=>{const f={},m=h.querySelector("swal-input");m&&(ar(m,["type","label","placeholder","value"]),f.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(f.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(f.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(f.inputValue=m.getAttribute("value")));const _=Array.from(h.querySelectorAll("swal-input-option"));return _.length&&(f.inputOptions={},_.forEach(S=>{ar(S,["value"]);const Y=S.getAttribute("value");f.inputOptions[Y]=S.innerHTML})),f},ra=(h,f)=>{const m={};for(const _ in f){const S=f[_],Y=h.querySelector(S);Y&&(ar(Y,[]),m[S.replace(/^swal-/,"")]=Y.innerHTML.trim())}return m},gg=h=>{const f=xi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(m=>{const _=m.tagName.toLowerCase();f.includes(_)||ln(`Unrecognized element <${_}>`)})},ar=(h,f)=>{Array.from(h.attributes).forEach(m=>{-1===f.indexOf(m.name)&&ln([`Unrecognized attribute "${m.name}" on <${h.tagName.toLowerCase()}>.`,f.length?`Allowed attributes are: ${f.join(", ")}`:"To set the value, use HTML within the element."])})},ia=h=>{const f=kt(),m=Fe();"function"==typeof h.willOpen&&h.willOpen(m);const S=window.getComputedStyle(document.body).overflowY;mg(f,m,h),setTimeout(()=>{Wr(f,m)},10),br()&&(sa(f,h.scrollbarPadding,S),Array.from(document.body.children).forEach(f=>{f===kt()||f.contains(kt())||(f.hasAttribute("aria-hidden")&&f.setAttribute("data-previous-aria-hidden",f.getAttribute("aria-hidden")),f.setAttribute("aria-hidden","true"))})),!Yo()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),"function"==typeof h.didOpen&&setTimeout(()=>h.didOpen(m)),si(f,T["no-transition"])},us=h=>{const f=Fe();if(h.target!==f)return;const m=kt();f.removeEventListener(Ys,us),m.style.overflowY="auto"},Wr=(h,f)=>{Ys&&fd(f)?(h.style.overflowY="hidden",f.addEventListener(Ys,us)):h.style.overflowY="auto"},sa=(h,f,m)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ii(document.body,T.iosfix)){const f=document.body.scrollTop;document.body.style.top=-1*f+"px",Se(document.body,T.iosfix),Ti(),lN()}})(),f&&"hidden"!==m&&Mw(),setTimeout(()=>{h.scrollTop=0})},mg=(h,f,m)=>{Se(h,m.showClass.backdrop),f.style.setProperty("opacity","0","important"),Yt(f,"grid"),setTimeout(()=>{Se(f,m.showClass.popup),f.style.removeProperty("opacity")},10),Se([document.documentElement,document.body],T.shown),m.heightAuto&&m.backdrop&&!m.toast&&Se([document.documentElement,document.body],T["height-auto"])};var Ke={email:(h,f)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid email address"),url:(h,f)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid URL")};function yg(h){(function IN(h){h.inputValidator||Object.keys(Ke).forEach(f=>{h.input===f&&(h.inputValidator=Ke[f])})})(h),h.showLoaderOnConfirm&&!h.preConfirm&&ln("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Md(h){(!h.target||"string"==typeof h.target&&!document.querySelector(h.target)||"string"!=typeof h.target&&!h.target.appendChild)&&(ln('Target parameter is not valid, defaulting to "body"'),h.target="body")}(h),"string"==typeof h.title&&(h.title=h.title.split("\n").join("<br />")),oN(h)}let qn;class ui{constructor(){if(typeof window>"u")return;qn=this;for(var f=arguments.length,m=new Array(f),_=0;_<f;_++)m[_]=arguments[_];const S=Object.freeze(this.constructor.argsToParams(m));Object.defineProperties(this,{params:{value:S,writable:!1,enumerable:!0,configurable:!0}});const Y=qn._main(qn.params);ie.promise.set(this,Y)}_main(f){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(h=>{!1===h.backdrop&&h.allowOutsideClick&&ln('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const f in h)qe(f),h.toast&&vN(f),wN(f)})(Object.assign({},m,f)),we.currentInstance&&(we.currentInstance._destroy(),br()&&xw()),we.currentInstance=qn;const _=pn(f,m);yg(_),Object.freeze(_),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);const S=CN(qn);return ju(qn,_),ie.innerParams.set(qn,_),no(qn,S,_)}then(f){return ie.promise.get(this).then(f)}finally(f){return ie.promise.get(this).finally(f)}}const no=(h,f,m)=>new Promise((_,S)=>{const Y=Xe=>{h.close({isDismissed:!0,dismiss:Xe})};Di.swalPromiseResolve.set(h,_),Di.swalPromiseReject.set(h,S),f.confirmButton.onclick=()=>{(h=>{const f=ie.innerParams.get(h);h.disableButtons(),f.input?Vw(h,"confirm"):na(h,!0)})(h)},f.denyButton.onclick=()=>{(h=>{const f=ie.innerParams.get(h);h.disableButtons(),f.returnInputValueOnDeny?Vw(h,"deny"):Dr(h,!1)})(h)},f.cancelButton.onclick=()=>{((h,f)=>{h.disableButtons(),f(Ci.cancel)})(h,Y)},f.closeButton.onclick=()=>{Y(Ci.close)},((h,f,m)=>{ie.innerParams.get(h).toast?hg(h,f,m):(Uw(f),Gr(f),Bw(h,f,m))})(h,f,Y),((h,f,m,_)=>{Hu(f),m.toast||(f.keydownHandler=S=>re(h,S,_),f.keydownTarget=m.keydownListenerCapture?window:Fe(),f.keydownListenerCapture=m.keydownListenerCapture,f.keydownTarget.addEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!0)})(h,we,m,Y),((h,f)=>{"select"===f.input||"radio"===f.input?Td(h,f):["text","email","number","tel","textarea"].includes(f.input)&&(ad(f.inputValue)||ud(f.inputValue))&&(jr(Gn()),ea(h,f))})(h,m),ia(m),Kn(we,m,Y),Ar(f,m),setTimeout(()=>{f.container.scrollTop=0})}),pn=(h,f)=>{const m=(h=>{const f="string"==typeof h.template?document.querySelector(h.template):h.template;if(!f)return{};const m=f.content;return gg(m),Object.assign(to(m),ht(m),Yu(m),Xu(m),ge(m),kd(m),ra(m,xi))})(h),_=Object.assign({},Zs,f,m,h);return _.showClass=Object.assign({},Zs.showClass,_.showClass),_.hideClass=Object.assign({},Zs.hideClass,_.hideClass),_},CN=h=>{const f={popup:Fe(),container:kt(),actions:Qs(),confirmButton:Gn(),denyButton:Br(),cancelButton:rs(),loader:Ii(),closeButton:ld(),validationMessage:Fu(),progressSteps:Ks()};return ie.domCache.set(h,f),f},Kn=(h,f,m)=>{const _=Qo();cn(_),f.timer&&(h.timeout=new Sr(()=>{m("timer"),delete h.timeout},f.timer),f.timerProgressBar&&(Yt(_),Mn(_,f,"timerProgressBar"),setTimeout(()=>{h.timeout&&h.timeout.running&&pd(f.timer)})))},Ar=(h,f)=>{if(!f.toast){if(!qo(f.allowEnterKey))return void oa();Nd(h,f)||Gu(-1,1)}},Nd=(h,f)=>f.focusDeny&&or(h.denyButton)?(h.denyButton.focus(),!0):f.focusCancel&&or(h.cancelButton)?(h.cancelButton.focus(),!0):!(!f.focusConfirm||!or(h.confirmButton)||(h.confirmButton.focus(),0)),oa=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const h=new Date,f=localStorage.getItem("swal-initiation");f?(h.getTime()-Date.parse(f))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(()=>{m.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${h}`)}Object.assign(ui.prototype,Dd),Object.assign(ui,at),Object.keys(Dd).forEach(h=>{ui[h]=function(){if(qn)return qn[h](...arguments)}}),ui.DismissReason=Ci,ui.version="11.7.1";const ls=ui;return ls.default=ls,ls}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ie,ri){var Te=ie.createElement("style");if(ie.getElementsByTagName("head")[0].appendChild(Te),Te.styleSheet)Te.styleSheet.disabled||(Te.styleSheet.cssText=ri);else try{Te.innerHTML=ri}catch{Te.innerText=ri}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}},od=>{od(od.s=278)}]);